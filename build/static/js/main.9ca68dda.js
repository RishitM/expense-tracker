/*! For license information please see main.9ca68dda.js.LICENSE.txt */
(()=>{"use strict";var e={214:e=>{function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){const i=r<.5?r*(1+n):r+n-r*n,s=2*r-i,o=t(s,i,e+1/3),a=t(s,i,e),l=t(s,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*l)<<8}const r="[-+]?\\d*\\.?\\d+",i=r+"%";function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}let l;function u(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function h(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function d(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;const f=function(){void 0===l&&(l={rgb:new RegExp("rgb"+s(r,r,r)),rgba:new RegExp("rgba("+a(r,r,r,r)+"|"+o(r,r,r,r)+")"),hsl:new RegExp("hsl"+s(r,i,i)),hsla:new RegExp("hsla("+a(r,i,i,r)+"|"+o(r,i,i,r)+")"),hwb:new RegExp("hwb"+s(r,i,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return l}();let p;if(p=f.hex6.exec(e))return parseInt(p[1]+"ff",16)>>>0;const g=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=g?g:(p=f.rgb.exec(e))?(u(p[1])<<24|u(p[2])<<16|u(p[3])<<8|255)>>>0:(p=f.rgba.exec(e))?void 0!==p[6]?(u(p[6])<<24|u(p[7])<<16|u(p[8])<<8|h(p[9]))>>>0:(u(p[2])<<24|u(p[3])<<16|u(p[4])<<8|h(p[5]))>>>0:(p=f.hex3.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+"ff",16)>>>0:(p=f.hex8.exec(e))?parseInt(p[1],16)>>>0:(p=f.hex4.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+p[4]+p[4],16)>>>0:(p=f.hsl.exec(e))?(255|n(c(p[1]),d(p[2]),d(p[3])))>>>0:(p=f.hsla.exec(e))?void 0!==p[6]?(n(c(p[6]),d(p[7]),d(p[8]))|h(p[9]))>>>0:(n(c(p[2]),d(p[3]),d(p[4]))|h(p[5]))>>>0:(p=f.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){const e=Math.round(255*n/(n+r));return e<<24|e<<16|e<<8}const i=t(0,1,e+1/3)*(1-n-r)+n,s=t(0,1,e)*(1-n-r)+n,o=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*i)<<24|Math.round(255*s)<<16|Math.round(255*o)<<8}(c(p[1]),d(p[2]),d(p[3])))>>>0:null}},349:(e,t,n)=>{function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return e.filter((function(t,n){return e.lastIndexOf(t)===n}))}function a(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var s=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var l in s){var u=s[l],c=e[l];if(c&&u){if(Array.isArray(c)){e[l]=o(c.concat(u));continue}if(Array.isArray(u)){e[l]=o([c].concat(i(u)));continue}if("object"===r(u)){e[l]=a({},c,u);continue}}e[l]=u}}return e}n.r(t),n.d(t,{assignStyle:()=>a,camelCaseProperty:()=>d,cssifyDeclaration:()=>g,cssifyObject:()=>m,hyphenateProperty:()=>p,isPrefixedProperty:()=>v,isPrefixedValue:()=>b,isUnitlessProperty:()=>N,normalizeProperty:()=>O,resolveArrayValue:()=>L,unprefixProperty:()=>D,unprefixValue:()=>F});var l=/-([a-z])/g,u=/^Ms/g,c={};function h(e){return e[1].toUpperCase()}function d(e){if(c.hasOwnProperty(e))return c[e];var t=e.replace(l,h).replace(u,"ms");return c[e]=t,t}var f=n(630);function p(e){return(0,f.default)(e)}function g(e,t){return p(e)+":"+t}function m(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=g(n,r))}return t}var y=/^(Webkit|Moz|O|ms)/;function v(e){return y.test(e)}var w=/-webkit-|-moz-|-ms-/;function b(e){return"string"===typeof e&&w.test(e)}var _={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},S=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],I=["Webkit","ms","Moz","O"];function E(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var k=0,T=S.length;k<T;++k){var C=S[k];_[C]=!0;for(var x=0,A=I.length;x<A;++x)_[E(I[x],C)]=!0}for(var R in _)_[p(R)]=!0;function N(e){return _.hasOwnProperty(e)}var P=/^(ms|Webkit|Moz|O)/;function D(e){var t=e.replace(P,"");return t.charAt(0).toLowerCase()+t.slice(1)}function O(e){return D(d(e))}function L(e,t){return t.join(";"+p(e)+":")}var M=/(-ms-|-webkit-|-moz-|-o-)/g;function F(e){return"string"===typeof e?e.replace(M,""):e}},546:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,s.default)(e)};var r,i=n(630),s=(r=i)&&r.__esModule?r:{default:r}},216:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},630:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var r=/[A-Z]/g,i=/^ms-/,s={};function o(e){return"-"+e.toLowerCase()}const a=function(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(r,o);return s[e]=i.test(t)?"-"+t:t}},134:(e,t,n)=>{t.Z=function(e){var t=e.prefixMap,n=e.plugins;return function e(a){for(var l in a){var u=a[l];if((0,o.default)(u))a[l]=e(u);else if(Array.isArray(u)){for(var c=[],h=0,d=u.length;h<d;++h){var f=(0,i.default)(n,l,u[h],a,t);(0,s.default)(c,f||u[h])}c.length>0&&(a[l]=c)}else{var p=(0,i.default)(n,l,u,a,t);p&&(a[l]=p),a=(0,r.default)(t,l,a)}}return a}};var r=a(n(809)),i=a(n(429)),s=a(n(956)),o=a(n(594));function a(e){return e&&e.__esModule?e:{default:e}}},867:(e,t)=>{t.Z=function(){return null}},42:(e,t,n)=>{t.Z=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return s.map((function(e){return t.replace(i,e+"cross-fade(")}))};var r=n(349),i=/cross-fade\(/g,s=["-webkit-",""]},784:(e,t)=>{t.Z=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},297:(e,t,n)=>{t.Z=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return s.map((function(e){return t.replace(i,e+"filter(")}))};var r=n(349),i=/filter\(/g,s=["-webkit-",""]},976:(e,t,n)=>{t.Z=function(e,t){if("string"===typeof t&&!(0,s.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(216),s=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},939:(e,t)=>{t.Z=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],s=0,o=i.length;s<o;++s)r[i[s]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},610:(e,t)=>{t.Z=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},576:(e,t)=>{t.Z=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},444:(e,t,n)=>{t.Z=function(e,t,n,o){if("string"===typeof t&&a.hasOwnProperty(e)){var u=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),s=0,o=n.length;s<o;++s){var a=n[s],u=[a];for(var c in t){var h=(0,r.default)(c);if(a.indexOf(h)>-1&&"order"!==h)for(var d=t[c],f=0,p=d.length;f<p;++f)u.unshift(a.replace(h,l[d[f]]+h))}n[s]=u.join(",")}return n.join(",")}(t,o),c=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var h=u.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?h:(n["Webkit"+(0,s.default)(e)]=c,n["Moz"+(0,s.default)(e)]=h,u)}};var r=o(n(546)),i=o(n(216)),s=o(n(690));function o(e){return e&&e.__esModule?e:{default:e}}var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},956:(e,t)=>{function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},690:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},594:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},809:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var i=(0,s.default)(t),o=0;o<r.length;++o){var a=r[o]+i;n[a]||(n[a]=n[t])}return n};var r,i=n(690),s=(r=i)&&r.__esModule?r:{default:r}},429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var s=0,o=e.length;s<o;++s){var a=e[s](t,n,r,i);if(a)return a}}},463:(e,t,n)=>{var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case S:return"Portal";case k:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ie=null,Ee=null;function ke(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Te(e){Ie?Ee?Ee.push(e):Ee=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Ee;if(Ee=Ie=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return xe(e,t,n)}finally{Re=!1,(null!==Ie||null!==Ee)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){De=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,Ve=!1,Ue=null,Be={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Be,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(je(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,It,Et,kt,Tt=!1,Ct=[],xt=null,At=null,Rt=null,Nt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void kt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Vt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==xt&&Vt(xt)&&(xt=null),null!==At&&Vt(At)&&(At=null),null!==Rt&&Vt(Rt)&&(Rt=null),Nt.forEach(Ut),Pt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function jt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==At&&zt(At,e),null!==Rt&&zt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Ht(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nt.set(s,Mt(Nt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=_e(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),gn=sn(F({},fn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),yn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(F({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function kn(){return En}var Tn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(Tn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Nn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!On||Ln&&8<Ln&&11>=Ln),Vn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Te(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Vr(e,0)}function Yn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,_e(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Er={};function kr(e){if(Ir[e])return Ir[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Ir[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=kr("animationend"),Cr=kr("animationiteration"),xr=kr("animationstart"),Ar=kr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Nr.length;Dr++){var Or=Nr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Ur(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=s,i=_e(n),o=[];e:{var a=Rr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case Cr:case xr:l=yn;break;case Ar:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Pe(p,d))&&c.push(Kr(p,g,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==u?a:bi(u),(a=new c(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Hr(f))p++;for(f=0,g=d;g;g=Hr(g))f++;for(;0<p-f;)c=Hr(c),p--;for(;0<f-p;)d=Hr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Hr(c),d=Hr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Wn(a))if($n)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else jn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==w?"onCompositionEnd"===w&&jn&&(v=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,jn=!0)),0<(y=Gr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=zn(n))&&(w.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Vn);case"textInput":return(e=t.data)===Vn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Jt=$t=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Vr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pe(n,s))&&o.unshift(Kr(n,l,a)):i||null!=(l=Pe(n,s))&&o.push(Kr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Si=[],Ii=-1;function Ei(e){return{current:e}}function ki(e){0>Ii||(e.current=Si[Ii],Si[Ii]=null,Ii--)}function Ti(e,t){Ii++,Si[Ii]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ai=Ei(!1),Ri=Ci;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){ki(Ai),ki(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));Ti(xi,t),Ti(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=xi.current,Ti(xi,e),Ti(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(xi),Ti(xi,e)):ki(Ai),Ti(Ai,n)}var Vi=null,Ui=!1,Bi=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function ji(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=wt;try{var n=Vi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,Ui=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),He(Ze,ji),i}finally{wt=t,Bi=!1}}return null}var qi=[],Wi=0,Ki=null,Gi=0,Hi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Gi,qi[Wi++]=Ki,Ki=e,Gi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=$i,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Xi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Wi],qi[Wi]=null,Gi=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,$i=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=b.ReactCurrentBatchConfig;function ms(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Ei(null),vs=null,ws=null,bs=null;function _s(){bs=ws=vs=null}function Ss(e){var t=ys.current;ki(ys),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ts=null;function Cs(e){null===Ts?Ts=[e]:Ts.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,As(e,r)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,As(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,As(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=o,e.lanes=o,e.memoizedState=h}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(ru(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(ru(t,e,r,n),Ls(t,e,r))}};function js(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Pi(t)?Ri:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Pi(t)?Ri:xi.current,i.context=Ni(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Gs(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Gs(e,null,t),n.return=e,n;case S:return(t=Uu(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Hs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Hs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Hs(t,r)}return null}function g(i,s,a,l){for(var u=null,c=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),u;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===c?u=h:c.sibling=h,c=h);return is&&Ji(i,g),u}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),is&&Ji(i,g),u}function m(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var w=f(i,g,v.value,u);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(i,g),a=o(w,a,m),null===h?c=w:h.sibling=w,h=w,g=y}if(v.done)return n(i,g),is&&Ji(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return is&&Ji(i,m),c}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),is&&Ji(i,m),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===I){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===P&&Qs(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=Gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===I?((s=Mu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lu(o.type,o.key,o.props,null,r.mode,l)).ref=Gs(r,s,o),l.return=r,r=l)}return a(r);case S:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uu(o,r.mode,l)).return=r,r=s}return a(r);case P:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(L(o))return m(r,s,o,l);Hs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Vu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Ys(!0),$s=Ys(!1),Js={},Zs=Ei(Js),eo=Ei(Js),to=Ei(Js);function no(e){if(e===Js)throw Error(s(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Zs,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Zs),Ti(Zs,t)}function io(){ki(Zs),ki(eo),ki(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Ti(eo,e),Ti(Zs,n))}function oo(e){eo.current===e&&(ki(Zs),ki(eo))}var ao=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,go=null,mo=null,yo=null,vo=!1,wo=!1,bo=0,_o=0;function So(){throw Error(s(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=mo=null,t.updateQueue=null,ho.current=ua,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==mo&&null!==mo.next,po=0,yo=mo=go=null,vo=!1,t)throw Error(s(300));return e}function ko(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function xo(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,go.lanes|=h,Fl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Fl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Po(e,t){var n=go,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=As(e,1);null!==t&&ru(t,e,1,-1)}function Vo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,go,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return Co().memoizedState}function zo(e,t,n,r){var i=To();go.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==mo){var o=mo.memoizedState;if(s=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}go.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return jo(2048,8,e,t)}function Ko(e,t){return jo(4,2,e,t)}function Go(e,t){return jo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),go.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){ru(n,e,r,tu()),sa(n,t,r)}}function na(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=xs(e,t,i,r))&&(ru(n,e,r,i=tu()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===go||null!==t&&t===go}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:ks,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=To();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Rl.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Xo,useContext:ks,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:$o,useReducer:Ao,useRef:Bo,useState:function(){return Ao(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[Ao(xo)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1},ua={readContext:ks,useCallback:Xo,useContext:ks,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Go,useMemo:$o,useReducer:Ro,useRef:Bo,useState:function(){return Ro(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(xo)[0],Co().memoizedState]},useMutableSource:No,useSyncExternalStore:Po,useId:ea,unstable_isNewReconciler:!1};function ca(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),da(0,t)},n}function ga(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?$s(t,null,n,r):Xs(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var s=t.ref;return Es(t,i),r=Eo(e,t,n,r,s,i),n=ko(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Du(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ea(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Ou(s,r)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Ol,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Dl),Dl|=r;return _a(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Pi(n)?Ri:xi.current;return s=Ni(t,s),Es(t,i),n=Eo(e,t,n,r,s,i),r=ko(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function xa(e,t,n,r,i){if(Pi(n)){var s=!0;Mi(t)}else s=!1;if(Es(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=ks(u):u=Ni(t,u=Pi(n)?Ri:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Ws(t,o,r,u),Rs=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Rs?("function"===typeof c&&(Bs(t,n,c,r),l=t.memoizedState),(a=Rs||js(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ms(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Ni(t,l=Pi(n)?Ri:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,r,l),Rs=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Rs?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(u=Rs||js(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Da,Oa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Va(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ao,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fu(l,i,0,null),e=Mu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fu({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,As(e,i),ru(r,e,i,-1))}return mu(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=$i,Hi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ou(r,a):(a=Mu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Ou(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Fu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function ja(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,s);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Pi(t.type)&&Di(),Ha(t),null;case 3:return r=t.stateNode,io(),ki(Ai),ki(xi),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(au(ss),ss=null))),Da(e,t),Ha(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(ki(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(au(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return io(),Da(e,t),null===e&&jr(t.stateNode.containerInfo),Ha(t),null;case 10:return Ss(t.type._context),Ha(t),null;case 19:if(ki(ao),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ao.current,Ti(ao,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ai),ki(xi),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ao),null;case 4:return io(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,$a=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){ku(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){ku(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ku(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ku(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){ku(e,e.return,m)}try{rl(5,e,e.return)}catch(m){ku(e,e.return,m)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){ku(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),we(l,a);var c=we(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){ku(e,e.return,m)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){ku(e,e.return,m)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(m){ku(e,e.return,m)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=$e())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(c=$a)||h,ml(t,e),$a=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){ku(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Za=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",a))}catch(m){ku(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ku(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){ku(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Xa;var u=$a;if(Xa=o,($a=l)&&!u)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,Za=l):Il(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Xa=a,$a=u}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ms(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Vs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){ku(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Il(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){ku(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){ku(t,i,l)}}var s=t.return;try{sl(t)}catch(l){ku(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){ku(t,o,l)}}}catch(l){ku(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,kl=Math.ceil,Tl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,xl=b.ReactCurrentBatchConfig,Al=0,Rl=null,Nl=null,Pl=0,Dl=0,Ol=Ei(0),Ll=0,Ml=null,Fl=0,Vl=0,Ul=0,Bl=null,zl=null,jl=0,ql=1/0,Wl=null,Kl=!1,Gl=null,Hl=null,Ql=!1,Yl=null,Xl=0,$l=0,Jl=null,Zl=-1,eu=0;function tu(){return 0!==(6&Al)?$e():-1!==Zl?Zl:Zl=$e()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===eu&&(eu=gt()),eu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<$l)throw $l=0,Jl=null,Error(s(185));yt(e,n,r),0!==(2&Al)&&e===Rl||(e===Rl&&(0===(2&Al)&&(Vl|=n),4===Ll&&lu(e,Pl)),iu(e,r),1===n&&0===Al&&0===(1&t.mode)&&(ql=$e()+500,Ui&&ji()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Rl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uu.bind(null,e)):zi(uu.bind(null,e)),oi((function(){0===(6&Al)&&ji()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ru(n,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function su(e,t){if(Zl=-1,eu=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Al;Al|=2;var o=gu();for(Rl===e&&Pl===t||(Wl=null,ql=$e()+500,fu(e,t));;)try{wu();break}catch(l){pu(e,l)}_s(),Tl.current=o,Al=i,null!==Nl?t=0:(Rl=null,Pl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ml,fu(e,0),lu(e,r),iu(e,$e()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ml,fu(e,0),lu(e,r),iu(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Su(e,zl,Wl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=jl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Su.bind(null,e,zl,Wl),t);break}Su(e,zl,Wl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Su.bind(null,e,zl,Wl),r);break}Su(e,zl,Wl);break;default:throw Error(s(329))}}}return iu(e,$e()),e.callbackNode===n?su.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function lu(e,t){for(t&=~Ul,t&=~Vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&Al))throw Error(s(327));Iu();var t=dt(e,0);if(0===(1&t))return iu(e,$e()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,fu(e,0),lu(e,t),iu(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,zl,Wl),iu(e,$e()),null}function cu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=$e()+500,Ui&&ji())}}function hu(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Iu();var t=Al;Al|=1;var n=xl.transition,r=wt;try{if(xl.transition=null,wt=1,e)return e()}finally{wt=r,xl.transition=n,0===(6&(Al=t))&&ji()}}function du(){Dl=Ol.current,ki(Ol)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),ki(Ai),ki(xi),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(ao);break;case 10:Ss(r.type._context);break;case 22:case 23:du()}n=n.return}if(Rl=e,Nl=e=Ou(e.current,null),Pl=Dl=t,Ll=0,Ml=null,Ul=Vl=Fl=0,zl=Bl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return e}function pu(e,t){for(;;){var n=Nl;try{if(_s(),ho.current=oa,vo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=mo=go=null,wo=!1,bo=0,Cl.current=null,null===n||null===n.return){Ll=1,Ml=t,Nl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ca(u,l));break e}}o=u=ca(u,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,u,t));break e;case 1:l=u;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Hl||!Hl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ga(o,l,t));break e}}o=o.return}while(null!==o)}_u(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function gu(){var e=Tl.current;return Tl.current=oa,null===e?oa:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Rl||0===(268435455&Fl)&&0===(268435455&Vl)||lu(Rl,Pl)}function yu(e,t){var n=Al;Al|=2;var r=gu();for(Rl===e&&Pl===t||(Wl=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(_s(),Al=n,Tl.current=r,null!==Nl)throw Error(s(261));return Rl=null,Pl=0,Ll}function vu(){for(;null!==Nl;)bu(Nl)}function wu(){for(;null!==Nl&&!Ye();)bu(Nl)}function bu(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?_u(e):Nl=t,Cl.current=null}function _u(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dl)))return void(Nl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Su(e,t,n){var r=wt,i=xl.transition;try{xl.transition=null,wt=1,function(e,t,n,r){do{Iu()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Rl&&(Nl=Rl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ru(tt,(function(){return Iu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xl.transition,xl.transition=null;var a=wt;wt=1;var l=Al;Al|=4,Cl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:ms(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){ku(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Al=l,wt=a,xl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&Xl)&&0!==e.tag&&Iu(),o=e.pendingLanes,0!==(1&o)?e===Jl?$l++:($l=0,Jl=e):$l=0,ji()}(e,t,n,r)}finally{xl.transition=i,wt=r}return null}function Iu(){if(null!==Yl){var e=bt(Xl),t=xl.transition,n=wt;try{if(xl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Za=c;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===c){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){ku(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Al=i,ji(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{wt=n,xl.transition=t}}return!1}function Eu(e,t,n){e=Os(e,t=pa(0,t=ca(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),iu(e,t))}function ku(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Os(t,e=ga(t,e=ca(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),iu(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Pl&n)===n&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>$e()-jl?fu(e,0):Ul|=n),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=As(e,t))&&(yt(e,t,n),iu(e,n))}function xu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}function Ru(e,t){return He(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Nu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Du(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Mu(n.children,i,o,t);case E:a=8,i|=8;break;case k:return(e=Pu(12,n,t,2|i)).elementType=k,e.lanes=o,e;case A:return(e=Pu(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Pu(19,n,t,i)).elementType=R,e.lanes=o,e;case D:return Fu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case C:a=9;break e;case x:a=11;break e;case N:a=14;break e;case P:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Fu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Vu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,s,o,a,l){return e=new Bu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function ju(e){if(!e)return Ci;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function qu(e,t,n,r,i,s,o,a,l){return(e=zu(n,r,!0,e,0,s,0,a,l)).context=ju(null),n=e.current,(s=Ds(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,yt(e,i,r),iu(e,r),e}function Wu(e,t,n,r){var i=t.current,s=tu(),o=nu(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(ru(e,i,o,s),Ls(e,i,o)),o}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fs();break;case 5:so(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Va(e,t,n):(Ti(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);Ti(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ni(t,xi.current);Es(t,n),i=Eo(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ns(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===N)return 14}return 2}(r),e=ms(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,ms(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Va(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:ms(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Ds(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Es(t,n),r=r(i=ks(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=ms(r=t.type,t.pendingProps),Ia(e,t,r,i=ms(r.type,i),n);case 15:return Ea(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ms(r,i),Wa(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Es(t,n),qs(t,r,i),Ks(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Ku(o);a.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Ku(o);s.call(e)}}var o=qu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=o,e[pi]=o.current,jr(8===e.nodeType?e.parentNode:e),hu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ku(l);a.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=l,e[pi]=l.current,jr(8===e.nodeType?e.parentNode:e),hu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Ku(o)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Wu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),iu(t,$e()),0===(6&Al)&&(ql=$e()+500,ji()))}break;case 13:hu((function(){var t=As(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Hu(e,1)}},St=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)ru(t,e,134217728,tu());Hu(e,134217728)}},It=function(e){if(13===e.tag){var t=nu(e),n=As(e,t);if(null!==n)ru(n,e,t,tu());Hu(e,t)}},Et=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=cu,Ae=hu;var tc={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,Ce,cu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),st=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$u(e))throw Error(s(299));var n=!1,r="",i=Qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(s(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$u(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(s(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(s(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,g(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,I={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:I.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+x(a=e[u],u);l+=A(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,D(S);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var s=f;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,E=!1,k=null,T=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function R(){if(null!==k){var e=t.unstable_now();x=e;var n=!0;try{n=k(!0,e)}finally{n?I():(E=!1,k=null)}}else E=!1}if("function"===typeof w)I=function(){w(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,I=function(){P.postMessage(null)}}else I=function(){y(R,0)};function D(e){k=e,E||(E=!0,I())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(m?(v(T),T=-1):m=!0,O(_,s-o))):(e.sortIndex=a,n(u,e),g||p||(g=!0,D(S))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)},111:(e,t)=>{t.D=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],s="",o=null,a=t?null:n,l=new Array(arguments.length),u=0;u<arguments.length;u++)l[u]=arguments[u];for(;l.length>0;){var c=l.pop();if(null!=c&&!1!==c)if(Array.isArray(c))for(var h=0;h<c.length;h++)l.push(c[h]);else{var d=null!=i?i(c):c;if(d.$$css){var f="";if(null!=a&&a.has(d)){var p=a.get(d);null!=p&&(f=p[0],e.push.apply(e,p[1]),a=p[2])}else{var g=[];for(var m in d){var y=d[m];"$$css"!==m&&("string"===typeof y||null===y?e.includes(m)||(e.push(m),null!=a&&g.push(m),"string"===typeof y&&(f+=f?" "+y:y)):console.error("styleq: ".concat(m," typeof ").concat(String(y),' is not "string" or "null".')))}if(null!=a){var v=new WeakMap;a.set(d,[f,g,v]),a=v}}f&&(s=s?f+" "+s:f)}else if(r)null==o&&(o={}),o=Object.assign({},d,o);else{var w=null;for(var b in d){var _=d[b];void 0!==_&&(e.includes(b)||(null!=_&&(null==o&&(o={}),null==w&&(w={}),w[b]=_),e.push(b),a=null))}null!=w&&(o=Object.assign(w,o))}}}return[s,o]}}var i=r();t.D=i,i.factory=r},549:(e,t)=>{t.j=function(e,t){if(null!=e[r]){var s=t?1:0;if(n.has(e)){var o=n.get(e),a=o[s];return null==a&&(a=i(e,t),o[s]=a,n.set(e,o)),a}var l=i(e,t),u=new Array(2);return u[s]=l,n.set(e,u),l}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var s=e[i];Array.isArray(s)?n[i]=t?s[1]:s[0]:n[i]=s}return n}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".24d3b9fc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="expense-tracker:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkexpense_tracker=self.webpackChunkexpense_tracker||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{var e={};n.r(e),n.d(e,{FirebaseError:()=>b,SDK_VERSION:()=>Ie,_DEFAULT_ENTRY_NAME:()=>he,_addComponent:()=>ge,_addOrOverwriteComponent:()=>me,_apps:()=>fe,_clearComponents:()=>be,_components:()=>pe,_getProvider:()=>ve,_registerComponent:()=>ye,_removeServiceInstance:()=>we,deleteApp:()=>Ce,getApp:()=>ke,getApps:()=>Te,initializeApp:()=>Ee,onLog:()=>Ae,registerVersion:()=>xe,setLogLevel:()=>Re});var t=n(791),r=n(250);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const u=t<<2|s>>4;if(r.push(u),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=u(e[n],t[n]));return e}const c=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return c()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&l(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function p(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){var e;const t=null===(e=h())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function m(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function v(){const e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function w(){try{return"object"===typeof indexedDB}catch(e){return!1}}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(S,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new b(n,s,t)}}const S=/\{\$([^}]+)}/g;function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(k(n)&&k(s)){if(!E(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k(e){return null!==e&&"object"===typeof e}function T(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function C(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function x(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function A(e,t){const n=new R(e,t);return n.subscribe.bind(n)}class R{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function N(){}function P(e){return e&&e._delegate?e._delegate:e}class D{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const O="[DEFAULT]";class L{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new f;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:O})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===O?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.component?this.component.multipleInstances?e:O:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class M{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new L(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const F=[];var V;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(V||(V={}));const U={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},B=V.INFO,z={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},j=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=z[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class q{constructor(e){this.name=e,this._logLevel=B,this._logHandler=j,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...t),this._logHandler(this,V.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...t),this._logHandler(this,V.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.INFO,...t),this._logHandler(this,V.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.WARN,...t),this._logHandler(this,V.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...t),this._logHandler(this,V.ERROR,...t)}}const W=(e,t)=>t.some((t=>e instanceof t));let K,G;const H=new WeakMap,Q=new WeakMap,Y=new WeakMap,X=new WeakMap,$=new WeakMap;let J={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Q.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Y.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return te(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Z(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ne(this),n),te(H.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return te(e.apply(ne(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ne(this),t,...r);return Y.set(s,t.sort?t.sort():[t]),te(s)}}function ee(e){return"function"===typeof e?Z(e):(e instanceof IDBTransaction&&function(e){if(Q.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Q.set(e,t)}(e),W(e,K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,J):e)}function te(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(te(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&H.set(t,e)})).catch((()=>{})),$.set(t,e),t}(e);if(X.has(e))return X.get(e);const t=ee(e);return t!==e&&(X.set(e,t),$.set(t,e)),t}const ne=e=>$.get(e);const re=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],se=new Map;function oe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(se.get(t))return se.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!re.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return se.set(t,s),s}J=(e=>({...e,get:(t,n,r)=>oe(t,n)||e.get(t,n,r),has:(t,n)=>!!oe(t,n)||e.has(t,n)}))(J);class ae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const le="@firebase/app",ue="0.9.23",ce=new q("@firebase/app"),he="[DEFAULT]",de={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fe=new Map,pe=new Map;function ge(e,t){try{e.container.addComponent(t)}catch(n){ce.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function me(e,t){e.container.addOrOverwriteComponent(t)}function ye(e){const t=e.name;if(pe.has(t))return ce.debug("There were multiple attempts to register component ".concat(t,".")),!1;pe.set(t,e);for(const n of fe.values())ge(n,e);return!0}function ve(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function we(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he;ve(e,t).clearInstance(n)}function be(){pe.clear()}const _e=new _("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Se{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new D("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _e.create("app-deleted",{appName:this._name})}}const Ie="10.6.0";function Ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:he,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _e.create("bad-app-name",{appName:String(i)});if(n||(n=d()),!n)throw _e.create("no-options");const s=fe.get(i);if(s){if(E(n,s.options)&&E(r,s.config))return s;throw _e.create("duplicate-app",{appName:i})}const o=new M(i);for(const l of pe.values())o.addComponent(l);const a=new Se(n,r,o);return fe.set(i,a),a}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he;const t=fe.get(e);if(!t&&e===he&&d())return Ee();if(!t)throw _e.create("no-app",{appName:e});return t}function Te(){return Array.from(fe.values())}async function Ce(e){const t=e.name;fe.has(t)&&(fe.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function xe(e,t,n){var r;let i=null!==(r=de[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ce.warn(e.join(" "))}ye(new D("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Ae(e,t){if(null!==e&&"function"!==typeof e)throw _e.create("invalid-log-argument");!function(e,t){for(const n of F){let r=null;t&&t.level&&(r=U[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:V[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Re(e){var t;t=e,F.forEach((e=>{e.setLogLevel(t)}))}const Ne="firebase-heartbeat-database",Pe=1,De="firebase-heartbeat-store";let Oe=null;function Le(){return Oe||(Oe=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=te(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(te(o.result),e.oldVersion,e.newVersion,te(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Ne,Pe,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(De)}}).catch((e=>{throw _e.create("idb-open",{originalErrorMessage:e.message})}))),Oe}async function Me(e,t){try{const n=(await Le()).transaction(De,"readwrite"),r=n.objectStore(De);await r.put(t,Fe(e)),await n.done}catch(n){if(n instanceof b)ce.warn(n.message);else{const e=_e.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ce.warn(e.message)}}}function Fe(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ve{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Be(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e;const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Ue();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ue(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ze(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ze(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=a(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ue(){return(new Date).toISOString().substring(0,10)}class Be{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!w()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Le();return await t.transaction(De).objectStore(De).get(Fe(e))}catch(t){if(t instanceof b)ce.warn(t.message);else{const e=_e.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ce.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Me(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Me(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ze(e){return a(JSON.stringify({version:2,heartbeats:e})).length}var je;je="",ye(new D("platform-logger",(e=>new ae(e)),"PRIVATE")),ye(new D("heartbeat",(e=>new Ve(e)),"PRIVATE")),xe(le,ue,je),xe(le,ue,"esm2017"),xe("fire-js","");class qe{constructor(e,t){this._delegate=e,this.firebase=t,ge(e,new D("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Ce(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ge(this._delegate,e)}_addOrOverwriteComponent(e){me(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const We=new _("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Ke=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ee(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(I(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:xe,setLogLevel:Re,onLog:Ae,apps:null,SDK_VERSION:Ie,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(ye(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw We.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&u(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!I(n,e=e||he))throw We.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(qe);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){u(n,e)},createSubscribe:A,ErrorFactory:_,deepExtend:u}),n}(),Ge=new q("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ge.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ge.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=Ke;!function(e){xe("@firebase/app-compat","0.2.23",e)}();He.registerVersion("firebase","10.6.0","app-compat");function Qe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Xe="EMAIL_SIGNIN",$e="PASSWORD_RESET",Je="RECOVER_EMAIL",Ze="REVERT_SECOND_FACTOR_ADDITION",et="VERIFY_AND_CHANGE_EMAIL",tt="VERIFY_EMAIL";function nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rt=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},it=nt,st=new _("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ot=new q("@firebase/auth");function at(e){if(ot.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ot.error("Auth (".concat(Ie,"): ").concat(e),...n)}}function lt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw dt(e,...n)}function ut(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dt(e,...n)}function ct(e,t,n){const r=Object.assign(Object.assign({},it()),{[t]:n});return new _("auth","Firebase",r).create(t,{appName:e.name})}function ht(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&lt(e,"argument-error"),ct(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return st.create(e,...n)}function ft(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw dt(t,...r)}}function pt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw at(t),new Error(t)}function gt(e,t){e||pt(t)}function mt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yt(){return"http:"===vt()||"https:"===vt()}function vt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class wt{constructor(e,t){this.shortDelay=e,this.longDelay=t,gt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())||y()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(yt()||m()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function bt(e,t){gt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class _t{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},It=new wt(3e4,6e4);function Et(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kt(e,t,n,r){return Tt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=T(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),_t.fetch()(xt(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Tt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},St),t);try{const t=new Rt(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Nt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Nt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Nt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Nt(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ct(e,a,o);lt(e,a)}}catch(i){if(i instanceof b)throw i;lt(e,"network-request-failed",{message:String(i)})}}async function Ct(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await kt(e,t,n,r,i);return"mfaPendingCredential"in s&&lt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function xt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?bt(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function At(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rt{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(ut(this.auth,"network-request-failed"))),It.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ut(e,t,r);return i.customData._tokenResponse=n,i}function Pt(e){return void 0!==e&&void 0!==e.getResponse}function Dt(e){return void 0!==e&&void 0!==e.enterprise}class Ot{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return At(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Lt(e,t){return kt(e,"GET","/v2/recaptchaConfig",Et(e,t))}function Mt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Ft(e){return 1e3*Number(e)}function Vt(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return at("JWT malformed, contained fewer than 3 sections"),null;try{const e=l(n);return e?JSON.parse(e):(at("Failed to decode base64 JWT payload"),null)}catch(i){return at("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Ut(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof b&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Bt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class zt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mt(this.lastLoginAt),this.creationTime=Mt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ut(e,async function(e,t){return kt(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ft(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Qe(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ft(e.idToken,"internal-error"),ft("undefined"!==typeof e.idToken,"internal-error"),ft("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Vt(e);return ft(t,"internal-error"),ft("undefined"!==typeof t.exp,"internal-error"),ft("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ft(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tt(e,{},(async()=>{const n=T({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=xt(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",_t.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new qt;return n&&(ft("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ft("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ft("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return pt("not implemented")}}function Wt(e,t){ft("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Kt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Qe(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ut(this,this.stsTokenManager.getToken(this.auth,e));return ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=P(e),r=await n.getIdToken(t),i=Vt(r);ft(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Mt(Ft(i.auth_time)),issuedAtTime:Mt(Ft(i.iat)),expirationTime:Mt(Ft(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=P(e);await jt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await jt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ut(this,async function(e,t){return kt(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:S}=t;ft(v&&S,e,"internal-error");const I=qt.fromJSON(this.name,S);ft("string"===typeof v,e,"internal-error"),Wt(c,e.name),Wt(h,e.name),ft("boolean"===typeof w,e,"internal-error"),ft("boolean"===typeof b,e,"internal-error"),Wt(d,e.name),Wt(f,e.name),Wt(p,e.name),Wt(g,e.name),Wt(m,e.name),Wt(y,e.name);const E=new Kt({uid:v,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new qt;r.updateFromServerResponse(t);const i=new Kt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await jt(i),i}}const Gt=new Map;function Ht(e){gt(e instanceof Function,"Expected a class definition");let t=Gt.get(e);return t?(gt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Gt.set(e,t),t)}class Qt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qt.type="NONE";const Yt=Qt;function Xt(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class $t{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Xt(this.userKey,r.apiKey,i),this.fullPersistenceKey=Xt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new $t(Ht(Yt),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ht(Yt);const s=Xt(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Kt._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new $t(i,e,n)):new $t(i,e,n)}}function Jt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sn(t))return"Blackberry";if(on(t))return"Webos";if(en(t))return"Safari";if((t.includes("chrome/")||tn(t))&&!t.includes("edge/"))return"Chrome";if(rn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/firefox\//i.test(e)}function en(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/crios\//i.test(e)}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/iemobile/i.test(e)}function rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/android/i.test(e)}function sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/blackberry/i.test(e)}function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/webos/i.test(e)}function an(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ln(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return an(e)||rn(e)||on(e)||sn(e)||/windows phone/i.test(e)||nn(e)}function un(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jt(p());break;case"Worker":t="".concat(Jt(p()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ie,"/").concat(r)}class cn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class hn{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class dn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pn(this),this.idTokenSubscription=new pn(this),this.beforeStateQueue=new cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ht(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await $t.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jt(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?P(e):null;return t&&ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ht(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kt(e,"GET","/v2/passwordPolicy",Et(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new hn(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kt(e,"POST","/v2/accounts:revokeToken",Et(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ht(e)||this._popupRedirectResolver;ft(t,this,"argument-error"),this.redirectPersistenceManager=await $t.create(this,[Ht(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ot.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ot.warn("Auth (".concat(Ie,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function fn(e){return P(e)}class pn{constructor(e){this.auth=e,this.observer=null,this.addObserver=A((e=>this.observer=e))}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gn(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ut("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function mn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class yn{constructor(e){this.type="recaptcha-enterprise",this.auth=fn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Dt(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Lt(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Ot(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Dt(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));gn("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function vn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new yn(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function wn(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await vn(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await vn(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function bn(e,t,n){const r=fn(e);ft(r._canInitEmulator,r,"emulator-config-failed"),ft(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=_n(t),{host:o,port:a}=function(e){const t=_n(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sn(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function _n(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class In{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pt("not implemented")}_getIdTokenResponse(e){return pt("not implemented")}_linkToIdToken(e,t){return pt("not implemented")}_getReauthenticationResolver(e){return pt("not implemented")}}async function En(e,t){return kt(e,"POST","/v1/accounts:resetPassword",Et(e,t))}async function kn(e,t){return kt(e,"POST","/v1/accounts:signUp",t)}async function Tn(e,t){return Ct(e,"POST","/v1/accounts:signInWithPassword",Et(e,t))}async function Cn(e,t){return kt(e,"POST","/v1/accounts:sendOobCode",Et(e,t))}async function xn(e,t){return Cn(e,t)}async function An(e,t){return Cn(e,t)}class Rn extends In{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Rn(e,t,"password")}static _fromEmailAndCode(e,t){return new Rn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return wn(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Tn);case"emailLink":return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithEmailLink",Et(e,t))}(e,{email:this._email,oobCode:this._password});default:lt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return wn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kn);case"emailLink":return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithEmailLink",Et(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:lt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Nn(e,t){return Ct(e,"POST","/v1/accounts:signInWithIdp",Et(e,t))}class Pn extends In{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Qe(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Pn(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Nn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nn(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=T(t)}return e}}const Dn={USER_NOT_FOUND:"user-not-found"};class On extends In{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new On({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new On({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Et(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Et(e,t));if(n.temporaryProof)throw Nt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithPhoneNumber",Et(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Dn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new On({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ln{constructor(e){var t,n,r,i,s,o;const a=C(x(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);ft(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=C(x(e)).link,n=t?C(x(t)).deep_link_id:null,r=C(x(e)).deep_link_id;return(r?C(x(r)).link:null)||r||n||t||e}(e);try{return new Ln(t)}catch(n){return null}}}class Mn{constructor(){this.providerId=Mn.PROVIDER_ID}static credential(e,t){return Rn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ln.parseLink(t);return ft(n,"argument-error"),Rn._fromEmailAndCode(e,n.code,n.tenantId)}}Mn.PROVIDER_ID="password",Mn.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Fn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vn extends Fn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Un extends Vn{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ft("providerId"in t&&"signInMethod"in t,"argument-error"),Pn._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ft(e.idToken||e.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Un.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Un.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Un(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class Bn extends Vn{constructor(){super("facebook.com")}static credential(e){return Pn._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Bn.credential(t.oauthAccessToken)}catch(n){return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Bn.PROVIDER_ID="facebook.com";class zn extends Vn{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pn._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return zn.credential(n,r)}catch(i){return null}}}zn.GOOGLE_SIGN_IN_METHOD="google.com",zn.PROVIDER_ID="google.com";class jn extends Vn{constructor(){super("github.com")}static credential(e){return Pn._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return jn.credential(t.oauthAccessToken)}catch(n){return null}}}jn.GITHUB_SIGN_IN_METHOD="github.com",jn.PROVIDER_ID="github.com";class qn extends In{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Nn(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Nn(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Nn(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new qn(n,i):null}static _create(e,t){return new qn(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wn extends Fn{constructor(e){ft(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Wn.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Wn.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=qn.fromJSON(e);return ft(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return qn._create(r,n)}catch(i){return null}}}class Kn extends Vn{constructor(){super("twitter.com")}static credential(e,t){return Pn._fromParams({providerId:Kn.PROVIDER_ID,signInMethod:Kn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kn.credentialFromTaggedObject(e)}static credentialFromError(e){return Kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kn.credential(n,r)}catch(i){return null}}}async function Gn(e,t){return Ct(e,"POST","/v1/accounts:signUp",Et(e,t))}Kn.TWITTER_SIGN_IN_METHOD="twitter.com",Kn.PROVIDER_ID="twitter.com";class Hn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Kt._fromIdTokenResponse(e,n,r),s=Qn(n);return new Hn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qn(n);return new Hn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Yn extends b{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Yn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Yn(e,t,n,r)}}function Xn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Yn._fromErrorAndOperation(e,n,t,r);throw n}))}function $n(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Jn(e,t){const n=P(e);await er(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return kt(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=$n(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Zn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ut(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Hn._forOperation(e,"link",r)}async function er(e,t,n){await jt(t);const r=!1===e?"provider-already-linked":"no-such-provider";ft($n(t.providerData).has(n)===e,t.auth,r)}async function tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Ut(e,Xn(r,i,t,e),n);ft(s.idToken,r,"internal-error");const o=Vt(s.idToken);ft(o,r,"internal-error");const{sub:a}=o;return ft(e.uid===a,r,"user-mismatch"),Hn._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&lt(r,"user-mismatch"),s}}async function nr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Xn(e,r,t),s=await Hn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function rr(e,t){return nr(fn(e),t)}async function ir(e,t){const n=P(e);return await er(!1,n,t.providerId),Zn(n,t)}async function sr(e,t){return tr(P(e),t)}async function or(e,t){const n=fn(e),r=await async function(e,t){return Ct(e,"POST","/v1/accounts:signInWithCustomToken",Et(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Hn._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class ar{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?lr._fromServerResponse(e,t):"totpInfo"in t?ur._fromServerResponse(e,t):lt(e,"internal-error")}}class lr extends ar{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new lr(t)}}class ur extends ar{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new ur(t)}}function cr(e,t,n){var r;ft((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ft("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ft(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ft(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function hr(e){const t=fn(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function dr(e,t){await async function(e,t){return kt(e,"POST","/v1/accounts:update",Et(e,t))}(P(e),{oobCode:t})}async function fr(e,t){const n=P(e),r=await En(n,{oobCode:t}),i=r.requestType;switch(ft(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ft(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ft(r.mfaInfo,n,"internal-error");default:ft(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=ar._fromServerResponse(fn(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function pr(e,t){const n={identifier:t,continueUri:yt()?mt():"http://localhost"},{signinMethods:r}=await async function(e,t){return kt(e,"POST","/v1/accounts:createAuthUri",Et(e,t))}(P(e),n);return r||[]}async function gr(e,t){const n=P(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&cr(n.auth,r,t);const{email:i}=await async function(e,t){return Cn(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function mr(e,t,n){const r=P(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&cr(r.auth,i,n);const{email:s}=await async function(e,t){return Cn(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function yr(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=P(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Ut(i,async function(e,t){return kt(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function vr(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Ut(e,async function(e,t){return kt(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class wr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class br extends wr{constructor(e,t,n,r){super(e,t,n),this.username=r}}class _r extends wr{constructor(e,t){super(e,"facebook.com",t)}}class Sr extends br{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ir extends wr{constructor(e,t){super(e,"google.com",t)}}class Er extends br{constructor(e,t,n){super(e,"twitter.com",t,n)}}function kr(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Vt(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new wr(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new _r(s,i);case"github.com":return new Sr(s,i);case"google.com":return new Ir(s,i);case"twitter.com":return new Er(s,i,e.screenName||null);case"custom":case"anonymous":return new wr(s,null);default:return new wr(s,r,i)}}(n)}class Tr{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Tr("enroll",e,t)}static _fromMfaPendingCredential(e){return new Tr("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Tr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Tr._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Cr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=fn(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>ar._fromServerResponse(n,e)));ft(r.mfaPendingCredential,n,"internal-error");const s=Tr._fromMfaPendingCredential(r.mfaPendingCredential);return new Cr(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Hn._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ft(t.user,n,"internal-error"),Hn._forOperation(t.user,t.operationType,o);default:lt(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class xr{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>ar._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new xr(e)}async getSession(){return Tr._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Ut(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Ut(this.user,function(e,t){return kt(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Et(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Ar=new WeakMap;const Rr="__sak";class Nr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rr,"1"),this.storage.removeItem(Rr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Pr extends Nr{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=p();return en(e)||an(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=ln(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);v()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pr.type="LOCAL";const Dr=Pr;class Or extends Nr{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Or.type="SESSION";const Lr=Or;class Mr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Mr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Mr.receivers=[];class Vr{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Fr("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ur(){return window}function Br(){return"undefined"!==typeof Ur().WorkerGlobalScope&&"function"===typeof Ur().importScripts}const zr="firebaseLocalStorageDb",jr="firebaseLocalStorage",qr="fbase_key";class Wr{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Kr(e,t){return e.transaction([jr],t?"readwrite":"readonly").objectStore(jr)}function Gr(){const e=indexedDB.open(zr,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(jr,{keyPath:qr})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(jr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(zr);return new Wr(e).toPromise()}(),t(await Gr()))}))}))}async function Hr(e,t,n){const r=Kr(e,!0).put({[qr]:t,value:n});return new Wr(r).toPromise()}function Qr(e,t){const n=Kr(e,!0).delete(t);return new Wr(n).toPromise()}class Yr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Gr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Br()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mr._getInstance(Br()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Vr(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gr();return await Hr(e,Rr,"1"),await Qr(e,Rr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Hr(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Kr(e,!1).get(t),r=await new Wr(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Qr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Kr(e,!1).getAll();return new Wr(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Yr.type="LOCAL";const Xr=Yr;const $r=1e12;class Jr{constructor(e){this.auth=e,this.counter=$r,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Zr(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||$r;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||$r;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||$r;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Zr{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ft(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ei=mn("rcb"),ti=new wt(3e4,6e4);class ni{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Ur().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ft(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Pt(Ur().grecaptcha)?Promise.resolve(Ur().grecaptcha):new Promise(((n,r)=>{const i=Ur().setTimeout((()=>{r(ut(e,"network-request-failed"))}),ti.get());Ur()[ei]=()=>{Ur().clearTimeout(i),delete Ur()[ei];const s=Ur().grecaptcha;if(!s||!Pt(s))return void r(ut(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};gn("".concat("https://www.google.com/recaptcha/api.js?","?").concat(T({onload:ei,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(ut(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Ur().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ri{async load(e){return new Jr(e)}clearedOneInstance(){}}const ii="recaptcha",si={theme:"light",type:"image"};class oi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},si);this.parameters=n,this.type=ii,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(e),this.isInvisible="invisible"===this.parameters.size,ft("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;ft(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ri:new ni,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ft(!this.parameters.sitekey,this.auth,"argument-error"),ft(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ft("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Ur()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ft(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ft(yt()&&!Br(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await kt(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ft(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ft(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ai{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=On._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function li(e,t,n){var r;const i=await n.verify();try{let s;if(ft("string"===typeof i,e,"argument-error"),ft(n.type===ii,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ft("enroll"===t.type,e,"internal-error");const n=await function(e,t){return kt(e,"POST","/v2/accounts/mfaEnrollment:start",Et(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ft("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ft(n,e,"missing-multi-factor-info");const o=await function(e,t){return kt(e,"POST","/v2/accounts/mfaSignIn:start",Et(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return kt(e,"POST","/v1/accounts:sendVerificationCode",Et(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ui{constructor(e){this.providerId=ui.PROVIDER_ID,this.auth=fn(e)}verifyPhoneNumber(e,t){return li(this.auth,e,P(t))}static credential(e,t){return On._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ui.credentialFromTaggedObject(t)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?On._fromTokenResponse(n,r):null}}function ci(e,t){return t?Ht(t):(ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ui.PROVIDER_ID="phone",ui.PHONE_SIGN_IN_METHOD="phone";class hi extends In{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nn(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nn(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nn(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function di(e){return nr(e.auth,new hi(e),e.bypassAuthState)}function fi(e){const{auth:t,user:n}=e;return ft(n,t,"internal-error"),tr(n,new hi(e),e.bypassAuthState)}async function pi(e){const{auth:t,user:n}=e;return ft(n,t,"internal-error"),Zn(n,new hi(e),e.bypassAuthState)}class gi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return di;case"linkViaPopup":case"linkViaRedirect":return pi;case"reauthViaPopup":case"reauthViaRedirect":return fi;default:lt(this.auth,"internal-error")}}resolve(e){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mi=new wt(2e3,1e4);class yi extends gi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ft(e,this.auth,"internal-error"),e}async onExecution(){gt(1===this.filter.length,"Popup operations only handle one event");const e=Fr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(ut(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,mi.get())};e()}}yi.currentPopupAction=null;const vi="pendingRedirect",wi=new Map;class bi extends gi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=wi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ei(t),r=Ii(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}wi.set(this.auth._key(),e)}return this.bypassAuthState||wi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function _i(e,t){return Ii(e)._set(Ei(t),"true")}function Si(e,t){wi.set(e._key(),t)}function Ii(e){return Ht(e._redirectPersistence)}function Ei(e){return Xt(vi,e.config.apiKey,e.name)}function ki(e,t,n){return async function(e,t,n){const r=fn(e);ht(e,t,Fn),await r._initializationPromise;const i=ci(r,n);return await _i(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Ti(e,t,n){return async function(e,t,n){const r=P(e);ht(r.auth,t,Fn),await r.auth._initializationPromise;const i=ci(r.auth,n);await _i(i,r.auth);const s=await Ai(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Ci(e,t,n){return async function(e,t,n){const r=P(e);ht(r.auth,t,Fn),await r.auth._initializationPromise;const i=ci(r.auth,n);await er(!1,r,t.providerId),await _i(i,r.auth);const s=await Ai(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function xi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=fn(e),i=ci(r,t),s=new bi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Ai(e){const t=Fr("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ri{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Pi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ut(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ni(e))}saveEventToCache(e){this.cachedEventUids.add(Ni(e)),this.lastProcessedEventTime=Date.now()}}function Ni(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Pi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Di(e){return kt(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Oi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Li=/^https?/;function Mi(e){const t=mt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Li.test(n))return!1;if(Oi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Fi=new wt(3e4,6e4);function Vi(){const e=Ur().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ui=null;function Bi(e){return Ui=Ui||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){Vi(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vi(),n(ut(e,"network-request-failed"))},timeout:Fi.get()})}if(null===(i=null===(r=Ur().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ur().gapi)||void 0===s?void 0:s.load)){const t=mn("iframefcb");return Ur()[t]=()=>{gapi.load?o():n(ut(e,"network-request-failed"))},gn("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw Ui=null,e}))}(e),Ui}const zi=new wt(5e3,15e3),ji="__/auth/iframe",qi="emulator/auth/iframe",Wi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ki=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gi(e){const t=e.config;ft(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?bt(t,qi):"https://".concat(e.config.authDomain,"/").concat(ji),r={apiKey:t.apiKey,appName:e.name,v:Ie},i=Ki.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(T(r).slice(1))}const Hi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Yi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hi),{width:r.toString(),height:i.toString(),top:s,left:o}),u=p().toLowerCase();n&&(a=tn(u)?"_blank":n),Zt(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return an(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Qi(null);const h=window.open(t||"",a,c);ft(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Qi(h)}const Xi="__/auth/handler",$i="emulator/auth/handler",Ji=encodeURIComponent("fac");async function Zi(e,t,n,r,i,s){ft(e.config.authDomain,e,"auth-domain-config-required"),ft(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ie,eventId:i};if(t instanceof Fn){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Vn){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?"#".concat(Ji,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Xi);return bt(t,$i)}(e),"?").concat(T(a).slice(1)).concat(u)}const es="webStorageSupport";const ts=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lr,this._completeRedirectFn=xi,this._overrideRedirectResult=Si}async _openPopup(e,t,n,r){var i;gt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Yi(e,await Zi(e,t,n,mt(),r),Fr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ur().location.href=e}(await Zi(e,t,n,mt(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(gt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Bi(e),n=Ur().gapi;return ft(n,e,"internal-error"),t.open({where:document.body,url:Gi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wi,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ut(e,"network-request-failed"),s=Ur().setTimeout((()=>{r(i)}),zi.get());function o(){Ur().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Ri(e);return t.register("authEvent",(t=>{ft(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(es,{type:es},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[es];void 0!==i&&t(!!i),lt(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Di(e);for(const r of t)try{if(Mi(r))return}catch(n){}lt(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ln()||en()||an()}};class ns{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return pt("unexpected MultiFactorSessionType")}}}class rs extends ns{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new rs(e)}_finalizeEnroll(e,t,n){return function(e,t){return kt(e,"POST","/v2/accounts/mfaEnrollment:finalize",Et(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return kt(e,"POST","/v2/accounts/mfaSignIn:finalize",Et(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class is{constructor(){}static assertion(e){return rs._fromCredential(e)}}is.FACTOR_ID="phone";var ss="@firebase/auth",os="1.4.0";class as{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=h())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ls;function us(){return window}ls="Browser",ye(new D("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ft(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:ls,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(ls)},u=new dn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ht);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ye(new D("auth-internal",(e=>(e=>new as(e))(fn(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),xe(ss,os,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ls)),xe(ss,os,"esm2017");async function cs(e,t,n){var r;const{BuildInfo:i}=us();gt(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(gt(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return an()?o.ibi=i.packageName:rn()?o.apn=i.packageName:lt(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Zi(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function hs(e){const{cordova:t}=us();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const ds=20;class fs extends Ri{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ps(e){const t=await ys()._get(vs(e));return t&&await ys()._remove(vs(e)),t}function gs(e,t){var n,r;const i=function(e){const t=ws(e),n=t.link?decodeURIComponent(t.link):void 0,r=ws(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return ws(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=ws(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?ut(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function ms(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<ds;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function ys(){return Ht(Dr)}function vs(e){return Xt("authEvent",e.config.apiKey,e.name)}function ws(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return C(n.join("?"))}const bs=class{constructor(){this._redirectPersistence=Lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=xi,this._overrideRedirectResult=Si}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new fs(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){lt(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=us();ft("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ft("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ft("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ft("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ft("function"===typeof(null===(c=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),wi.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:ms(),postBody:null,tenantId:e.tenantId,error:ut(e,"no-auth-event")}}(e,n,r);await function(e,t){return ys()._set(vs(e),t)}(e,s);const o=await cs(e,s,t);return async function(e,t,n){const{cordova:r}=us();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(ut(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),rn()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await hs(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=us(),n={};an()?n.iosBundleId=t.packageName:rn()?n.androidPackageName=t.packageName:lt(e,"operation-not-supported-in-this-environment"),await Di(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=us(),s=setTimeout((async()=>{await ps(e),t.onEvent(_s())}),500),o=async n=>{clearTimeout(s);const r=await ps(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=gs(r,n.url)),t.onEvent(i||_s())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");us().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function _s(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ut("no-auth-event")}}function Ss(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return!("file:"!==Ss()&&"ionic:"!==Ss()&&"capacitor:"!==Ss()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return v()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p();return/Edge\/\d+/.test(e)}(e)}function ks(){try{const e=self.localStorage,t=Fr();if(e)return e.setItem(t,"1"),e.removeItem(t),!Es()||w()}catch(e){return Ts()&&w()}return!1}function Ts(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Cs(){return("http:"===Ss()||"https:"===Ss()||m()||Is())&&!(y()||g())&&ks()&&!Ts()}function xs(){return Is()&&"undefined"!==typeof document}const As={LOCAL:"local",NONE:"none",SESSION:"session"},Rs=ft,Ns="persistence";async function Ps(e){await e._initializationPromise;const t=Ds(),n=Xt(Ns,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Ds(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Os=ft;class Ls{constructor(){this.browserResolver=Ht(ts),this.cordovaResolver=Ht(bs),this.underlyingResolver=null,this._redirectPersistence=Lr,this._completeRedirectFn=xi,this._overrideRedirectResult=Si}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Os(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!xs()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Ms(e){return e.unwrap()}function Fs(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new zs(e,function(e,t){var n;const r=P(e),i=t;return ft(t.customData.operationType,r,"argument-error"),ft(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Cr._fromError(r,i)}(e,t))}else if(r){const e=Vs(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Vs(e){const{_tokenResponse:t}=e instanceof b?e.customData:e;if(!t)return null;if(!(e instanceof b)&&"temporaryProof"in t&&"phoneNumber"in t)return ui.credentialFromResult(e);const n=t.providerId;if(!n||n===Ye.PASSWORD)return null;let r;switch(n){case Ye.GOOGLE:r=zn;break;case Ye.FACEBOOK:r=Bn;break;case Ye.GITHUB:r=jn;break;case Ye.TWITTER:r=Kn;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?qn._create(n,o):Pn._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Un(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof b?r.credentialFromError(e):r.credentialFromResult(e)}function Us(e,t){return t.catch((t=>{throw t instanceof b&&Fs(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Vs(r)),additionalUserInfo:kr(e),user:js.getOrCreate(n)};var r}))}async function Bs(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Us(e,n.confirm(t))}}class zs{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Us(Ms(this.auth),this.resolver.resolveSignIn(e))}}class js{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=P(e);return Ar.has(t)||Ar.set(t,xr._fromUser(t)),Ar.get(t)}(e)}static getOrCreate(e){return js.USER_MAP.has(e)||js.USER_MAP.set(e,new js(e)),js.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Us(this.auth,ir(this._delegate,e))}async linkWithPhoneNumber(e,t){return Bs(this.auth,async function(e,t,n){const r=P(e);await er(!1,r,"phone");const i=await li(r.auth,t,P(n));return new ai(i,(e=>ir(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Us(this.auth,async function(e,t,n){const r=P(e);ht(r.auth,t,Fn);const i=ci(r.auth,n);return new yi(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ls))}async linkWithRedirect(e){return await Ps(fn(this.auth)),Ci(this._delegate,e,Ls)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Us(this.auth,sr(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Bs(this.auth,async function(e,t,n){const r=P(e),i=await li(r.auth,t,P(n));return new ai(i,(e=>sr(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Us(this.auth,async function(e,t,n){const r=P(e);ht(r.auth,t,Fn);const i=ci(r.auth,n);return new yi(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Ls))}async reauthenticateWithRedirect(e){return await Ps(fn(this.auth)),Ti(this._delegate,e,Ls)}sendEmailVerification(e){return gr(this._delegate,e)}async unlink(e){return await Jn(this._delegate,e),this}updateEmail(e){return function(e,t){return vr(P(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return vr(P(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Zn(P(e),t)}(this._delegate,e)}updateProfile(e){return yr(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return mr(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}js.USER_MAP=new WeakMap;const qs=ft;class Ws{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;qs(n,"invalid-api-key",{appName:e.name}),qs(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Ls:void 0;this._delegate=t.initialize({options:{persistence:Gs(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(rt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?js.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){bn(this._delegate,e,t)}applyActionCode(e){return dr(this._delegate,e)}checkActionCode(e){return fr(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await En(P(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hr(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Us(this._delegate,async function(e,t,n){const r=fn(e),i=wn(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gn),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hr(e),t})),o=await Hn._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return pr(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ln.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){qs(Cs(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await fn(e)._initializationPromise,xi(e,t,!1)}(this._delegate,Ls);return e?Us(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){fn(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Ks(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Ks(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=fn(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){ft(t.handleCodeInApp,r,"argument-error"),t&&cr(r,e,t)}(i,n),await wn(r,i,"getOobCode",An)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=fn(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&cr(r,i,n),await wn(r,i,"getOobCode",xn)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Rs(Object.values(As).includes(t),e,"invalid-persistence-type"),y()?Rs(t!==As.SESSION,e,"unsupported-persistence-type"):g()?Rs(t===As.NONE,e,"unsupported-persistence-type"):Ts()?Rs(t===As.NONE||t===As.LOCAL&&w(),e,"unsupported-persistence-type"):Rs(t===As.NONE||ks(),e,"unsupported-persistence-type")}(this._delegate,e),e){case As.SESSION:t=Lr;break;case As.LOCAL:t=await Ht(Xr)._isAvailable()?Xr:Dr;break;case As.NONE:t=Yt;break;default:return lt("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Us(this._delegate,async function(e){var t;const n=fn(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Hn({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Gn(n,{returnSecureToken:!0}),i=await Hn._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Us(this._delegate,rr(this._delegate,e))}signInWithCustomToken(e){return Us(this._delegate,or(this._delegate,e))}signInWithEmailAndPassword(e,t){return Us(this._delegate,function(e,t,n){return rr(P(e),Mn.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&hr(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Us(this._delegate,async function(e,t,n){const r=P(e),i=Mn.credentialWithLink(t,n||mt());return ft(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),rr(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Bs(this._delegate,async function(e,t,n){const r=fn(e),i=await li(r,t,P(n));return new ai(i,(e=>rr(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return qs(Cs(),this._delegate,"operation-not-supported-in-this-environment"),Us(this._delegate,async function(e,t,n){const r=fn(e);ht(e,t,Fn);const i=ci(r,n);return new yi(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Ls))}async signInWithRedirect(e){return qs(Cs(),this._delegate,"operation-not-supported-in-this-environment"),await Ps(this._delegate),ki(this._delegate,e,Ls)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await fr(P(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Ks(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&js.getOrCreate(e)),error:t,complete:n}}function Gs(e,t){const n=function(e,t){const n=Ds();if(!n)return[];const r=Xt(Ns,e,t);switch(n.getItem(r)){case As.NONE:return[Yt];case As.LOCAL:return[Xr,Lr];case As.SESSION:return[Lr];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Xr)||n.push(Xr),"undefined"!==typeof window)for(const r of[Dr,Lr])n.includes(r)||n.push(r);return n.includes(Yt)||n.push(Yt),n}Ws.Persistence=As;class Hs{constructor(){this.providerId="phone",this._delegate=new ui(Ms(He.auth()))}static credential(e,t){return ui.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Hs.PHONE_SIGN_IN_METHOD=ui.PHONE_SIGN_IN_METHOD,Hs.PROVIDER_ID=ui.PROVIDER_ID;const Qs=ft;class Ys{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:He.app();var r;Qs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new oi(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Xs;(Xs=He).INTERNAL.registerComponent(new D("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ws(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Xe,PASSWORD_RESET:$e,RECOVER_EMAIL:Je,REVERT_SECOND_FACTOR_ADDITION:Ze,VERIFY_AND_CHANGE_EMAIL:et,VERIFY_EMAIL:tt}},EmailAuthProvider:Mn,FacebookAuthProvider:Bn,GithubAuthProvider:jn,GoogleAuthProvider:zn,OAuthProvider:Un,SAMLAuthProvider:Wn,PhoneAuthProvider:Hs,PhoneMultiFactorGenerator:is,RecaptchaVerifier:Ys,TwitterAuthProvider:Kn,Auth:Ws,AuthCredential:In,Error:b}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Xs.registerVersion("@firebase/auth-compat","0.4.9");var $s,Js="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Zs={},eo=eo||{},to=Js||self;function no(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ro(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var io="closure_uid_"+(1e9*Math.random()>>>0),so=0;function oo(e,t,n){return e.call.apply(e.bind,arguments)}function ao(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function lo(e,t,n){return(lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oo:ao).apply(null,arguments)}function uo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function co(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function ho(){this.s=this.s,this.o=this.o}ho.prototype.s=!1,ho.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,io)&&e[io]||(e[io]=++so))},ho.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function po(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function go(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(no(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function mo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}mo.prototype.h=function(){this.defaultPrevented=!0};var yo=function(){if(!to.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{to.addEventListener("test",(()=>{}),t),to.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function vo(e){return/^[\s\xa0]*$/.test(e)}function wo(){var e=to.navigator;return e&&(e=e.userAgent)?e:""}function bo(e){return-1!=wo().indexOf(e)}function _o(e){return _o[" "](e),e}_o[" "]=function(){};var So,Io,Eo=bo("Opera"),ko=bo("Trident")||bo("MSIE"),To=bo("Edge"),Co=To||ko,xo=bo("Gecko")&&!(-1!=wo().toLowerCase().indexOf("webkit")&&!bo("Edge"))&&!(bo("Trident")||bo("MSIE"))&&!bo("Edge"),Ao=-1!=wo().toLowerCase().indexOf("webkit")&&!bo("Edge");function Ro(){var e=to.document;return e?e.documentMode:void 0}e:{var No="",Po=function(){var e=wo();return xo?/rv:([^\);]+)(\)|;)/.exec(e):To?/Edge\/([\d\.]+)/.exec(e):ko?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ao?/WebKit\/(\S+)/.exec(e):Eo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Po&&(No=Po?Po[1]:""),ko){var Do=Ro();if(null!=Do&&Do>parseFloat(No)){So=String(Do);break e}}So=No}if(to.document&&ko){var Oo=Ro();Io=Oo||(parseInt(So,10)||void 0)}else Io=void 0;var Lo=Io;function Mo(e,t){if(mo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(xo){e:{try{_o(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Fo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Mo.$.h.call(this)}}co(Mo,mo);var Fo={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),Uo=0;function Bo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Uo,this.fa=this.ia=!1}function zo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function jo(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function qo(e){const t={};for(const n in e)t[n]=e[n];return t}const Wo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ko(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Wo.length;t++)n=Wo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Go(e){this.src=e,this.g={},this.h=0}function Ho(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=fo(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(zo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Qo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Go.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Qo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Bo(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Yo="closure_lm_"+(1e6*Math.random()|0),Xo={};function $o(e,t,n,r,i){if(r&&r.once)return Zo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$o(e,t[s],n,r,i);return null}return n=oa(n),e&&e[Vo]?e.O(t,n,ro(r)?!!r.capture:!!r,i):Jo(e,t,n,!1,r,i)}function Jo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ro(i)?!!i.capture:!!i,a=ia(e);if(a||(e[Yo]=a=new Go(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ra;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)yo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(na(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Zo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Zo(e,t[s],n,r,i);return null}return n=oa(n),e&&e[Vo]?e.P(t,n,ro(r)?!!r.capture:!!r,i):Jo(e,t,n,!0,r,i)}function ea(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ea(e,t[s],n,r,i);else r=ro(r)?!!r.capture:!!r,n=oa(n),e&&e[Vo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Qo(s=e.g[t],n,r,i))&&(zo(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ia(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Qo(t,n,r,i)),(n=-1<e?t[e]:null)&&ta(n))}function ta(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Vo])Ho(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(na(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ia(t))?(Ho(n,e),0==n.h&&(n.src=null,t[Yo]=null)):zo(e)}}}function na(e){return e in Xo?Xo[e]:Xo[e]="on"+e}function ra(e,t){if(e.fa)e=!0;else{t=new Mo(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ta(e),e=n.call(r,t)}return e}function ia(e){return(e=e[Yo])instanceof Go?e:null}var sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(e){return"function"===typeof e?e:(e[sa]||(e[sa]=function(t){return e.handleEvent(t)}),e[sa])}function aa(){ho.call(this),this.i=new Go(this),this.S=this,this.J=null}function la(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new mo(t,e);else if(t instanceof mo)t.target=t.target||e;else{var i=t;Ko(t=new mo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ua(o,r,!0,t)&&i}if(i=ua(o=t.g=e,r,!0,t)&&i,i=ua(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ua(o=t.g=n[s],r,!1,t)&&i}function ua(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ho(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}co(aa,ho),aa.prototype[Vo]=!0,aa.prototype.removeEventListener=function(e,t,n,r){ea(this,e,t,n,r)},aa.prototype.N=function(){if(aa.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)zo(n[r]);delete t.g[e],t.h--}}this.J=null},aa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},aa.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ca=to.JSON.stringify;function ha(){var e=va;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var da=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new fa),(e=>e.reset()));class fa{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pa(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ga(e){to.setTimeout((()=>{throw e}),0)}let ma,ya=!1,va=new class{constructor(){this.h=this.g=null}add(e,t){const n=da.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},wa=()=>{const e=to.Promise.resolve(void 0);ma=()=>{e.then(ba)}};var ba=()=>{for(var e;e=ha();){try{e.h.call(e.g)}catch(n){ga(n)}var t=da;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1};function _a(e,t){aa.call(this),this.h=e||1,this.g=t||to,this.j=lo(this.qb,this),this.l=Date.now()}function Sa(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ia(e,t,n){if("function"===typeof e)n&&(e=lo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=lo(e.handleEvent,e)}return 2147483647<Number(t)?-1:to.setTimeout(e,t||0)}function Ea(e){e.g=Ia((()=>{e.g=null,e.i&&(e.i=!1,Ea(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}co(_a,aa),($s=_a.prototype).ga=!1,$s.T=null,$s.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),la(this,"tick"),this.ga&&(Sa(this),this.start()))}},$s.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$s.N=function(){_a.$.N.call(this),Sa(this),delete this.g};class ka extends ho{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ea(this)}N(){super.N(),this.g&&(to.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(e){ho.call(this),this.h=e,this.g={}}co(Ta,ho);var Ca=[];function xa(e,t,n,r){Array.isArray(n)||(n&&(Ca[0]=n.toString()),n=Ca);for(var i=0;i<n.length;i++){var s=$o(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Aa(e){jo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ta(e)}),e),e.g={}}function Ra(){this.g=!0}function Na(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ca(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ta.prototype.N=function(){Ta.$.N.call(this),Aa(this)},Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ra.prototype.Ea=function(){this.g=!1},Ra.prototype.info=function(){};var Pa={},Da=null;function Oa(){return Da=Da||new aa}function La(e){mo.call(this,Pa.Ta,e)}function Ma(e){const t=Oa();la(t,new La(t))}function Fa(e,t){mo.call(this,Pa.STAT_EVENT,e),this.stat=t}function Va(e){const t=Oa();la(t,new Fa(t,e))}function Ua(e,t){mo.call(this,Pa.Ua,e),this.size=t}function Ba(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return to.setTimeout((function(){e()}),t)}Pa.Ta="serverreachability",co(La,mo),Pa.STAT_EVENT="statevent",co(Fa,mo),Pa.Ua="timingevent",co(Ua,mo);var za={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ja={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qa(){}function Wa(e){return e.h||(e.h=e.i())}function Ka(){}qa.prototype.h=null;var Ga,Ha={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qa(){mo.call(this,"d")}function Ya(){mo.call(this,"c")}function Xa(){}function $a(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ta(this),this.P=Za,e=Co?125:void 0,this.V=new _a(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ja}function Ja(){this.i=null,this.g="",this.h=!1}co(Qa,mo),co(Ya,mo),co(Xa,qa),Xa.prototype.g=function(){return new XMLHttpRequest},Xa.prototype.i=function(){return{}},Ga=new Xa;var Za=45e3,el={},tl={};function nl(e,t,n){e.L=1,e.v=_l(ml(t)),e.s=n,e.S=!0,rl(e,null)}function rl(e,t){e.G=Date.now(),al(e),e.A=ml(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ol(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ja,e.g=Lu(e.l,n?t:null,!e.s),0<e.O&&(e.M=new ka(lo(e.Pa,e,e.g),e.O)),xa(e.U,e.g,"readystatechange",e.nb),t=e.I?qo(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ma(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function il(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function sl(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=ol(e,n),r==tl){4==t&&(e.o=4,Va(14),i=!1),Na(e.j,e.m,null,"[Incomplete Response]");break}if(r==el){e.o=4,Va(15),Na(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Na(e.j,e.m,r,null),dl(e,r)}il(e)&&r!=tl&&r!=el&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Va(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Cu(t),t.M=!0,Va(11))):(Na(e.j,e.m,n,"[Invalid Chunked Response]"),hl(e),cl(e))}function ol(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?tl:(n=Number(t.substring(n,r)),isNaN(n)?el:(r+=1)+n>t.length?tl:(t=t.slice(r,r+n),e.C=r+n,t))}function al(e){e.Y=Date.now()+e.P,ll(e,e.P)}function ll(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ba(lo(e.lb,e),t)}function ul(e){e.B&&(to.clearTimeout(e.B),e.B=null)}function cl(e){0==e.l.H||e.J||Ru(e.l,e)}function hl(e){ul(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Sa(e.V),Aa(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function dl(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||zl(n.i,e)))if(!e.K&&zl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Au(n),wu(n)}Tu(n),Va(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ba(lo(n.ib,n),6e3));if(1>=Bl(n.i)&&n.oa){try{n.oa()}catch(u){}n.oa=void 0}}else Pu(n,11)}else if((e.K||n.g==e)&&Au(n),!vo(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(jl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,bl(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Ou(r,r.J?r.pa:null,r.Y),o.K){ql(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(ul(a),al(a)),r.g=o}else ku(r);0<n.j.length&&_u(n)}else"stop"!=u[0]&&"close"!=u[0]||Pu(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Pu(n,7):vu(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Ma()}catch(u){}}function fl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(no(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(no(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(no(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}($s=$a.prototype).setTimeout=function(e){this.P=e},$s.nb=function(e){e=e.target;const t=this.M;t&&3==du(e)?t.l():this.Pa(e)},$s.Pa=function(e){try{if(e==this.g)e:{const c=du(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Co||this.g&&(this.h.h||this.g.ja()||fu(this.g)))){this.J||4!=c||7==t||Ma(),ul(this);var n=this.g.da();this.ca=n;t:if(il(this)){var r=fu(this.g);e="";var i=r.length,s=4==du(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){hl(this),cl(this);var o="";break t}this.h.i=new to.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vo(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Va(12),hl(this),cl(this);break e}Na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dl(this,n)}this.S?(sl(this,c,o),Co&&this.i&&3==c&&(xa(this.U,this.V,"tick",this.mb),this.V.start())):(Na(this.j,this.m,o,null),dl(this,o)),4==c&&hl(this),this.i&&!this.J&&(4==c?Ru(this.l,this):(this.i=!1,al(this)))}else(function(e){const t={};e=(e.g&&2<=du(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(vo(e[r]))continue;var n=pa(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Va(12)):(this.o=0,Va(13)),hl(this),cl(this)}}}catch(c){}},$s.mb=function(){if(this.g){var e=du(this.g),t=this.g.ja();this.C<t.length&&(ul(this),sl(this,e,t),this.i&&4!=e&&al(this))}},$s.cancel=function(){this.J=!0,hl(this)},$s.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ma(),Va(17)),hl(this),this.o=2,cl(this)):ll(this,this.Y-e)};var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof gl){this.h=e.h,yl(this,e.j),this.s=e.s,this.g=e.g,vl(this,e.m),this.l=e.l;var t=e.i,n=new Rl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),wl(this,n),this.o=e.o}else e&&(t=String(e).match(pl))?(this.h=!1,yl(this,t[1]||"",!0),this.s=Sl(t[2]||""),this.g=Sl(t[3]||"",!0),vl(this,t[4]),this.l=Sl(t[5]||"",!0),wl(this,t[6]||"",!0),this.o=Sl(t[7]||"")):(this.h=!1,this.i=new Rl(null,this.h))}function ml(e){return new gl(e)}function yl(e,t,n){e.j=n?Sl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function vl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wl(e,t,n){t instanceof Rl?(e.i=t,function(e,t){t&&!e.j&&(Nl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Pl(this,t),Ol(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Il(t,xl)),e.i=new Rl(t,e.h))}function bl(e,t,n){e.i.set(t,n)}function _l(e){return bl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Sl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Il(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,El),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function El(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}gl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Il(t,kl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Il(t,kl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Il(n,"/"==n.charAt(0)?Cl:Tl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Il(n,Al)),e.join("")};var kl=/[#\/\?@]/g,Tl=/[#\?:]/g,Cl=/[#\?]/g,xl=/[#\?@]/g,Al=/#/g;function Rl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Nl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Pl(e,t){Nl(e),t=Ll(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Dl(e,t){return Nl(e),t=Ll(e,t),e.g.has(t)}function Ol(e,t,n){Pl(e,t),0<n.length&&(e.i=null,e.g.set(Ll(e,t),po(n)),e.h+=n.length)}function Ll(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}($s=Rl.prototype).add=function(e,t){Nl(this),this.i=null,e=Ll(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},$s.forEach=function(e,t){Nl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},$s.ta=function(){Nl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},$s.Z=function(e){Nl(this);let t=[];if("string"===typeof e)Dl(this,e)&&(t=t.concat(this.g.get(Ll(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},$s.set=function(e,t){return Nl(this),this.i=null,Dl(this,e=Ll(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},$s.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},$s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Ml=class{constructor(e,t){this.g=e,this.map=t}};function Fl(e){this.l=e||Vl,to.PerformanceNavigationTiming?e=0<(e=to.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(to.g&&to.g.Ka&&to.g.Ka()&&to.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Vl=10;function Ul(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Bl(e){return e.h?1:e.g?e.g.size:0}function zl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jl(e,t){e.g?e.g.add(t):e.h=t}function ql(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Wl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return po(e.i)}Fl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Kl,Gl=class{stringify(e){return to.JSON.stringify(e,void 0)}parse(e){return to.JSON.parse(e,void 0)}};function Hl(){this.g=new Gl}function Ql(e,t,n){const r=n||"";try{fl(e,(function(e,n){let i=e;ro(e)&&(i=ca(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Yl(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Xl(e){this.l=e.ec||null,this.j=e.ob||!1}function $l(e,t){aa.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Jl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}co(Xl,qa),Xl.prototype.g=function(){return new $l(this.l,this.j)},Xl.prototype.i=(Kl={},function(){return Kl}),co($l,aa);var Jl=0;function Zl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function eu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tu(e)}function tu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}($s=$l.prototype).open=function(e,t){if(this.readyState!=Jl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tu(this)},$s.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||to).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},$s.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eu(this)),this.readyState=Jl},$s.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tu(this)),this.g&&(this.readyState=3,tu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof to.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},$s.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?eu(this):tu(this),3==this.readyState&&Zl(this)}},$s.Za=function(e){this.g&&(this.response=this.responseText=e,eu(this))},$s.Ya=function(e){this.g&&(this.response=e,eu(this))},$s.ka=function(){this.g&&eu(this)},$s.setRequestHeader=function(e,t){this.v.append(e,t)},$s.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},$s.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty($l.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var nu=to.JSON.parse;function ru(e){aa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=iu,this.L=this.M=!1}co(ru,aa);var iu="",su=/^https?$/i,ou=["POST","PUT"];function au(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,lu(e),cu(e)}function lu(e){e.F||(e.F=!0,la(e,"complete"),la(e,"error"))}function uu(e){if(e.h&&"undefined"!=typeof eo&&(!e.C[1]||4!=du(e)||2!=e.da()))if(e.v&&4==du(e))Ia(e.La,0,e);else if(la(e,"readystatechange"),4==du(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(pl)[1]||null;!i&&to.self&&to.self.location&&(i=to.self.location.protocol.slice(0,-1)),r=!su.test(i?i.toLowerCase():"")}n=r}if(n)la(e,"complete"),la(e,"success");else{e.m=6;try{var s=2<du(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",lu(e)}}finally{cu(e)}}}function cu(e,t){if(e.g){hu(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||la(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function hu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(to.clearTimeout(e.A),e.A=null)}function du(e){return e.g?e.g.readyState:0}function fu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case iu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bc){return null}}function pu(e){let t="";return jo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function gu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):bl(e,t,n))}function mu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yu(e){this.Ga=0,this.j=[],this.l=new Ra,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mu("baseRetryDelayMs",5e3,e),this.hb=mu("retryDelaySeedMs",1e4,e),this.eb=mu("forwardChannelMaxRetries",2,e),this.xa=mu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fl(e&&e.concurrentRequestLimit),this.Ja=new Hl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vu(e){if(bu(e),3==e.H){var t=e.W++,n=ml(e.I);if(bl(n,"SID",e.K),bl(n,"RID",t),bl(n,"TYPE","terminate"),Iu(e,n),(t=new $a(e,e.l,t)).L=2,t.v=_l(ml(n)),n=!1,to.navigator&&to.navigator.sendBeacon)try{n=to.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&to.Image&&((new Image).src=t.v,n=!0),n||(t.g=Lu(t.l,null),t.g.ha(t.v)),t.G=Date.now(),al(t)}Du(e)}function wu(e){e.g&&(Cu(e),e.g.cancel(),e.g=null)}function bu(e){wu(e),e.u&&(to.clearTimeout(e.u),e.u=null),Au(e),e.i.cancel(),e.m&&("number"===typeof e.m&&to.clearTimeout(e.m),e.m=null)}function _u(e){if(!Ul(e.i)&&!e.m){e.m=!0;var t=e.Na;ma||wa(),ya||(ma(),ya=!0),va.add(t,e),e.C=0}}function Su(e,t){var n;n=t?t.m:e.W++;const r=ml(e.I);bl(r,"SID",e.K),bl(r,"RID",n),bl(r,"AID",e.V),Iu(e,r),e.o&&e.s&&gu(r,e.o,e.s),n=new $a(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Eu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),jl(e.i,n),nl(n,r,t)}function Iu(e,t){e.na&&jo(e.na,(function(e,n){bl(t,n,e)})),e.h&&fl({},(function(e,n){bl(t,n,e)}))}function Eu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?lo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Ql(a,e,"req"+n+"_")}catch(Fh){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function ku(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ma||wa(),ya||(ma(),ya=!0),va.add(t,e),e.A=0}}function Tu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ba(lo(e.Ma,e),Nu(e,e.A)),e.A++,!0)}function Cu(e){null!=e.B&&(to.clearTimeout(e.B),e.B=null)}function xu(e){e.g=new $a(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ml(e.wa);bl(t,"RID","rpc"),bl(t,"SID",e.K),bl(t,"AID",e.V),bl(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&bl(t,"TO",e.qa),bl(t,"TYPE","xmlhttp"),Iu(e,t),e.o&&e.s&&gu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=_l(ml(t)),n.s=null,n.S=!0,rl(n,e)}function Au(e){null!=e.v&&(to.clearTimeout(e.v),e.v=null)}function Ru(e,t){var n=null;if(e.g==t){Au(e),Cu(e),e.g=null;var r=2}else{if(!zl(e.i,t))return;n=t.F,ql(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;la(r=Oa(),new Ua(r,n)),_u(e)}else ku(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Bl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ba(lo(e.Na,e,t),Nu(e,e.C)),e.C++,!0))}(e,t)||2==r&&Tu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Pu(e,5);break;case 4:Pu(e,10);break;case 3:Pu(e,6);break;default:Pu(e,2)}}function Nu(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Pu(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=lo(e.pb,e);n||(n=new gl("//www.google.com/images/cleardot.gif"),to.location&&"http"==to.location.protocol||yl(n,"https"),_l(n)),function(e,t){const n=new Ra;if(to.Image){const r=new Image;r.onload=uo(Yl,n,r,"TestLoadImage: loaded",!0,t),r.onerror=uo(Yl,n,r,"TestLoadImage: error",!1,t),r.onabort=uo(Yl,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=uo(Yl,n,r,"TestLoadImage: timeout",!1,t),to.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Va(2);e.H=0,e.h&&e.h.za(t),Du(e),bu(e)}function Du(e){if(e.H=0,e.ma=[],e.h){const t=Wl(e.i);0==t.length&&0==e.j.length||(go(e.ma,t),go(e.ma,e.j),e.i.i.length=0,po(e.j),e.j.length=0),e.h.ya()}}function Ou(e,t,n){var r=n instanceof gl?ml(n):new gl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),vl(r,r.m);else{var i=to.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new gl(null);r&&yl(s,r),t&&(s.g=t),i&&vl(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&bl(r,n,t),bl(r,"VER",e.ra),Iu(e,r),r}function Lu(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ru(new Xl({ob:!0})):new ru(e.va)).Oa(e.J),t}function Mu(){}function Fu(){if(ko&&!(10<=Number(Lo)))throw Error("Environmental error: no available transport.")}function Vu(e,t){aa.call(this),this.g=new yu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!vo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!vo(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new zu(this)}function Uu(e){Qa.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Bu(){Ya.call(this),this.status=1}function zu(e){this.g=e}function ju(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Wu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}($s=ru.prototype).Oa=function(e){this.M=e},$s.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ga.g(),this.C=this.u?Wa(this.u):Wa(Ga),this.g.onreadystatechange=lo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void au(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=to.FormData&&e instanceof to.FormData,!(0<=fo(ou,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hu(this),0<this.B&&((this.L=function(e){return ko&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lo(this.ua,this)):this.A=Ia(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){au(this,s)}},$s.ua=function(){"undefined"!=typeof eo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,la(this,"timeout"),this.abort(8))},$s.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,la(this,"complete"),la(this,"abort"),cu(this))},$s.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cu(this,!0)),ru.$.N.call(this)},$s.La=function(){this.s||(this.G||this.v||this.l?uu(this):this.kb())},$s.kb=function(){uu(this)},$s.isActive=function(){return!!this.g},$s.da=function(){try{return 2<du(this)?this.g.status:-1}catch(Kl){return-1}},$s.ja=function(){try{return this.g?this.g.responseText:""}catch(Kl){return""}},$s.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),nu(t)}},$s.Ia=function(){return this.m},$s.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},($s=yu.prototype).ra=8,$s.H=1,$s.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new $a(this,this.l,e);let s=this.s;if(this.U&&(s?(s=qo(s),Ko(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Eu(this,i,t),bl(n=ml(this.I),"RID",e),bl(n,"CVER",22),this.F&&bl(n,"X-HTTP-Session-Id",this.F),Iu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(pu(s)))+"&"+t:this.o&&gu(n,this.o,s)),jl(this.i,i),this.bb&&bl(n,"TYPE","init"),this.P?(bl(n,"$req",t),bl(n,"SID","null"),i.aa=!0,nl(i,n,null)):nl(i,n,t),this.H=2}}else 3==this.H&&(e?Su(this,e):0==this.j.length||Ul(this.i)||Su(this))},$s.Ma=function(){if(this.u=null,xu(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ba(lo(this.jb,this),e)}},$s.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Va(10),wu(this),xu(this))},$s.ib=function(){null!=this.v&&(this.v=null,wu(this),Tu(this),Va(19))},$s.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Va(2)):(this.l.info("Failed to ping google.com"),Va(1))},$s.isActive=function(){return!!this.h&&this.h.isActive(this)},($s=Mu.prototype).Ba=function(){},$s.Aa=function(){},$s.za=function(){},$s.ya=function(){},$s.isActive=function(){return!0},$s.Va=function(){},Fu.prototype.g=function(e,t){return new Vu(e,t)},co(Vu,aa),Vu.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Va(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ou(e,null,e.Y),_u(e)},Vu.prototype.close=function(){vu(this.g)},Vu.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ca(e),e=n);t.j.push(new Ml(t.fb++,e)),3==t.H&&_u(t)},Vu.prototype.N=function(){this.g.h=null,delete this.j,vu(this.g),delete this.g,Vu.$.N.call(this)},co(Uu,Qa),co(Bu,Ya),co(zu,Mu),zu.prototype.Ba=function(){la(this.g,"a")},zu.prototype.Aa=function(e){la(this.g,new Uu(e))},zu.prototype.za=function(e){la(this.g,new Bu)},zu.prototype.ya=function(){la(this.g,"b")},co(ju,(function(){this.blockSize=-1})),ju.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ju.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)qu(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){qu(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){qu(this,r),i=0;break}}this.h=i,this.i+=t},ju.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ku={};function Gu(e){return-128<=e&&128>e?function(e,t){var n=Ku;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Wu([0|e],0>e?-1:0)})):new Wu([0|e],0>e?-1:0)}function Hu(e){if(isNaN(e)||!isFinite(e))return Yu;if(0>e)return ec(Hu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Qu;return new Wu(t,0)}var Qu=4294967296,Yu=Gu(0),Xu=Gu(1),$u=Gu(16777216);function Ju(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Zu(e){return-1==e.h}function ec(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Wu(n,~e.h).add(Xu)}function tc(e,t){return e.add(ec(t))}function nc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function rc(e,t){this.g=e,this.h=t}function ic(e,t){if(Ju(t))throw Error("division by zero");if(Ju(e))return new rc(Yu,Yu);if(Zu(e))return t=ic(ec(e),t),new rc(ec(t.g),ec(t.h));if(Zu(t))return t=ic(e,ec(t)),new rc(ec(t.g),t.h);if(30<e.g.length){if(Zu(e)||Zu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Xu,r=t;0>=r.X(e);)n=sc(n),r=sc(r);var i=oc(n,1),s=oc(r,1);for(r=oc(r,2),n=oc(n,2);!Ju(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=oc(r,1),n=oc(n,1)}return t=tc(e,i.R(t)),new rc(i,t)}for(i=Yu;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Hu(n)).R(t);Zu(o)||0<o.X(e);)o=(s=Hu(n-=r)).R(t);Ju(s)&&(s=Xu),i=i.add(s),e=tc(e,o)}return new rc(i,e)}function sc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Wu(n,e.h)}function oc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Wu(i,e.h)}($s=Wu.prototype).ea=function(){if(Zu(this))return-ec(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Qu+r)*t,t*=Qu}return e},$s.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Ju(this))return"0";if(Zu(this))return"-"+ec(this).toString(e);for(var t=Hu(Math.pow(e,6)),n=this,r="";;){var i=ic(n,t).g,s=((0<(n=tc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Ju(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},$s.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},$s.X=function(e){return Zu(e=tc(this,e))?-1:Ju(e)?0:1},$s.abs=function(){return Zu(this)?ec(this):this},$s.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Wu(n,-2147483648&n[n.length-1]?-1:0)},$s.R=function(e){if(Ju(this)||Ju(e))return Yu;if(Zu(this))return Zu(e)?ec(this).R(ec(e)):ec(ec(this).R(e));if(Zu(e))return ec(this.R(ec(e)));if(0>this.X($u)&&0>e.X($u))return Hu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,nc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,nc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,nc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,nc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Wu(n,0)},$s.gb=function(e){return ic(this,e).h},$s.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Wu(n,this.h&e.h)},$s.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Wu(n,this.h|e.h)},$s.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Wu(n,this.h^e.h)},Fu.prototype.createWebChannel=Fu.prototype.g,Vu.prototype.send=Vu.prototype.u,Vu.prototype.open=Vu.prototype.m,Vu.prototype.close=Vu.prototype.close,za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,ja.COMPLETE="complete",Ka.EventType=Ha,Ha.OPEN="a",Ha.CLOSE="b",Ha.ERROR="c",Ha.MESSAGE="d",aa.prototype.listen=aa.prototype.O,ru.prototype.listenOnce=ru.prototype.P,ru.prototype.getLastError=ru.prototype.Sa,ru.prototype.getLastErrorCode=ru.prototype.Ia,ru.prototype.getStatus=ru.prototype.da,ru.prototype.getResponseJson=ru.prototype.Wa,ru.prototype.getResponseText=ru.prototype.ja,ru.prototype.send=ru.prototype.ha,ru.prototype.setWithCredentials=ru.prototype.Oa,ju.prototype.digest=ju.prototype.l,ju.prototype.reset=ju.prototype.reset,ju.prototype.update=ju.prototype.j,Wu.prototype.add=Wu.prototype.add,Wu.prototype.multiply=Wu.prototype.R,Wu.prototype.modulo=Wu.prototype.gb,Wu.prototype.compare=Wu.prototype.X,Wu.prototype.toNumber=Wu.prototype.ea,Wu.prototype.toString=Wu.prototype.toString,Wu.prototype.getBits=Wu.prototype.D,Wu.fromNumber=Hu,Wu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ec(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Hu(Math.pow(n,8)),i=Yu,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Hu(Math.pow(n,o)),i=i.R(o).add(Hu(a))):i=(i=i.R(r)).add(Hu(a))}return i};var ac=Zs.createWebChannelTransport=function(){return new Fu},lc=Zs.getStatEventTarget=function(){return Oa()},uc=Zs.ErrorCode=za,cc=Zs.EventType=ja,hc=Zs.Event=Pa,dc=Zs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fc=Zs.FetchXmlHttpFactory=Xl,pc=Zs.WebChannel=Ka,gc=Zs.XhrIo=ru,mc=Zs.Md5=ju,yc=Zs.Integer=Wu;const vc="@firebase/firestore";class wc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wc.UNAUTHENTICATED=new wc(null),wc.GOOGLE_CREDENTIALS=new wc("google-credentials-uid"),wc.FIRST_PARTY=new wc("first-party-uid"),wc.MOCK_USER=new wc("mock-user");let bc="10.5.2";const _c=new q("@firebase/firestore");function Sc(){return _c.logLevel}function Ic(e){if(_c.logLevel<=V.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.debug("Firestore (".concat(bc,"): ").concat(e),...i)}}function Ec(e){if(_c.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.error("Firestore (".concat(bc,"): ").concat(e),...i)}}function kc(e){if(_c.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Tc);_c.warn("Firestore (".concat(bc,"): ").concat(e),...i)}}function Tc(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Cc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(bc,") INTERNAL ASSERTION FAILED: ")+e;throw Ec(t),new Error(t)}function xc(e,t){e||Cc()}function Ac(e,t){return e}const Rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nc extends b{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Pc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Dc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(wc.UNAUTHENTICATED)))}shutdown(){}}class Lc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Mc{constructor(e){this.t=e,this.currentUser=wc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pc,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Ic("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ic("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pc)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Ic("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xc("string"==typeof t.accessToken),new Dc(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return xc(null===e||"string"==typeof e),new wc(e)}}class Fc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=wc.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Fc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(wc.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Ic("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Ic("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Ic("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Ic("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(xc("string"==typeof e.token),this.R=e.token,new Uc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class jc{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=zc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function qc(e,t){return e<t?-1:e>t?1:0}function Wc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Kc(e){return e+"\0"}class Gc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Nc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gc.fromMillis(Date.now())}static fromDate(e){return Gc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Gc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qc(this.nanoseconds,e.nanoseconds):qc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Hc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Hc(e)}static min(){return new Hc(new Gc(0,0))}static max(){return new Hc(new Gc(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Cc(),void 0===n?n=e.length-t:n>e.length-t&&Cc(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Qc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yc extends Qc{construct(e,t,n){return new Yc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Yc(e)}static emptyPath(){return new Yc([])}}const Xc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $c extends Qc{construct(e,t,n){return new $c(e,t,n)}static isValidIdentifier(e){return Xc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$c.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $c(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Nc(Rc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Nc(Rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Nc(Rc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $c(t)}static emptyPath(){return new $c([])}}class Jc{constructor(e){this.path=e}static fromPath(e){return new Jc(Yc.fromString(e))}static fromName(e){return new Jc(Yc.fromString(e).popFirst(5))}static empty(){return new Jc(Yc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jc(new Yc(e.slice()))}}class Zc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function eh(e){return e.fields.find((e=>2===e.kind))}function th(e){return e.fields.filter((e=>2!==e.kind))}Zc.UNKNOWN_ID=-1;class nh{constructor(e,t){this.fieldPath=e,this.kind=t}}class rh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new rh(0,oh.min())}}function ih(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Hc.fromTimestamp(1e9===r?new Gc(n+1,0):new Gc(n,r));return new oh(i,Jc.empty(),t)}function sh(e){return new oh(e.readTime,e.key,-1)}class oh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new oh(Hc.min(),Jc.empty(),-1)}static max(){return new oh(Hc.max(),Jc.empty(),-1)}}function ah(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Jc.comparator(e.documentKey,t.documentKey),0!==n?n:qc(e.largestBatchId,t.largestBatchId))}const lh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ch(e){if(e.code!==Rc.FAILED_PRECONDITION||e.message!==lh)throw e;Ic("LocalStore","Unexpectedly lost primary lease")}class hh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Cc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hh(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof hh?t:hh.resolve(t)}catch(e){return hh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):hh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):hh.reject(t)}static resolve(e){return new hh(((t,n)=>{t(e)}))}static reject(e){return new hh(((t,n)=>{n(e)}))}static waitFor(e){return new hh(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=hh.resolve(!1);for(const n of e)t=t.next((e=>e?hh.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new hh(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new hh(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class dh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Pc,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new gh(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=bh(t.target.error);this.V.reject(new gh(e,n))}}static open(e,t,n,r){try{return new dh(t,e.transaction(r,n))}catch(e){throw new gh(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ic("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yh(t)}}class fh{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===fh.S(p())&&Ec("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ic("SimpleDb","Removing database:",e),vh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!w())return!1;if(fh.C())return!0;const e=p(),t=fh.S(e),n=0<t&&t<10,r=fh.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Ic("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new gh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Nc(Rc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Nc(Rc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new gh(e,r))},r.onupgradeneeded=e=>{Ic("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Ic("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=dh.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),hh.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Ic("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ph{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vh(this.k.delete())}}class gh extends Nc{constructor(e,t){super(Rc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function mh(e){return"IndexedDbTransactionError"===e.name}class yh{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Ic("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ic("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),vh(n)}add(e){return Ic("SimpleDb","ADD",this.store.name,e,e),vh(this.store.add(e))}get(e){return vh(this.store.get(e)).next((t=>(void 0===t&&(t=null),Ic("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Ic("SimpleDb","DELETE",this.store.name,e),vh(this.store.delete(e))}count(){return Ic("SimpleDb","COUNT",this.store.name),vh(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new hh(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new hh(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Ic("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new hh(((n,r)=>{t.onerror=e=>{const t=bh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new hh(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ph(i),o=t(i.primaryKey,i.value,s);if(o instanceof hh){const e=o.catch((e=>(s.done(),hh.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>hh.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vh(e){return new hh(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=bh(e.target.error);n(t)}}))}let wh=!1;function bh(e){const t=fh.S(p());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Nc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return wh||(wh=!0,setTimeout((()=>{throw e}),0)),e}}return e}class _h{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Ic("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Ic("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){mh(e)?Ic("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await ch(e)}await this.ee(6e4)}))}}class Sh{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return hh.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Ic("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Ic("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=sh(t);ah(r,n)>0&&(n=r)})),new oh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Eh(e){return null==e}function kh(e){return 0===e&&1/e==-1/0}function Th(e){return"number"==typeof e&&Number.isInteger(e)&&!kh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Ch(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ah(t)),t=xh(e.get(n),t);return Ah(t)}function xh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ah(e){return e+"\x01\x01"}function Rh(e){const t=e.length;if(xc(t>=2),2===t)return xc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Yc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Cc(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Cc()}s=t+2}return new Yc(r)}Ih._e=-1;const Nh=["userId","batchId"];function Ph(e,t){return[e,Ch(t)]}function Dh(e,t,n){return[e,Ch(t),n]}const Oh={},Lh=["prefixPath","collectionGroup","readTime","documentId"],Mh=["prefixPath","collectionGroup","documentId"],Fh=["collectionGroup","readTime","prefixPath","documentId"],Vh=["canonicalId","targetId"],Uh=["targetId","path"],Bh=["path","targetId"],zh=["collectionId","parent"],jh=["indexId","uid"],qh=["uid","sequenceNumber"],Wh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Kh=["indexId","uid","orderedDocumentKey"],Gh=["userId","collectionPath","documentId"],Hh=["userId","collectionPath","largestBatchId"],Qh=["userId","collectionGroup","largestBatchId"],Yh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xh=[...Yh,"documentOverlays"],$h=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jh=$h,Zh=[...Jh,"indexConfiguration","indexState","indexEntries"];class ed extends uh{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function td(e,t){const n=Ac(e);return fh.M(n.ae,t)}function nd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function id(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class sd{constructor(e,t){this.comparator=e,this.root=t||ad.EMPTY}insert(e,t){return new sd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ad.BLACK,null,null))}remove(e){return new sd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ad.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ad{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ad.RED,this.left=null!=r?r:ad.EMPTY,this.right=null!=i?i:ad.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ad(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ad.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ad.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ad.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ad.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cc();if(this.right.isRed())throw Cc();const e=this.left.check();if(e!==this.right.check())throw Cc();return e+(this.isRed()?0:1)}}ad.EMPTY=null,ad.RED=!0,ad.BLACK=!1,ad.EMPTY=new class{constructor(){this.size=0}get key(){throw Cc()}get value(){throw Cc()}get color(){throw Cc()}get left(){throw Cc()}get right(){throw Cc()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ad(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ld{constructor(e){this.comparator=e,this.data=new sd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ud(this.data.getIterator())}getIteratorFrom(e){return new ud(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ld))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ld(this.comparator);return t.data=e,t}}class ud{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cd(e){return e.hasNext()?e.getNext():void 0}class hd{constructor(e){this.fields=e,e.sort($c.comparator)}static empty(){return new hd([])}unionWith(e){let t=new ld($c.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new hd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class dd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fd{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new dd("Invalid base64 string: "+e):e}}(e);return new fd(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fd(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fd.EMPTY_BYTE_STRING=new fd("");const pd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gd(e){if(xc(!!e),"string"==typeof e){let t=0;const n=pd.exec(e);if(xc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:md(e.seconds),nanos:md(e.nanos)}}function md(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yd(e){return"string"==typeof e?fd.fromBase64String(e):fd.fromUint8Array(e)}function vd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wd(e){const t=e.mapValue.fields.__previous_value__;return vd(t)?wd(t):t}function bd(e){const t=gd(e.mapValue.fields.__local_write_time__.timestampValue);return new Gc(t.seconds,t.nanos)}class _d{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Sd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sd&&e.projectId===this.projectId&&e.database===this.database}}const Id={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ed={nullValue:"NULL_VALUE"};function kd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vd(e)?4:Ud(e)?9007199254740991:10:Cc()}function Td(e,t){if(e===t)return!0;const n=kd(e);if(n!==kd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bd(e).isEqual(bd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=gd(e.timestampValue),r=gd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yd(e.bytesValue).isEqual(yd(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return md(e.geoPointValue.latitude)===md(t.geoPointValue.latitude)&&md(e.geoPointValue.longitude)===md(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return md(e.integerValue)===md(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=md(e.doubleValue),r=md(t.doubleValue);return n===r?kh(n)===kh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wc(e.arrayValue.values||[],t.arrayValue.values||[],Td);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nd(n)!==nd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Td(n[i],r[i])))return!1;return!0}(e,t);default:return Cc()}}function Cd(e,t){return void 0!==(e.values||[]).find((e=>Td(e,t)))}function xd(e,t){if(e===t)return 0;const n=kd(e),r=kd(t);if(n!==r)return qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=md(e.integerValue||e.doubleValue),r=md(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ad(e.timestampValue,t.timestampValue);case 4:return Ad(bd(e),bd(t));case 5:return qc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yd(e),r=yd(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=qc(n[i],r[i]);if(0!==e)return e}return qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=qc(md(e.latitude),md(t.latitude));return 0!==n?n:qc(md(e.longitude),md(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=xd(n[i],r[i]);if(e)return e}return qc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Id.mapValue&&t===Id.mapValue)return 0;if(e===Id.mapValue)return 1;if(t===Id.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=qc(r[o],s[o]);if(0!==e)return e;const t=xd(n[r[o]],i[s[o]]);if(0!==t)return t}return qc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Cc()}}function Ad(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qc(e,t);const n=gd(e),r=gd(t),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function Rd(e){return Nd(e)}function Nd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=gd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yd(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Jc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Nd(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Nd(e.fields[i]));return n+"}"}(e.mapValue):Cc()}function Pd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Dd(e){return!!e&&"integerValue"in e}function Od(e){return!!e&&"arrayValue"in e}function Ld(e){return!!e&&"nullValue"in e}function Md(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Fd(e){return!!e&&"mapValue"in e}function Vd(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rd(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vd(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vd(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ud(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bd(e){return"nullValue"in e?Ed:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Pd(Sd.empty(),Jc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Cc()}function zd(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Pd(Sd.empty(),Jc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Id:Cc()}function jd(e,t){const n=xd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function qd(e,t){const n=xd(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Wd{constructor(e){this.value=e}static empty(){return new Wd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(t)}setAll(e){let t=$c.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vd(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Td(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Fd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){rd(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Wd(Vd(this.value))}}function Kd(e){const t=[];return rd(e.fields,((e,n)=>{const r=new $c([e]);if(Fd(n)){const e=Kd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new hd(t)}class Gd{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Gd(e,0,Hc.min(),Hc.min(),Hc.min(),Wd.empty(),0)}static newFoundDocument(e,t,n,r){return new Gd(e,1,t,Hc.min(),n,r,0)}static newNoDocument(e,t){return new Gd(e,2,t,Hc.min(),Hc.min(),Wd.empty(),0)}static newUnknownDocument(e,t){return new Gd(e,3,t,Hc.min(),Hc.min(),Wd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Hc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Hc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hd{constructor(e,t){this.position=e,this.inclusive=t}}function Qd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Jc.comparator(Jc.fromName(o.referenceValue),n.key):xd(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Yd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Td(e.position[n],t.position[n]))return!1;return!0}class Xd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function $d(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Jd{}class Zd extends Jd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cf(e,t,n):"array-contains"===t?new pf(e,n):"in"===t?new gf(e,n):"not-in"===t?new mf(e,n):"array-contains-any"===t?new yf(e,n):new Zd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new hf(e,n):new df(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xd(t,this.value)):null!==t&&kd(this.value)===kd(t)&&this.matchesComparison(xd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cc()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ef extends Jd{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new ef(e,t)}matches(e){return tf(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function tf(e){return"and"===e.op}function nf(e){return"or"===e.op}function rf(e){return sf(e)&&tf(e)}function sf(e){for(const t of e.filters)if(t instanceof ef)return!1;return!0}function of(e){if(e instanceof Zd)return e.field.canonicalString()+e.op.toString()+Rd(e.value);if(rf(e))return e.filters.map((e=>of(e))).join(",");{const t=e.filters.map((e=>of(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function af(e,t){return e instanceof Zd?function(e,t){return t instanceof Zd&&e.op===t.op&&e.field.isEqual(t.field)&&Td(e.value,t.value)}(e,t):e instanceof ef?function(e,t){return t instanceof ef&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&af(n,t.filters[r])),!0)}(e,t):void Cc()}function lf(e,t){const n=e.filters.concat(t);return ef.create(n,e.op)}function uf(e){return e instanceof Zd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Rd(e.value))}(e):e instanceof ef?function(e){return e.op.toString()+" {"+e.getFilters().map(uf).join(" ,")+"}"}(e):"Filter"}class cf extends Zd{constructor(e,t,n){super(e,t,n),this.key=Jc.fromName(n.referenceValue)}matches(e){const t=Jc.comparator(e.key,this.key);return this.matchesComparison(t)}}class hf extends Zd{constructor(e,t){super(e,"in",t),this.keys=ff("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class df extends Zd{constructor(e,t){super(e,"not-in",t),this.keys=ff("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ff(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Jc.fromName(e.referenceValue)))}class pf extends Zd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Od(t)&&Cd(t.arrayValue,this.value)}}class gf extends Zd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cd(this.value.arrayValue,t)}}class mf extends Zd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cd(this.value.arrayValue,t)}}class yf extends Zd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Od(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cd(this.value.arrayValue,e)))}}class vf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function wf(e){return new vf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function bf(e){const t=Ac(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>of(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Eh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Rd(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Rd(e))).join(",")),t.ce=e}return t.ce}function _f(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$d(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!af(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yd(e.startAt,t.startAt)&&Yd(e.endAt,t.endAt)}function Sf(e){return Jc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function If(e,t){return e.filters.filter((e=>e instanceof Zd&&e.field.isEqual(t)))}function Ef(e,t,n){let r=Ed,i=!0;for(const s of If(e,t)){let e=Ed,t=!0;switch(s.op){case"<":case"<=":e=Bd(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Ed}jd({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];jd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function kf(e,t,n){let r=Id,i=!0;for(const s of If(e,t)){let e=Id,t=!0;switch(s.op){case">=":case">":e=zd(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Id}qd({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];qd({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Tf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Cf(e,t,n,r,i,s,o,a){return new Tf(e,t,n,r,i,s,o,a)}function xf(e){return new Tf(e)}function Af(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Rf(e){return null!==e.collectionGroup}function Nf(e){const t=Ac(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ld($c.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Xd(r,n))})),e.has($c.keyField().canonicalString())||t.le.push(new Xd($c.keyField(),n))}return t.le}function Pf(e){const t=Ac(e);return t.he||(t.he=Df(t,Nf(e))),t.he}function Df(e,t){if("F"===e.limitType)return wf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Xd(e.field,t)}));const n=e.endAt?new Hd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hd(e.startAt.position,e.startAt.inclusive):null;return wf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Of(e,t){const n=e.filters.concat([t]);return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Lf(e,t,n){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mf(e,t){return _f(Pf(e),Pf(t))&&e.limitType===t.limitType}function Ff(e){return"".concat(bf(Pf(e)),"|lt:").concat(e.limitType)}function Vf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>uf(e))).join(", "),"]")),Eh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Rd(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Rd(e))).join(",")),"Target(".concat(t,")")}(Pf(e)),"; limitType=").concat(e.limitType,")")}function Uf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Nf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Qd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Nf(e),t))&&!(e.endAt&&!function(e,t,n){const r=Qd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Nf(e),t))}(e,t)}function Bf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zf(e){return(t,n)=>{let r=!1;for(const i of Nf(e)){const e=jf(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function jf(e,t,n){const r=e.field.isKeyField()?Jc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xd(r,i):Cc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cc()}}class qf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rd(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return id(this.inner)}size(){return this.innerSize}}const Wf=new sd(Jc.comparator);function Kf(){return Wf}const Gf=new sd(Jc.comparator);function Hf(){let e=Gf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Qf(e){let t=Gf;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Yf(){return $f()}function Xf(){return $f()}function $f(){return new qf((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jf=new sd(Jc.comparator),Zf=new ld(Jc.comparator);function ep(){let e=Zf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const tp=new ld(qc);function np(){return tp}function rp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(t)?"-0":t}}function ip(e){return{integerValue:""+e}}function sp(e,t){return Th(t)?ip(t):rp(e,t)}class op{constructor(){this._=void 0}}function ap(e,t,n){return e instanceof cp?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&vd(t)&&(t=wd(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof hp?dp(e,t):e instanceof fp?pp(e,t):function(e,t){const n=up(e,t),r=mp(n)+mp(e.Ie);return Dd(n)&&Dd(e.Ie)?ip(r):rp(e.serializer,r)}(e,t)}function lp(e,t,n){return e instanceof hp?dp(e,t):e instanceof fp?pp(e,t):n}function up(e,t){return e instanceof gp?function(e){return Dd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cp extends op{}class hp extends op{constructor(e){super(),this.elements=e}}function dp(e,t){const n=yp(t);for(const r of e.elements)n.some((e=>Td(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fp extends op{constructor(e){super(),this.elements=e}}function pp(e,t){let n=yp(t);for(const r of e.elements)n=n.filter((e=>!Td(e,r)));return{arrayValue:{values:n}}}class gp extends op{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function mp(e){return md(e.integerValue||e.doubleValue)}function yp(e){return Od(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vp{constructor(e,t){this.field=e,this.transform=t}}class wp{constructor(e,t){this.version=e,this.transformResults=t}}class bp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bp}static exists(e){return new bp(void 0,e)}static updateTime(e){return new bp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sp{}function Ip(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dp(e.key,bp.none()):new xp(e.key,e.data,bp.none());{const n=e.data,r=Wd.empty();let i=new ld($c.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ap(e.key,r,new hd(i.toArray()),bp.none())}}function Ep(e,t,n){e instanceof xp?function(e,t,n){const r=e.value.clone(),i=Np(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ap?function(e,t,n){if(!_p(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Np(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Rp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function kp(e,t,n,r){return e instanceof xp?function(e,t,n,r){if(!_p(e.precondition,t))return n;const i=e.value.clone(),s=Pp(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ap?function(e,t,n,r){if(!_p(e.precondition,t))return n;const i=Pp(e.fieldTransforms,r,t),s=t.data;return s.setAll(Rp(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return _p(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Tp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=up(r.transform,e||null);null!=i&&(null===n&&(n=Wd.empty()),n.set(r.field,i))}return n||null}function Cp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hp&&t instanceof hp||e instanceof fp&&t instanceof fp?Wc(e.elements,t.elements,Td):e instanceof gp&&t instanceof gp?Td(e.Ie,t.Ie):e instanceof cp&&t instanceof cp}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xp extends Sp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ap extends Sp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Rp(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Np(e,t,n){const r=new Map;xc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,lp(o,a,n[i]))}return r}function Pp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ap(e,s,t))}return r}class Dp extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Op extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ep(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=kp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=kp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Xf();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ip(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Hc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ep())}isEqual(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,((e,t)=>Cp(e,t)))&&Wc(this.baseMutations,e.baseMutations,((e,t)=>Cp(e,t)))}}class Mp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xc(e.mutations.length===n.length);let r=Jf;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Mp(e,t,n,r)}}class Fp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Vp{constructor(e,t){this.count=e,this.unchangedNames=t}}var Up,Bp;function zp(e){switch(e){default:return Cc();case Rc.CANCELLED:case Rc.UNKNOWN:case Rc.DEADLINE_EXCEEDED:case Rc.RESOURCE_EXHAUSTED:case Rc.INTERNAL:case Rc.UNAVAILABLE:case Rc.UNAUTHENTICATED:return!1;case Rc.INVALID_ARGUMENT:case Rc.NOT_FOUND:case Rc.ALREADY_EXISTS:case Rc.PERMISSION_DENIED:case Rc.FAILED_PRECONDITION:case Rc.ABORTED:case Rc.OUT_OF_RANGE:case Rc.UNIMPLEMENTED:case Rc.DATA_LOSS:return!0}}function jp(e){if(void 0===e)return Ec("GRPC error has no .code"),Rc.UNKNOWN;switch(e){case Up.OK:return Rc.OK;case Up.CANCELLED:return Rc.CANCELLED;case Up.UNKNOWN:return Rc.UNKNOWN;case Up.DEADLINE_EXCEEDED:return Rc.DEADLINE_EXCEEDED;case Up.RESOURCE_EXHAUSTED:return Rc.RESOURCE_EXHAUSTED;case Up.INTERNAL:return Rc.INTERNAL;case Up.UNAVAILABLE:return Rc.UNAVAILABLE;case Up.UNAUTHENTICATED:return Rc.UNAUTHENTICATED;case Up.INVALID_ARGUMENT:return Rc.INVALID_ARGUMENT;case Up.NOT_FOUND:return Rc.NOT_FOUND;case Up.ALREADY_EXISTS:return Rc.ALREADY_EXISTS;case Up.PERMISSION_DENIED:return Rc.PERMISSION_DENIED;case Up.FAILED_PRECONDITION:return Rc.FAILED_PRECONDITION;case Up.ABORTED:return Rc.ABORTED;case Up.OUT_OF_RANGE:return Rc.OUT_OF_RANGE;case Up.UNIMPLEMENTED:return Rc.UNIMPLEMENTED;case Up.DATA_LOSS:return Rc.DATA_LOSS;default:return Cc()}}(Bp=Up||(Up={}))[Bp.OK=0]="OK",Bp[Bp.CANCELLED=1]="CANCELLED",Bp[Bp.UNKNOWN=2]="UNKNOWN",Bp[Bp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bp[Bp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bp[Bp.NOT_FOUND=5]="NOT_FOUND",Bp[Bp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bp[Bp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bp[Bp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bp[Bp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bp[Bp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bp[Bp.ABORTED=10]="ABORTED",Bp[Bp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bp[Bp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bp[Bp.INTERNAL=13]="INTERNAL",Bp[Bp.UNAVAILABLE=14]="UNAVAILABLE",Bp[Bp.DATA_LOSS=15]="DATA_LOSS";let qp=null;function Wp(){return new TextEncoder}const Kp=new yc([4294967295,4294967295],0);function Gp(e){const t=Wp().encode(e),n=new mc;return n.update(t),new Uint8Array(n.digest())}function Hp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yc([n,r],0),new yc([i,s],0)]}class Qp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Yp("Invalid padding: ".concat(t));if(n<0)throw new Yp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Yp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Yp("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=yc.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(yc.fromNumber(n)));return 1===r.compare(Kp)&&(r=new yc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Gp(e),[n,r]=Hp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Qp(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Gp(e),[n,r]=Hp(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Yp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$p.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Xp(Hc.min(),r,new sd(qc),Kf(),ep())}}class $p{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $p(n,t,ep(),ep(),ep())}}class Jp{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Zp{constructor(e,t){this.targetId=e,this.fe=t}}class eg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fd.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class tg{constructor(){this.ge=0,this.pe=ig(),this.ye=fd.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ep(),t=ep(),n=ep();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cc()}})),new $p(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=ig()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class ng{constructor(e){this.Le=e,this.ke=new Map,this.qe=Kf(),this.Qe=rg(),this.Ke=new sd(qc)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Cc()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Sf(i))if(0===n){const e=new Jc(i.path);this.We(t,e,Gd.newNoDocument(e,Hc.min()))}else xc(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==qp||qp.tt(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=yd(n).toUint8Array()}catch(e){if(e instanceof dd)return kc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Qp(s,r,i)}catch(e){return kc(e instanceof Yp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Sf(i.target)){const t=new Jc(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Gd.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=ep();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Xp(e,t,this.Ke,this.qe,n);return this.qe=Kf(),this.Qe=rg(),this.Ke=new sd(qc),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new tg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new ld(qc),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Ic("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new tg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function rg(){return new sd(Jc.comparator)}function ig(){return new sd(Jc.comparator)}const sg={asc:"ASCENDING",desc:"DESCENDING"},og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ag={and:"AND",or:"OR"};class lg{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ug(e,t){return e.useProto3Json||Eh(t)?t:{value:t}}function cg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function hg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dg(e,t){return cg(e,t.toTimestamp())}function fg(e){return xc(!!e),Hc.fromTimestamp(function(e){const t=gd(e);return new Gc(t.seconds,t.nanos)}(e))}function pg(e,t){return function(e){return new Yc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function gg(e){const t=Yc.fromString(e);return xc(Fg(t)),t}function mg(e,t){return pg(e.databaseId,t.path)}function yg(e,t){const n=gg(t);if(n.get(1)!==e.databaseId.projectId)throw new Nc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jc(_g(n))}function vg(e,t){return pg(e.databaseId,t)}function wg(e){const t=gg(e);return 4===t.length?Yc.emptyPath():_g(t)}function bg(e){return new Yc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _g(e){return xc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Sg(e,t,n){return{name:mg(e,t),fields:n.value.mapValue.fields}}function Ig(e,t,n){const r=yg(e,t.name),i=fg(t.updateTime),s=t.createTime?fg(t.createTime):Hc.min(),o=new Wd({mapValue:{fields:t.fields}}),a=Gd.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Eg(e,t){let n;if(t instanceof xp)n={update:Sg(e,t.key,t.value)};else if(t instanceof Dp)n={delete:mg(e,t.key)};else if(t instanceof Ap)n={update:Sg(e,t.key,t.data),updateMask:Mg(t.fieldMask)};else{if(!(t instanceof Op))return Cc();n={verify:mg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cp)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hp)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gp)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Cc()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cc()}(e,t.precondition)),n}function kg(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?bp.updateTime(fg(e.updateTime)):void 0!==e.exists?bp.exists(e.exists):bp.none()}(t.currentDocument):bp.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)xc("REQUEST_TIME"===t.setToServerValue),n=new cp;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new hp(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new fp(e)}else"increment"in t?n=new gp(e,t.increment):Cc();const r=$c.fromServerFormat(t.fieldPath);return new vp(r,n)}(e,t))):[];if(t.update){t.update.name;const i=yg(e,t.update.name),s=new Wd({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new hd(t.map((e=>$c.fromServerFormat(e))))}(t.updateMask);return new Ap(i,s,e,n,r)}return new xp(i,s,n,r)}if(t.delete){const r=yg(e,t.delete);return new Dp(r,n)}if(t.verify){const r=yg(e,t.verify);return new Op(r,n)}return Cc()}function Tg(e,t){return{documents:[vg(e,t.path)]}}function Cg(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Lg(ef.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Dg(e.field),direction:Rg(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ug(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function xg(e){let t=wg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ag(e);return t instanceof ef&&rf(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Xd(Og(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Eh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hd(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Hd(n,t)}(n.endAt)),Cf(t,i,o,s,a,"F",l,u)}function Ag(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Og(e.unaryFilter.field);return Zd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Og(e.unaryFilter.field);return Zd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Og(e.unaryFilter.field);return Zd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Og(e.unaryFilter.field);return Zd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cc()}}(e):void 0!==e.fieldFilter?function(e){return Zd.create(Og(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ef.create(e.compositeFilter.filters.map((e=>Ag(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Cc()}}(e.compositeFilter.op))}(e):Cc()}function Rg(e){return sg[e]}function Ng(e){return og[e]}function Pg(e){return ag[e]}function Dg(e){return{fieldPath:e.canonicalString()}}function Og(e){return $c.fromServerFormat(e.fieldPath)}function Lg(e){return e instanceof Zd?function(e){if("=="===e.op){if(Md(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NAN"}};if(Ld(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Md(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NAN"}};if(Ld(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dg(e.field),op:Ng(e.op),value:e.value}}}(e):e instanceof ef?function(e){const t=e.getFilters().map((e=>Lg(e)));return 1===t.length?t[0]:{compositeFilter:{op:Pg(e.op),filters:t}}}(e):Cc()}function Mg(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Fg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Vg{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fd.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Vg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ug{constructor(e){this.ut=e}}function Bg(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:zg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cg(e,t.version.toTimestamp()),createTime:cg(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jg(t.version)};else{if(!t.isUnknownDocument())return Cc();r.unknownDocument={path:n.path.toArray(),version:jg(t.version)}}return r}function zg(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jg(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function qg(e){const t=new Gc(e.seconds,e.nanoseconds);return Hc.fromTimestamp(t)}function Wg(e,t){const n=(t.baseMutations||[]).map((t=>kg(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>kg(e.ut,t))),i=Gc.fromMillis(t.localWriteTimeMs);return new Lp(t.batchId,i,n,r)}function Kg(e){const t=qg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?qg(e.lastLimboFreeSnapshotVersion):Hc.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return xc(1===e.documents.length),Pf(xf(wg(e.documents[0])))}(e.query):function(e){return Pf(xg(e))}(e.query),new Vg(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,fd.fromBase64String(e.resumeToken))}function Gg(e,t){const n=jg(t.snapshotVersion),r=jg(t.lastLimboFreeSnapshotVersion);let i;i=Sf(t.target)?Tg(e.ut,t.target):Cg(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:bf(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hg(e){const t=xg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Lf(t,t.limit,"L"):t}function Qg(e,t){return new Fp(t.largestBatchId,kg(e.ut,t.overlayMutation))}function Yg(e,t){const n=t.path.lastSegment();return[e,Ch(t.path.popLast()),n]}function Xg(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jg(r.readTime),documentKey:Ch(r.documentKey.path),largestBatchId:r.largestBatchId}}class $g{getBundleMetadata(e,t){return Jg(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:qg(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Jg(e).put(function(e){return{bundleId:e.id,createTime:jg(fg(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return Zg(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Hg(e.bundledQuery),readTime:qg(e.readTime)}}(e)}))}saveNamedQuery(e,t){return Zg(e).put(function(e){return{name:e.name,readTime:jg(fg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Jg(e){return td(e,"bundles")}function Zg(e){return td(e,"namedQueries")}class em{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new em(e,n)}getOverlay(e,t){return tm(e).get(Yg(this.userId,t)).next((e=>e?Qg(this.serializer,e):null))}getOverlays(e,t){const n=Yf();return hh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Fp(t,i);r.push(this.lt(e,s))})),hh.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ch(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(tm(e).H("collectionPathOverlayIndex",r))})),hh.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Yf(),i=Ch(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return tm(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Qg(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Yf();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tm(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Qg(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return tm(e).put(function(e,t,n){const[r,i,s]=Yg(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Eg(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function tm(e){return td(e,"documentOverlays")}class nm{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(md(e.integerValue));else if("doubleValue"in e){const n=md(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),kh(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(yd(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?Ud(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Cc()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Jc.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function rm(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function im(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=rm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}nm.St=new nm;class sm{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=im(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=im(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class om{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class am{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class lm{constructor(){this.Wt=new sm,this.Gt=new om(this.Wt),this.zt=new am(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class um{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new um(this.indexId,this.documentKey,this.arrayValue,n)}}function cm(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=hm(e.arrayValue,t.arrayValue),0!==n?n:(n=hm(e.directionalValue,t.directionalValue),0!==n?n:Jc.comparator(e.documentKey,t.documentKey)))}function hm(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class dm{constructor(e){this.Jt=new ld(((e,t)=>$c.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(xc(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=eh(e);if(void 0!==t&&!this.tn(t))return!1;const n=th(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new ld($c.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new nh(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new nh(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new nh(n.field,"asc"===n.dir?0:1)));return new Zc(Zc.UNKNOWN_ID,this.collectionId,t,rh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function fm(e){var t,n;if(xc(e instanceof Zd||e instanceof ef),e instanceof Zd){if(e instanceof gf){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Zd.create(e.field,"==",t))))||[];return ef.create(r,"or")}return e}const r=e.filters.map((e=>fm(e)));return ef.create(r,e.op)}function pm(e){if(0===e.getFilters().length)return[];const t=vm(fm(e));return xc(ym(t)),gm(t)||mm(t)?[t]:t.getFilters()}function gm(e){return e instanceof Zd}function mm(e){return e instanceof ef&&rf(e)}function ym(e){return gm(e)||mm(e)||function(e){if(e instanceof ef&&nf(e)){for(const t of e.getFilters())if(!gm(t)&&!mm(t))return!1;return!0}return!1}(e)}function vm(e){if(xc(e instanceof Zd||e instanceof ef),e instanceof Zd)return e;if(1===e.filters.length)return vm(e.filters[0]);const t=e.filters.map((e=>vm(e)));let n=ef.create(t,e.op);return n=_m(n),ym(n)?n:(xc(n instanceof ef),xc(tf(n)),xc(n.filters.length>1),n.filters.reduce(((e,t)=>wm(e,t))))}function wm(e,t){let n;return xc(e instanceof Zd||e instanceof ef),xc(t instanceof Zd||t instanceof ef),n=e instanceof Zd?t instanceof Zd?function(e,t){return ef.create([e,t],"and")}(e,t):bm(e,t):t instanceof Zd?bm(t,e):function(e,t){if(xc(e.filters.length>0&&t.filters.length>0),tf(e)&&tf(t))return lf(e,t.getFilters());const n=nf(e)?e:t,r=nf(e)?t:e,i=n.filters.map((e=>wm(e,r)));return ef.create(i,"or")}(e,t),_m(n)}function bm(e,t){if(tf(t))return lf(t,e.getFilters());{const n=t.filters.map((t=>wm(e,t)));return ef.create(n,"or")}}function _m(e){if(xc(e instanceof Zd||e instanceof ef),e instanceof Zd)return e;const t=e.getFilters();if(1===t.length)return _m(t[0]);if(sf(e))return e;const n=t.map((e=>_m(e))),r=[];return n.forEach((t=>{t instanceof Zd?r.push(t):t instanceof ef&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:ef.create(r,e.op)}class Sm{constructor(){this.on=new Im}addToCollectionParentIndex(e,t){return this.on.add(t),hh.resolve()}getCollectionParents(e,t){return hh.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return hh.resolve()}deleteFieldIndex(e,t){return hh.resolve()}deleteAllFieldIndexes(e){return hh.resolve()}createTargetIndexes(e,t){return hh.resolve()}getDocumentsMatchingTarget(e,t){return hh.resolve(null)}getIndexType(e,t){return hh.resolve(0)}getFieldIndexes(e,t){return hh.resolve([])}getNextCollectionGroupToUpdate(e){return hh.resolve(null)}getMinOffset(e,t){return hh.resolve(oh.min())}getMinOffsetFromCollectionGroup(e,t){return hh.resolve(oh.min())}updateCollectionGroup(e,t,n){return hh.resolve()}updateIndexEntries(e,t){return hh.resolve()}}class Im{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ld(Yc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ld(Yc.comparator)).toArray()}}const Em=new Uint8Array(0);class km{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Im,this.an=new qf((e=>bf(e)),((e,t)=>_f(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Ch(r)};return Tm(e).put(i)}return hh.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Kc(t),""],!1,!0);return Tm(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Rh(r.parent))}return n}))}addFieldIndex(e,t){const n=xm(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Am(e);return i.next((e=>{n.put(Xg(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=xm(e),r=Am(e),i=Cm(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=xm(e),n=Cm(e),r=Am(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return hh.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new dm(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Cm(e);let r=!0;const i=new Map;return hh.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ep();const r=[];return hh.forEach(i,((i,s)=>{Ic("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(bf(t)));const o=function(e,t){const n=eh(t);if(void 0===n)return null;for(const r of If(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of th(t))for(const t of If(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of th(t)){const t=0===i.kind?Ef(e,i.fieldPath,e.startAt):kf(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Hd(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of th(t)){const t=0===i.kind?kf(e,i.fieldPath,e.endAt):Ef(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Hd(n,r)}(s,i),c=this.ln(i,s,l),h=this.ln(i,s,u),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,c,l.inclusive,h,u.inclusive,d);return hh.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Jc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return hh.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:pm(ef.create(e.filters,"and")).map((t=>wf(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.In(t[c/l]):Em,h=this.Tn(e,a,n[c%l],r),d=this.En(e,a,i[c%l],s),f=o.map((t=>this.Tn(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}Tn(e,t,n,r){const i=new um(e,Jc.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new um(e,Jc.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new dm(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return hh.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ld($c.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new lm;for(const r of th(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);nm.St.ht(e,i)}return n.Ut()}In(e){const t=new lm;return nm.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new lm;return nm.St.ht(Pd(this.databaseId,t),n.jt(function(e){const t=th(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new lm);let i=0;for(const s of th(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&Od(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);nm.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new lm;n.seed(e.Ut()),nm.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Zd&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=xm(e),r=Am(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return hh.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new rh(t.sequenceNumber,new oh(qg(t.readTime),new Jc(Rh(t.documentKey)),t.largestBatchId)):rh.empty(),r=e.fields.map((e=>{let[t,n]=e;return new nh($c.fromServerFormat(t),n)}));return new Zc(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:qc(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=xm(e),i=Am(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>hh.forEach(t,(t=>i.put(Xg(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return hh.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?hh.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),hh.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?hh.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Cm(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Cm(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Cm(e);let i=new ld(cm);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new um(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new ld(cm);const r=this.dn(t,e);if(null==r)return n;const i=eh(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Od(s))for(const i of s.arrayValue.values||[])n=n.add(new um(t.indexId,e.key,this.In(i),r))}else n=n.add(new um(t.indexId,e.key,Em,r));return n}yn(e,t,n,r,i){Ic("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=cd(s),l=cd(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=cd(o)):t?(i(a),a=cd(s)):(a=cd(s),l=cd(o))}}(r,i,cm,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),hh.waitFor(s)}fn(e){let t=1;return Am(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>cm(e,t))).filter(((e,t,n)=>!t||0!==cm(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=cm(s,e),i=cm(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Em,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Em,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return cm(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Rm)}getMinOffset(e,t){return hh.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Cc())))).next(Rm)}}function Tm(e){return td(e,"collectionParents")}function Cm(e){return td(e,"indexEntries")}function xm(e){return td(e,"indexConfiguration")}function Am(e){return td(e,"indexState")}function Rm(e){xc(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ah(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new oh(t.readTime,t.documentKey,n)}const Nm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Pm(e,Pm.DEFAULT_COLLECTION_PERCENTILE,Pm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dm(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{xc(1===a)})));const u=[];for(const c of n.mutations){const e=Dh(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return hh.waitFor(s).next((()=>u))}function Om(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Cc();t=e.noDocument}return JSON.stringify(t).length}Pm.DEFAULT_COLLECTION_PERCENTILE=10,Pm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pm.DEFAULT=new Pm(41943040,Pm.DEFAULT_COLLECTION_PERCENTILE,Pm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pm.DISABLED=new Pm(-1,0,0);class Lm{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){xc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Lm(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fm(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Vm(e),s=Fm(e);return s.add({}).next((o=>{xc("number"==typeof o);const a=new Lp(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Eg(e.ut,t))),i=n.mutations.map((t=>Eg(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new ld(((e,t)=>qc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Dh(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,Oh))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),hh.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Fm(e).get(t).next((e=>e?(xc(e.userId===this.userId),Wg(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?hh.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Fm(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(xc(t.batchId>=n),i=Wg(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Fm(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fm(e).W("userMutationsIndex",t).next((e=>e.map((e=>Wg(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ph(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Vm(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,u=Rh(a);if(o===this.userId&&t.path.isEqual(u))return Fm(e).get(l).next((e=>{if(!e)throw Cc();xc(e.userId===this.userId),i.push(Wg(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ld(qc);const r=[];return t.forEach((t=>{const i=Ph(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Vm(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=Rh(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),hh.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ph(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new ld(qc);return Vm(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,u=Rh(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Fm(e).get(t).next((e=>{if(null===e)throw Cc();xc(e.userId===this.userId),n.push(Wg(this.serializer,e))})))})),hh.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Dm(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),hh.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return hh.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Vm(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Rh(e[1]);r.push(t)}else n.done()})).next((()=>{xc(0===r.length)}))}))}containsKey(e,t){return Mm(e,this.userId,t)}Mn(e){return Um(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Mm(e,t,n){const r=Ph(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Vm(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Fm(e){return td(e,"mutations")}function Vm(e){return td(e,"documentMutations")}function Um(e){return td(e,"mutationQueues")}class Bm{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Bm(0)}static Nn(){return new Bm(-1)}}class zm{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new Bm(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>Hc.fromTimestamp(new Gc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>jm(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(xc(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return jm(e).Y(((s,o)=>{const a=Kg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>hh.waitFor(i))).next((()=>r))}forEachTarget(e,t){return jm(e).Y(((e,n)=>{const r=Kg(n);t(r)}))}Bn(e){return qm(e).get("targetGlobalKey").next((e=>(xc(null!==e),e)))}Ln(e,t){return qm(e).put("targetGlobalKey",t)}kn(e,t){return jm(e).put(Gg(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=bf(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return jm(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=Kg(n);_f(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Wm(e);return t.forEach((t=>{const s=Ch(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),hh.waitFor(r)}removeMatchingKeys(e,t,n){const r=Wm(e);return hh.forEach(t,(t=>{const i=Ch(t.path);return hh.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Wm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wm(e);let i=ep();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Rh(e[1]),s=new Jc(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Ch(t.path),r=IDBKeyRange.bound([n],[Kc(n)],!1,!0);let i=0;return Wm(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return jm(e).get(t).next((e=>e?Kg(e):null))}}function jm(e){return td(e,"targets")}function qm(e){return td(e,"targetGlobal")}function Wm(e){return td(e,"targetDocuments")}function Km(e,t){let[n,r]=e,[i,s]=t;const o=qc(n,i);return 0===o?qc(r,s):o}class Gm{constructor(e){this.Qn=e,this.buffer=new ld(Km),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Km(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hm{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Ic("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){mh(e)?Ic("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ch(e)}await this.Gn(3e5)}))}}class Qm{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return hh.resolve(Ih._e);const n=new Gm(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ic("LruGarbageCollector","Garbage collection skipped; disabled"),hh.resolve(Nm)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ic("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Nm):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Ic("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Sc()<=V.DEBUG&&Ic("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-u,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-u,"ms")),hh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ym(e,t){return new Qm(e,t)}class Xm{constructor(e,t){this.db=e,this.garbageCollector=Ym(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return $m(e,n)}removeReference(e,t,n){return $m(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return $m(e,t)}Xn(e,t){return function(e,t){let n=!1;return Um(e).Z((r=>Mm(e,r,t).next((e=>(e&&(n=!0),hh.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Hc.min()),Wm(e).delete(function(e){return[0,Ch(e.path)]}(s)))))}));r.push(t)}})).next((()=>hh.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return $m(e,t)}Zn(e,t){const n=Wm(e);let r,i=Ih._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Ih._e&&t(new Jc(Rh(r)),i),i=l,r=a):i=Ih._e})).next((()=>{i!==Ih._e&&t(new Jc(Rh(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $m(e,t){return Wm(e).put(function(e,t){return{targetId:0,path:Ch(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Jm{constructor(){this.changes=new qf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zm{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ry(e).put(n)}removeEntry(e,t,n){return ry(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],zg(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=Gd.newInvalidDocument(t);return ry(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(iy(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:Gd.newInvalidDocument(t)};return ry(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(iy(t))},((e,r)=>{n={document:this.tr(t,r),size:Om(r)}})).next((()=>n))}getEntries(e,t){let n=Kf();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=Kf(),r=new sd(Jc.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Om(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return hh.resolve();let r=new ld(oy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(iy(r.first()),iy(r.last())),s=r.getIterator();let o=s.getNext();return ry(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Jc.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&oy(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(iy(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),zg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ry(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Kf();for(const i of e){const e=this.tr(Jc.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Uf(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Kf();const s=sy(t,n),o=sy(t,oh.max());return ry(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(Jc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ty(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ny(e).get("remoteDocumentGlobalKey").next((e=>(xc(!!e),e)))}er(e,t){return ny(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ig(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Jc.fromSegments(t.noDocument.path),r=qg(t.noDocument.readTime);n=Gd.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Cc();{const e=Jc.fromSegments(t.unknownDocument.path),r=qg(t.unknownDocument.version);n=Gd.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Gc(e[0],e[1]);return Hc.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Hc.min()))return e}return Gd.newInvalidDocument(e)}}function ey(e){return new Zm(e)}class ty extends Jm{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new qf((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ld(((e,t)=>qc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=Bg(this._r.serializer,s);r=r.add(i.path.popLast());const l=Om(a);n+=l-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=Bg(this._r.serializer,s.convertToNoDocument(Hc.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),hh.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function ny(e){return td(e,"remoteDocumentGlobal")}function ry(e){return td(e,"remoteDocumentsV14")}function iy(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sy(e,t){const n=t.documentKey.path.toArray();return[e,zg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function oy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=qc(n[s],r[s]),i)return i;return i=qc(n.length,r.length),i||(i=qc(n[n.length-2],r[r.length-2]),i||qc(n[n.length-1],r[r.length-1]))}class ay{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ly{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&kp(n.mutation,e,hd.empty(),Gc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ep()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ep();const r=Yf();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Hf();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Yf();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ep())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Kf();const s=$f(),o=$f();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ap)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),kp(o.mutation,t,o.mutation.getFieldMask(),Gc.now())):s.set(t.key,hd.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new ay(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=$f();let r=new sd(((e,t)=>e-t)),i=ep();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||hd.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ep()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Xf();l.forEach((e=>{if(!i.has(e)){const r=Ip(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return hh.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Jc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Rf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):hh.resolve(Yf());let o=-1,a=i;return s.next((t=>hh.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?hh.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ep()))).next((e=>({batchId:o,changes:Qf(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jc(t)).next((e=>{let t=Hf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Hf();return this.indexManager.getCollectionParents(e,i).next((o=>hh.forEach(o,(o=>{const a=function(e,t){return new Tf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Gd.newInvalidDocument(r)))}));let n=Hf();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&kp(s.mutation,r,hd.empty(),Gc.now()),Uf(t,r)&&(n=n.insert(e,r))})),n}))}}class uy{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return hh.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:fg(e.createTime)}}(t)),hh.resolve()}getNamedQuery(e,t){return hh.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:Hg(e.bundledQuery),readTime:fg(e.readTime)}}(t)),hh.resolve()}}class cy{constructor(){this.overlays=new sd(Jc.comparator),this.lr=new Map}getOverlay(e,t){return hh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Yf();return hh.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),hh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),hh.resolve()}getOverlaysForCollection(e,t,n){const r=Yf(),i=t.length+1,s=new Jc(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new sd(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Yf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Yf(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return hh.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Fp(t,n));let i=this.lr.get(t);void 0===i&&(i=ep(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class hy{constructor(){this.hr=new ld(dy.Pr),this.Ir=new ld(dy.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new dy(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new dy(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Jc(new Yc([])),n=new dy(t,e),r=new dy(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Jc(new Yc([])),n=new dy(t,e),r=new dy(t,e+1);let i=ep();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new dy(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dy{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Jc.comparator(e.key,t.key)||qc(e.gr,t.gr)}static Tr(e,t){return qc(e.gr,t.gr)||Jc.comparator(e.key,t.key)}}class fy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ld(dy.Pr)}checkEmpty(e){return hh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lp(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new dy(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return hh.resolve(s)}lookupMutationBatch(e,t){return hh.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return hh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return hh.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return hh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dy(t,0),r=new dy(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),hh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ld(qc);return t.forEach((e=>{const t=new dy(e,0),r=new dy(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),hh.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Jc.isDocumentKey(i)||(i=i.child(""));const s=new dy(new Jc(i),0);let o=new ld(qc);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),hh.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){xc(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return hh.forEach(t.mutations,(r=>{const i=new dy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new dy(t,0),r=this.yr.firstAfterOrEqual(n);return hh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,hh.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class py{constructor(e){this.Cr=e,this.docs=new sd(Jc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hh.resolve(n?n.document.mutableCopy():Gd.newInvalidDocument(t))}getEntries(e,t){let n=Kf();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Gd.newInvalidDocument(e))})),hh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Kf();const s=t.path,o=new Jc(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ah(sh(o),n)<=0||(r.has(o.key)||Uf(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return hh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Cc()}vr(e,t){return hh.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gy(this)}getSize(e){return hh.resolve(this.size)}}class gy extends Jm{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),hh.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class my{constructor(e){this.persistence=e,this.Fr=new qf((e=>bf(e)),_f),this.lastRemoteSnapshotVersion=Hc.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hy,this.targetCount=0,this.Nr=Bm.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),hh.resolve()}getLastRemoteSnapshotVersion(e){return hh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hh.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),hh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),hh.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Bm(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,hh.resolve()}updateTargetData(e,t){return this.kn(t),hh.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,hh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),hh.waitFor(i).next((()=>r))}getTargetCount(e){return hh.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return hh.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),hh.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),hh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),hh.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return hh.resolve(n)}containsKey(e,t){return hh.resolve(this.Or.containsKey(t))}}class yy{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ih(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new my(this),this.indexManager=new Sm,this.remoteDocumentCache=function(e){return new py(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Ug(t),this.Kr=new uy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cy,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new fy(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ic("MemoryPersistence","Starting transaction:",e);const r=new vy(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return hh.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class vy extends uh{constructor(e){super(),this.currentSequenceNumber=e}}class wy{constructor(e){this.persistence=e,this.Gr=new hy,this.zr=null}static jr(e){return new wy(e)}get Hr(){if(this.zr)return this.zr;throw Cc()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),hh.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),hh.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),hh.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hh.forEach(this.Hr,(n=>{const r=Jc.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,Hc.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return hh.or([()=>hh.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class by{constructor(e){this.serializer=e}N(e,t,n,r){const i=new dh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nh,{unique:!0}),e.createObjectStore("documentMutations")}(e),_y(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=hh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),_y(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Hc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nh,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return hh.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Gh});t.createIndex("collectionPathOverlayIndex",Hh,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Qh,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Lh});t.createIndex("documentKeyIndex",Mh),t.createIndex("collectionGroupIndex",Fh)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:jh}).createIndex("sequenceNumberIndex",qh,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Wh}).createIndex("documentKeyIndex",Kh,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Om(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>hh.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>hh.forEach(n,(n=>{xc(n.userId===t.userId);const r=Wg(this.serializer,n);return Dm(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new Yc(n),o=function(e){return[0,Ch(e)]}(s);r.push(t.get(o).next((n=>n?hh.resolve():(n=>t.put({targetId:0,path:Ch(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>hh.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:zh});const n=t.store("collectionParents"),r=new Im,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ch(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new Yc(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Rh(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=Kg(n),i=Gg(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Jc(Yc.fromString(e.document.name).popFirst(5)):e.noDocument?Jc.fromSegments(e.noDocument.path):e.unknownDocument?Jc.fromSegments(e.unknownDocument.path):Cc()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>hh.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=ey(this.serializer),i=new yy(wy.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ep();Wg(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),hh.forEach(n,((e,n)=>{const s=new wc(n),o=em.ct(this.serializer,s),a=i.getIndexManager(s),l=Lm.ct(s,this.serializer,a,i.referenceDelegate);return new ly(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new ed(t,Ih._e),e).next()}))}))}}function _y(e){e.createObjectStore("targetDocuments",{keyPath:Uh}).createIndex("documentTargetsIndex",Bh,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Vh,{unique:!0}),e.createObjectStore("targetGlobal")}const Sy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Iy{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=l,this._i=u,this.ai=c,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Iy.D())throw new Nc(Rc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xm(this,r),this.Ii=t+"main",this.serializer=new Ug(a),this.Ti=new fh(this.Ii,this.ai,new by(this.serializer)),this.qr=new zm(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ey(this.serializer),this.Kr=new $g,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===u&&Ec("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Nc(Rc.FAILED_PRECONDITION,Sy);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Ih(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>ky(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(mh(e))return Ic("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ic("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Ey(e).get("owner").next((e=>hh.resolve(this.wi(e))))}Si(e){return ky(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=td(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return hh.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?hh.resolve(!0):Ey(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Nc(Rc.FAILED_PRECONDITION,Sy);return!1}}return!(!this.networkEnabled||!this.inForeground)||ky(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Ic("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new ed(e,Ih._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>ky(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return Lm.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new km(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return em.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Ic("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Zh:14===e?Jh:13===e?$h:12===e?Xh:11===e?Yh:void Cc()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new ed(r,this.Lr?this.Lr.next():Ih._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Ec("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Nc(Rc.FAILED_PRECONDITION,lh);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Ey(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Nc(Rc.FAILED_PRECONDITION,Sy)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ey(e).put("owner",t)}static D(){return fh.D()}pi(e){const t=Ey(e);return t.get("owner").next((e=>this.wi(e)?(Ic("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):hh.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ec("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!g()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Ic("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ec("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ec("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ey(e){return td(e,"owner")}function ky(e){return td(e,"clientMetadata")}function Ty(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Cy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=ep(),r=ep();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Cy(e,t.fromCache,n,r)}}class xy{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ay{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new xy;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Sc()<=V.DEBUG&&Ic("QueryEngine","SDK will not create cache indexes for query:",Vf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),hh.resolve()):(Sc()<=V.DEBUG&&Ic("QueryEngine","Query:",Vf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Sc()<=V.DEBUG&&Ic("QueryEngine","The SDK decides to create cache indexes for query:",Vf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pf(t))):hh.resolve())}zi(e,t){if(Af(t))return hh.resolve(null);let n=Pf(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Lf(t,null,"F"),n=Pf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ep(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Lf(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Af(t)||r.isEqual(Hc.min())?hh.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?hh.resolve(null):(Sc()<=V.DEBUG&&Ic("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vf(t)),this.Xi(e,s,t,ih(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new ld(zf(e));return t.forEach(((t,r)=>{Uf(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Sc()<=V.DEBUG&&Ic("QueryEngine","Using full collection scan to execute query:",Vf(t)),this.Gi.getDocumentsMatchingQuery(e,t,oh.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ry{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new sd(qc),this.ns=new qf((e=>bf(e)),_f),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ly(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Ny(e,t,n,r){return new Ry(e,t,n,r)}async function Py(e,t){const n=Ac(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ep();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Dy(e){const t=Ac(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Oy(e,t,n){let r=ep(),i=ep();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Kf();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Hc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ic("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function Ly(e,t){const n=Ac(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function My(e,t){const n=Ac(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,hh.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Vg(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Fy(e,t,n){const r=Ac(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!mh(e))throw e;Ic("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Vy(e,t,n){const r=Ac(e);let i=Hc.min(),s=ep();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ac(e),i=r.ns.get(n);return void 0!==i?hh.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Pf(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:Hc.min(),n?s:ep()))).next((e=>(zy(r,Bf(t),e),{documents:e,ls:s})))))}function Uy(e,t){const n=Ac(e),r=Ac(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function By(e,t){const n=Ac(e),r=n.rs.get(t)||Hc.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,ih(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(zy(n,t,e),e)))}function zy(e,t,n){let r=e.rs.get(t)||Hc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function jy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ep();const r=await My(e,Pf(Hg(t.bundledQuery))),i=Ac(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=fg(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(fd.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function qy(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Wy(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ky(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class Gy{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Nc(r.error.code,r.error.message))),s?new Gy(e,t,r.state,i):(Ec("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hy{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Nc(n.error.code,n.error.message))),i?new Hy(e,n.state,r):(Ec("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=np();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Th(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Qy(e,i):(Ec("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class Yy{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Yy(t.clientId,t.onlineState):(Ec("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Xy{constructor(){this.activeTargetIds=np()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $y{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new sd(qc),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=qy(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Xy),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(qy(this.persistenceKey,n));if(e){const t=Qy.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ky(this.persistenceKey,e));if(n){const r=Hy.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ky(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ic("SharedClientState","READ",e,t),t}setItem(e,t){Ic("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ic("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Ic("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Ec("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Ih._e;if(null!=e)try{const n=JSON.parse(e);xc("number"==typeof n),t=n}catch(e){Ec("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ih._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new Gy(this.currentUser,e,t,n),i=Wy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=Wy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=Ky(this.persistenceKey,e),i=new Hy(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return Qy.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Gy.Ts(new wc(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return Hy.Ts(r,t)}Ms(e){return Yy.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Ic("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=np();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Jy{constructor(){this.eo=new Xy,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Xy,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Zy{ro(e){}shutdown(){}}class ev{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Ic("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Ic("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tv=null;function nv(){return null===tv?tv=268435456+Math.round(2147483648*Math.random()):tv++,"0x"+tv.toString(16)}const rv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iv{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const sv="WebChannelConnection";class ov extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=nv(),o=this.So(e,t);Ic("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Ic("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw kc("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=rv[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=nv();return new Promise(((s,o)=>{const a=new gc;a.setWithCredentials(!0),a.listenOnce(cc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case uc.NO_ERROR:const t=a.getResponseJson();Ic(sv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case uc.TIMEOUT:Ic(sv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Nc(Rc.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const n=a.getStatus();if(Ic(sv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rc).indexOf(t)>=0?t:Rc.UNKNOWN}(t.status);o(new Nc(e,t.message))}else o(new Nc(Rc.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Nc(Rc.UNAVAILABLE,"Connection failed."));break;default:Cc()}}finally{Ic(sv,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Ic(sv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=nv(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ac(),o=lc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new fc({})),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Ic(sv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new iv({co:t=>{d?Ic(sv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ic(sv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Ic(sv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},lo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,pc.EventType.OPEN,(()=>{d||Ic(sv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,pc.EventType.CLOSE,(()=>{d||(d=!0,Ic(sv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(c,pc.EventType.ERROR,(t=>{d||(d=!0,kc(sv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Nc(Rc.UNAVAILABLE,"The operation could not be completed")))})),p(c,pc.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];xc(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ic(sv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Up[e];if(void 0!==t)return jp(t)}(t),i=o.message;void 0===n&&(n=Rc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Ro(new Nc(n,i)),c.close()}else Ic(sv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,hc.STAT_EVENT,(t=>{t.stat===dc.PROXY?Ic(sv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===dc.NOPROXY&&Ic(sv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function av(){return"undefined"!=typeof window?window:null}function lv(){return"undefined"!=typeof document?document:null}function uv(e){return new lg(e,!0)}class cv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Ic("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class hv{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new cv(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Rc.RESOURCE_EXHAUSTED?(Ec(t.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Rc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Nc(Rc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Ic("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Ic("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dv extends hv{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(xc(void 0===t||"string"==typeof t),fd.fromBase64String(t||"")):(xc(void 0===t||t instanceof Uint8Array),fd.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Rc.UNKNOWN:jp(e.code);return new Nc(t,e.message||"")}(o);n=new eg(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=yg(e,r.document.name),s=fg(r.document.updateTime),o=r.document.createTime?fg(r.document.createTime):Hc.min(),a=new Wd({mapValue:{fields:r.document.fields}}),l=Gd.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jp(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=yg(e,r.document),s=r.readTime?fg(r.readTime):Hc.min(),o=Gd.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jp([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=yg(e,r.document),s=r.removedTargetIds||[];n=new Jp([],s,i,null)}else{if(!("filter"in t))return Cc();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Vp(r,i),o=e.targetId;n=new Zp(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Hc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Hc.min():t.readTime?fg(t.readTime):Hc.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=bg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Sf(r)?{documents:Tg(e,r)}:{query:Cg(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hg(e,t.resumeToken);const r=ug(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Hc.min())>0){n.readTime=cg(e,t.snapshotVersion.toTimestamp());const r=ug(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Cc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=bg(this.serializer),t.removeTarget=e,this.e_(t)}}class fv extends hv{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(xc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(xc(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?fg(e.updateTime):fg(t);return n.isEqual(Hc.min())&&(n=fg(t)),new wp(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=fg(e.commitTime);return this.listener.I_(n,t)}return xc(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=bg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Eg(this.serializer,e)))};this.e_(t)}}class pv extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Nc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nc(Rc.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Nc(Rc.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class gv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Ec(t),this.f_=!1):Ic("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class mv{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{kv(this)&&(Ic("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ac(e);t.C_.add(4),await vv(t),t.M_.set("Unknown"),t.C_.delete(4),await yv(t)}(this))}))})),this.M_=new gv(n,r)}}async function yv(e){if(kv(e))for(const t of e.v_)await t(!0)}async function vv(e){for(const t of e.v_)await t(!1)}function wv(e,t){const n=Ac(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Ev(n)?Iv(n):qv(n).Ho()&&_v(n,t))}function bv(e,t){const n=Ac(e),r=qv(n);n.D_.delete(t),r.Ho()&&Sv(n,t),0===n.D_.size&&(r.Ho()?r.Zo():kv(n)&&n.M_.set("Unknown"))}function _v(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Hc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}qv(e).u_(t)}function Sv(e,t){e.x_.Oe(t),qv(e).c_(t)}function Iv(e){e.x_=new ng({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),qv(e).start(),e.M_.g_()}function Ev(e){return kv(e)&&!qv(e).jo()&&e.D_.size>0}function kv(e){return 0===Ac(e).C_.size}function Tv(e){e.x_=void 0}async function Cv(e){e.D_.forEach(((t,n)=>{_v(e,t)}))}async function xv(e,t){Tv(e),Ev(e)?(e.M_.w_(t),Iv(e)):e.M_.set("Unknown")}async function Av(e,t,n){if(e.M_.set("Online"),t instanceof eg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Ic("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rv(e,n)}else if(t instanceof Jp?e.x_.$e(t):t instanceof Zp?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(Hc.min()))try{const t=await Dy(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(fd.EMPTY_BYTE_STRING,r.snapshotVersion)),Sv(e,t);const i=new Vg(r.target,t,n,r.sequenceNumber);_v(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ic("RemoteStore","Failed to raise snapshot:",t),await Rv(e,t)}}async function Rv(e,t,n){if(!mh(t))throw t;e.C_.add(1),await vv(e),e.M_.set("Offline"),n||(n=()=>Dy(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Ic("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await yv(e)}))}function Nv(e,t){return t().catch((n=>Rv(e,n,t)))}async function Pv(e){const t=Ac(e),n=Wv(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;Dv(t);)try{const e=await Ly(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,Ov(t,e)}catch(e){await Rv(t,e)}Lv(t)&&Mv(t)}function Dv(e){return kv(e)&&e.b_.length<10}function Ov(e,t){e.b_.push(t);const n=Wv(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function Lv(e){return kv(e)&&!Wv(e).jo()&&e.b_.length>0}function Mv(e){Wv(e).start()}async function Fv(e){Wv(e).E_()}async function Vv(e){const t=Wv(e);for(const n of e.b_)t.P_(n.mutations)}async function Uv(e,t,n){const r=e.b_.shift(),i=Mp.from(r,t,n);await Nv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Pv(e)}async function Bv(e,t){t&&Wv(e).h_&&await async function(e,t){if(function(e){return zp(e)&&e!==Rc.ABORTED}(t.code)){const n=e.b_.shift();Wv(e).Yo(),await Nv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Pv(e)}}(e,t),Lv(e)&&Mv(e)}async function zv(e,t){const n=Ac(e);n.asyncQueue.verifyOperationInProgress(),Ic("RemoteStore","RemoteStore received new credentials");const r=kv(n);n.C_.add(3),await vv(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await yv(n)}async function jv(e,t){const n=Ac(e);t?(n.C_.delete(2),await yv(n)):t||(n.C_.add(2),await vv(n),n.M_.set("Unknown"))}function qv(e){return e.O_||(e.O_=function(e,t,n){const r=Ac(e);return r.A_(),new dv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Cv.bind(null,e),Io:xv.bind(null,e),a_:Av.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Ev(e)?Iv(e):e.M_.set("Unknown")):(await e.O_.stop(),Tv(e))}))),e.O_}function Wv(e){return e.N_||(e.N_=function(e,t,n){const r=Ac(e);return r.A_(),new fv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Fv.bind(null,e),Io:Bv.bind(null,e),T_:Vv.bind(null,e),I_:Uv.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await Pv(e)):(await e.N_.stop(),e.b_.length>0&&(Ic("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class Kv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Kv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nc(Rc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(e,t){if(Ec("AsyncQueue","".concat(t,": ").concat(e)),mh(e))return new Nc(Rc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Hv{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Jc.comparator(t.key,n.key):(e,t)=>Jc.comparator(e.key,t.key),this.keyedMap=Hf(),this.sortedSet=new sd(this.comparator)}static emptySet(e){return new Hv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Hv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Hv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Qv{constructor(){this.B_=new sd(Jc.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Cc():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Yv{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Yv(e,t,Hv.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Xv{constructor(){this.k_=void 0,this.listeners=[]}}class $v{constructor(){this.queries=new qf((e=>Ff(e)),Mf),this.onlineState="Unknown",this.q_=new Set}}async function Jv(e,t){const n=Ac(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Xv),i)try{s.k_=await n.onListen(r)}catch(e){const n=Gv(e,"Initialization of query '".concat(Vf(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&nw(n)}async function Zv(e,t){const n=Ac(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ew(e,t){const n=Ac(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&nw(n)}function tw(e,t,n){const r=Ac(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function nw(e){e.q_.forEach((e=>{e.next()}))}class rw{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Yv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class iw{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class sw{constructor(e){this.serializer=e}hs(e){return yg(this.serializer,e)}Ps(e){return e.metadata.exists?Ig(this.serializer,e.document,!1):Gd.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return fg(e)}}class ow{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=aw(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=Yc.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new sw(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ep()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ac(e);let s=ep(),o=Kf();for(const u of n){const e=t.hs(u.metadata.name);u.document&&(s=s.add(e));const n=t.Ps(u);n.setReadTime(t.Is(u.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await My(i,function(e){return Pf(xf(Yc.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Oy(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new sw(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await jy(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function aw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class lw{constructor(e){this.key=e}}class uw{constructor(e){this.key=e}}class cw{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ep(),this.mutatedKeys=ep(),this._a=zf(e),this.aa=new Hv(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Qv,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Uf(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ha(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this._a(c,a)>0||l&&this._a(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const i=e.la.L_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cc()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n);const s=t?this.Ia():[],o=0===this.oa.size&&this.current?1:0,a=o!==this.sa;return this.sa=o,0!==i.length||a?{snapshot:new Yv(this.query,e.aa,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Qv,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ep(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new uw(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new lw(n))})),t}da(e){this.ia=e.ls,this.oa=ep();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Yv.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class hw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dw{constructor(e){this.key=e,this.Ra=!1}}class fw{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new qf((e=>Ff(e)),Mf),this.fa=new Map,this.ga=new Set,this.pa=new sd(Jc.comparator),this.ya=new Map,this.wa=new hy,this.Sa={},this.ba=new Map,this.Da=Bm.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function pw(e,t){const n=Bw(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await My(n.localStore,Pf(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await gw(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&wv(n.remoteStore,e)}return i}async function gw(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Vy(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Tw(e,t.targetId,o.Ta),o.snapshot}(e,t,n,r);const s=await Vy(e.localStore,t,!0),o=new cw(t,s.ls),a=o.ca(s.documents),l=$p.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Tw(e,n,u.Ta);const c=new hw(t,n,o);return e.ma.set(t,c),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),u.snapshot}async function mw(e,t){const n=Ac(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Mf(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Fy(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),bv(n.remoteStore,r.targetId),Ew(n,r.targetId)})).catch(ch)):(Ew(n,r.targetId),await Fy(n.localStore,r.targetId,!0))}async function yw(e,t){const n=Ac(e);try{const e=await function(e,t){const n=Ac(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(fd.EMPTY_BYTE_STRING,Hc.min()).withLastLimboFreeSnapshotVersion(Hc.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.qr.updateTargetData(e,u))}));let a=Kf(),l=ep();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Oy(e,s,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(Hc.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return hh.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(xc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?xc(r.Ra):e.removedDocuments.size>0&&(xc(r.Ra),r.Ra=!1))})),await Aw(n,e,t)}catch(e){await ch(e)}}function vw(e,t,n){const r=Ac(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ac(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&nw(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ww(e,t,n){const r=Ac(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new sd(Jc.comparator);e=e.insert(s,Gd.newNoDocument(s,Hc.min()));const n=ep().add(s),i=new Xp(Hc.min(),new Map,new sd(qc),e,n);await yw(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),xw(r)}else await Fy(r.localStore,t,!1).then((()=>Ew(r,t,n))).catch(ch)}async function bw(e,t){const n=Ac(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ac(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=hh.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);xc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ep();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Iw(n,r,null),Sw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aw(n,e)}catch(e){await ch(e)}}async function _w(e,t,n){const r=Ac(e);try{const e=await function(e,t){const n=Ac(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(xc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Iw(r,t,n),Sw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Aw(r,e)}catch(n){await ch(n)}}function Sw(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Iw(e,t,n){const r=Ac(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Ew(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||kw(e,t)}))}function kw(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(bv(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),xw(e))}function Tw(e,t,n){for(const r of n)r instanceof lw?(e.wa.addReference(r.key,t),Cw(e,r)):r instanceof uw?(Ic("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||kw(e,r.key)):Cc()}function Cw(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Ic("SyncEngine","New document in limbo: "+n),e.ga.add(r),xw(e))}function xw(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Jc(Yc.fromString(t)),r=e.Da.next();e.ya.set(r,new dw(n)),e.pa=e.pa.insert(n,r),wv(e.remoteStore,new Vg(Pf(xf(n.path)),r,"TargetPurposeLimboResolution",Ih._e))}}async function Aw(e,t,n){const r=Ac(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Cy.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=Ac(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>hh.forEach(t,(t=>hh.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>hh.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!mh(e))throw e;Ic("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function Rw(e,t){const n=Ac(e);if(!n.currentUser.isEqual(t)){Ic("SyncEngine","User change. New user:",t.toKey());const e=await Py(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Nc(Rc.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Aw(n,e._s)}}function Nw(e,t){const n=Ac(e),r=n.ya.get(t);if(r&&r.Ra)return ep().add(r.key);{let e=ep();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function Pw(e,t){const n=Ac(e),r=await Vy(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&Tw(n,t.targetId,i.Ta),i}async function Dw(e,t){const n=Ac(e);return By(n.localStore,t).then((e=>Aw(n,e)))}async function Ow(e,t,n,r){const i=Ac(e),s=await function(e,t){const n=Ac(e),r=Ac(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):hh.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Pv(i.remoteStore):"acknowledged"===n||"rejected"===n?(Iw(i,t,r||null),Sw(i,t),function(e,t){Ac(Ac(e).mutationQueue).Fn(t)}(i.localStore,t)):Cc(),await Aw(i,s)):Ic("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Lw(e,t,n){const r=Ac(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await My(r.localStore,Pf(t[0]));for(const e of t){const t=r.ma.get(e),n=await Pw(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await Uy(r.localStore,o);e=await My(r.localStore,t),await gw(r,Mw(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function Mw(e){return Cf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fw(e){return function(e){return Ac(Ac(e).persistence).Bi()}(Ac(e).localStore)}async function Vw(e,t,n,r){const i=Ac(e);if(i.Ca)return void Ic("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await By(i.localStore,Bf(s[0])),r=Xp.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,fd.EMPTY_BYTE_STRING);await Aw(i,e,r);break}case"rejected":await Fy(i.localStore,t,!0),Ew(i,t,r);break;default:Cc()}}async function Uw(e,t,n){const r=Bw(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Ic("SyncEngine","Adding an already active target "+e);continue}const t=await Uy(r.localStore,e),n=await My(r.localStore,t);await gw(r,Mw(t),n.targetId,!1,n.resumeToken),wv(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await Fy(r.localStore,e,!1).then((()=>{bv(r.remoteStore,e),Ew(r,e)})).catch(ch)}}function Bw(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ww.bind(null,t),t.Va.a_=ew.bind(null,t.eventManager),t.Va.Fa=tw.bind(null,t.eventManager),t}function zw(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_w.bind(null,t),t}class jw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=uv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ny(this.persistence,new Ay,e.initialUser,this.serializer)}createPersistence(e){return new yy(wy.jr,this.serializer)}createSharedClientState(e){return new Jy}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qw extends jw{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await zw(this.xa.syncEngine),await Pv(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Ny(this.persistence,new Ay,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hm(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Sh(t,this.persistence);return new _h(e.asyncQueue,n)}createPersistence(e){const t=Ty(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Pm.withCacheSize(this.cacheSizeBytes):Pm.DEFAULT;return new Iy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,av(),lv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Jy}}class Ww extends qw{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof $y&&(this.sharedClientState.syncEngine={Ys:Ow.bind(null,t),Zs:Vw.bind(null,t),Xs:Uw.bind(null,t),Bi:Fw.bind(null,t),Js:Dw.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Ac(e);if(Bw(n),zw(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Lw(n,e.toArray());n.Ca=!0,await jv(n.remoteStore,!0);for(const r of t)wv(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ew(n,i),Fy(n.localStore,i,!0)))),bv(n.remoteStore,i)})),await t,await Lw(n,e),function(e){const t=Ac(e);t.ya.forEach(((e,n)=>{bv(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new sd(Jc.comparator)}(n),n.Ca=!1,await jv(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=av();if(!$y.D(t))throw new Nc(Rc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ty(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $y(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Kw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>vw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rw.bind(null,this.syncEngine),await jv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new $v}createDatastore(e){const t=uv(e.databaseInfo.databaseId),n=function(e){return new ov(e)}(e.databaseInfo);return function(e,t,n,r){return new pv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>vw(this.syncEngine,e,0)),ev.D()?new ev:new Zy)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new fw(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ac(e);Ic("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await vv(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function Gw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ec("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Qw{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Pc,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new iw(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Yw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nc(Rc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ac(e),r=bg(n.serializer)+"/documents",i={documents:t.map((e=>mg(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){xc(!!t.found),t.found.name,t.found.updateTime;const n=yg(e,t.found.name),r=fg(t.found.updateTime),i=t.found.createTime?fg(t.found.createTime):Hc.min(),s=new Wd({mapValue:{fields:t.found.fields}});return Gd.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){xc(!!t.missing),xc(!!t.readTime);const n=yg(e,t.missing),r=fg(t.readTime);return Gd.newNoDocument(n,r)}(e,t):Cc()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());xc(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Jc.fromPath(t);this.mutations.push(new Op(n,this.precondition(n)))})),await async function(e,t){const n=Ac(e),r=bg(n.serializer)+"/documents",i={writes:t.map((e=>Eg(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Cc();t=Hc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nc(Rc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Hc.min())?bp.exists(!1):bp.updateTime(t):bp.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hc.min()))throw new Nc(Rc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bp.updateTime(t)}return bp.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Xw{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new cv(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new Yw(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Eh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zp(t)}return!1}}class $w{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=wc.UNAUTHENTICATED,this.clientId=jc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Ic("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Ic("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Nc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Gv(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Jw(e,t){e.asyncQueue.verifyOperationInProgress(),Ic("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Py(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Zw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tb(e);Ic("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>zv(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zv(t.remoteStore,n))),e._onlineComponents=t}function eb(e){return"FirebaseError"===e.name?e.code===Rc.FAILED_PRECONDITION||e.code===Rc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function tb(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ic("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!eb(n))throw n;kc("Error using user provided cache. Falling back to memory cache: "+n),await Jw(e,new jw)}}else Ic("FirestoreClient","Using default OfflineComponentProvider"),await Jw(e,new jw);return e._offlineComponents}async function nb(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ic("FirestoreClient","Using user provided OnlineComponentProvider"),await Zw(e,e._uninitializedComponentsProvider._online)):(Ic("FirestoreClient","Using default OnlineComponentProvider"),await Zw(e,new Kw))),e._onlineComponents}function rb(e){return tb(e).then((e=>e.persistence))}function ib(e){return tb(e).then((e=>e.localStore))}function sb(e){return nb(e).then((e=>e.remoteStore))}function ob(e){return nb(e).then((e=>e.syncEngine))}function ab(e){return nb(e).then((e=>e.datastore))}async function lb(e){const t=await nb(e),n=t.eventManager;return n.onListen=pw.bind(null,t.syncEngine),n.onUnlisten=mw.bind(null,t.syncEngine),n}function ub(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Hw({next:s=>{t.enqueueAndForget((()=>Zv(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Nc(Rc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Nc(Rc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new rw(xf(n.path),s,{includeMetadataChanges:!0,J_:!0});return Jv(e,o)}(await lb(e),e.asyncQueue,t,n,r))),r.promise}function cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Hw({next:n=>{t.enqueueAndForget((()=>Zv(e,o))),n.fromCache&&"server"===r.source?i.reject(new Nc(Rc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new rw(n,s,{includeMetadataChanges:!0,J_:!0});return Jv(e,o)}(await lb(e),e.asyncQueue,t,n,r))),r.promise}function hb(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Wp().encode(e):e,function(e,t){return new Qw(e,t)}(function(e,t){if(e instanceof Uint8Array)return Gw(e,t);if(e instanceof ArrayBuffer)return Gw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,uv(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ac(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ac(e),r=fg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(aw(r));const i=new ow(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await Aw(e,o.ra,void 0),await function(e,t){const n=Ac(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return kc("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await ob(e),i,r)}))}function db(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const fb=new Map;function pb(e,t,n){if(!n)throw new Nc(Rc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function gb(e,t,n,r){if(!0===t&&!0===r)throw new Nc(Rc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function mb(e){if(!Jc.isDocumentKey(e))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yb(e){if(Jc.isDocumentKey(e))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vb(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Cc()}function wb(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nc(Rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vb(e);throw new Nc(Rc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function bb(e,t){if(t<=0)throw new Nc(Rc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class _b{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Nc(Rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Nc(Rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=db(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Nc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Nc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Nc(Rc.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sb{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Nc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Nc(Rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Oc;switch(e.type){case"firstParty":return new Vc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Nc(Rc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fb.get(e);t&&(Ic("ComponentProvider","Removing Datastore"),fb.delete(e),t.terminate())}(this),Promise.resolve()}}function Ib(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=wb(e,Sb))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=wc.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Nc(Rc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new wc(s)}e._authCredentials=new Lc(new Dc(t,n))}}class Eb{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Eb(this.firestore,e,this._query)}}class kb{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tb(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kb(this.firestore,e,this._key)}}class Tb extends Eb{constructor(e,t,n){super(e,t,xf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kb(this.firestore,null,new Jc(e))}withConverter(e){return new Tb(this.firestore,e,this._path)}}function Cb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),pb("collection","path",t),e instanceof Sb){const n=Yc.fromString(t,...r);return yb(n),new Tb(e,null,n)}{if(!(e instanceof kb||e instanceof Tb))throw new Nc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yc.fromString(t,...r));return yb(n),new Tb(e.firestore,null,n)}}function xb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),1===arguments.length&&(t=jc.newId()),pb("doc","path",t),e instanceof Sb){const n=Yc.fromString(t,...r);return mb(n),new kb(e,null,new Jc(n))}{if(!(e instanceof kb||e instanceof Tb))throw new Nc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yc.fromString(t,...r));return mb(n),new kb(e.firestore,e instanceof Tb?e.converter:null,new Jc(n))}}function Ab(e,t){return e=P(e),t=P(t),(e instanceof kb||e instanceof Tb)&&(t instanceof kb||t instanceof Tb)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Rb(e,t){return e=P(e),t=P(t),e instanceof Eb&&t instanceof Eb&&e.firestore===t.firestore&&Mf(e._query,t._query)&&e.converter===t.converter}class Nb{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new cv(this,"async_queue_retry"),this.iu=()=>{const e=lv();e&&Ic("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=lv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=lv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Pc;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!mh(e))throw e;Ic("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ec("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=Kv.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Cc()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function Pb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Db{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ob extends Sb{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Nb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mb(this),this._firestoreClient.terminate()}}function Lb(e){return e._firestoreClient||Mb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Mb(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new _d(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,db(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new $w(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Fb(e,t,n){const r=new Pc;return e.asyncQueue.enqueue((async()=>{try{await Jw(e,n),await Zw(e,t),r.resolve()}catch(e){const n=e;if(!eb(n))throw n;kc("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Vb(e){return function(e){const t=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ac(e);kv(n.remoteStore)||Ic("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ac(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=Gv(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await ob(e),t))),t.promise}(Lb(e=wb(e,Ob)))}function Ub(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await rb(e),n=await sb(e);return t.setNetworkEnabled(!0),function(e){const t=Ac(e);return t.C_.delete(0),yv(t)}(n)}))}(Lb(e=wb(e,Ob)))}function Bb(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await rb(e),n=await sb(e);return t.setNetworkEnabled(!1),async function(e){const t=Ac(e);t.C_.add(0),await vv(t),t.M_.set("Offline")}(n)}))}(Lb(e=wb(e,Ob)))}function zb(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ac(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await ib(e),t)))}(Lb(e=wb(e,Ob)),t).then((t=>t?new Eb(e,null,t.query):null))}function jb(e){if(e._initialized||e._terminated)throw new Nc(Rc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qb(fd.fromBase64String(e))}catch(e){throw new Nc(Rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qb(fd.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wb{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $c(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kb{constructor(e){this._methodName=e}}class Gb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nc(Rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nc(Rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qc(this._lat,e._lat)||qc(this._long,e._long)}}const Hb=/^__.*__$/;class Qb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ap(e,this.data,this.fieldMask,t,this.fieldTransforms):new xp(e,this.data,t,this.fieldTransforms)}}class Yb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ap(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cc()}}class $b{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new $b(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return y_(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Xb(this.Iu)&&Hb.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Jb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||uv(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new $b({Iu:e,methodName:t,gu:n,path:$c.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zb(e){const t=e._freezeSettings(),n=uv(e._databaseId);return new Jb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function e_(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);f_("Data must be an object, but it was:",o,r);const a=h_(r,o);let l,u;if(s.merge)l=new hd(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=p_(t,r,n);if(!o.contains(i))throw new Nc(Rc.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));v_(e,i)||e.push(i)}l=new hd(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Qb(new Wd(a),l,u)}class t_ extends Kb{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t_}}function n_(e,t,n){return new $b({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class r_ extends Kb{_toFieldTransform(e){return new vp(e.path,new cp)}isEqual(e){return e instanceof r_}}class i_ extends Kb{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=n_(this,e,!0),n=this.yu.map((e=>c_(e,t))),r=new hp(n);return new vp(e.path,r)}isEqual(e){return this===e}}class s_ extends Kb{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=n_(this,e,!0),n=this.yu.map((e=>c_(e,t))),r=new fp(n);return new vp(e.path,r)}isEqual(e){return this===e}}class o_ extends Kb{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new gp(e.serializer,sp(e.serializer,this.wu));return new vp(e.path,t)}isEqual(e){return this===e}}function a_(e,t,n,r){const i=e.pu(1,t,n);f_("Data must be an object, but it was:",i,r);const s=[],o=Wd.empty();rd(r,((e,r)=>{const a=m_(t,e,n);r=P(r);const l=i.Ru(a);if(r instanceof t_)s.push(a);else{const e=c_(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new hd(s);return new Yb(o,a,i.fieldTransforms)}function l_(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[p_(t,r,n)],l=[i];if(s.length%2!=0)throw new Nc(Rc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(p_(t,s[d])),l.push(s[d+1]);const u=[],c=Wd.empty();for(let d=a.length-1;d>=0;--d)if(!v_(u,a[d])){const e=a[d];let t=l[d];t=P(t);const n=o.Ru(e);if(t instanceof t_)u.push(e);else{const r=c_(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new hd(u);return new Yb(c,h,o.fieldTransforms)}function u_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return c_(n,e.pu(r?4:3,t))}function c_(e,t){if(d_(e=P(e)))return f_("Unsupported field value:",t,e),h_(e,t);if(e instanceof Kb)return function(e,t){if(!Xb(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=c_(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=P(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Gc.fromDate(e);return{timestampValue:cg(t.serializer,n)}}if(e instanceof Gc){const n=new Gc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cg(t.serializer,n)}}if(e instanceof Gb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qb)return{bytesValue:hg(t.serializer,e._byteString)};if(e instanceof kb){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:pg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(vb(e)))}(e,t)}function h_(e,t){const n={};return id(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rd(e,((e,r)=>{const i=c_(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function d_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gc||e instanceof Gb||e instanceof qb||e instanceof kb||e instanceof Kb)}function f_(e,t,n){if(!d_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=vb(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function p_(e,t,n){if((t=P(t))instanceof Wb)return t._internalPath;if("string"==typeof t)return m_(e,t);throw y_("Field path arguments must be of type string or ",e,!1,void 0,n)}const g_=new RegExp("[~\\*/\\[\\]]");function m_(e,t,n){if(t.search(g_)>=0)throw y_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Wb(...t.split("."))._internalPath}catch(co){throw y_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function y_(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Nc(Rc.INVALID_ARGUMENT,a+e+l)}function v_(e,t){return e.some((e=>e.isEqual(t)))}class w_{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new b_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(__("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class b_ extends w_{data(){return super.data()}}function __(e,t){return"string"==typeof t?m_(e,t):t instanceof Wb?t._internalPath:t._delegate._internalPath}function S_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nc(Rc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class E_ extends I_{}function k_(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof I_&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof C_)).length,n=e.filter((e=>e instanceof T_)).length;if(t>1||t>0&&n>0)throw new Nc(Rc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class T_ extends E_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new T_(e,t,n)}_apply(e){const t=this._parse(e);return L_(e._query,t),new Eb(e.firestore,e.converter,Of(e._query,t))}_parse(e){const t=Zb(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){O_(o,s);const t=[];for(const n of o)t.push(D_(r,e,n));a={arrayValue:{values:t}}}else a=D_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||O_(o,s),a=u_(n,t,o,"in"===s||"not-in"===s);return Zd.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class C_ extends I_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new C_(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ef.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)L_(n,i),n=Of(n,i)}(e._query,t),new Eb(e.firestore,e.converter,Of(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class x_ extends E_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new x_(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xd(t,n)}(e._query,this._field,this._direction);return new Eb(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Tf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class A_ extends E_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new A_(e,t,n)}_apply(e){return new Eb(e.firestore,e.converter,Lf(e._query,this._limit,this._limitType))}}class R_ extends E_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new R_(e,t,n)}_apply(e){const t=P_(e,this.type,this._docOrFields,this._inclusive);return new Eb(e.firestore,e.converter,function(e,t){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class N_ extends E_{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new N_(e,t,n)}_apply(e){const t=P_(e,this.type,this._docOrFields,this._inclusive);return new Eb(e.firestore,e.converter,function(e,t){return new Tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function P_(e,t,n,r){if(n[0]=P(n[0]),n[0]instanceof w_)return function(e,t,n,r,i){if(!r)throw new Nc(Rc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Nf(e))if(o.field.isKeyField())s.push(Pd(t,r.key));else{const e=r.data.field(o.field);if(vd(e))throw new Nc(Rc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Hd(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Zb(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Nc(Rc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Rf(e)&&-1!==s.indexOf("/"))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Yc.fromString(s));if(!Jc.isDocumentKey(n))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Jc(n);a.push(Pd(t,i))}else{const e=u_(n,r,s);a.push(e)}}return new Hd(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function D_(e,t,n){if("string"==typeof(n=P(n))){if(""===n)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rf(t)&&-1!==n.indexOf("/"))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Yc.fromString(n));if(!Jc.isDocumentKey(r))throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Pd(e,new Jc(r))}if(n instanceof kb)return Pd(e,n._key);throw new Nc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vb(n),"."))}function O_(e,t){if(!Array.isArray(e)||0===e.length)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function L_(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Nc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class M_{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return md(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cc()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return rd(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Gb(md(e.latitude),md(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const t=gd(e);return new Gc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yc.fromString(e);xc(Fg(n));const r=new Sd(n.get(1),n.get(3)),i=new Jc(n.popFirst(5));return r.isEqual(t)||Ec("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function F_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class V_ extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new qb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kb(this.firestore,null,t)}}class U_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B_ extends w_{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new z_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(__("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class z_ extends B_{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class j_{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new U_(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new z_(this._firestore,this._userDataWriter,n.key,n,new U_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nc(Rc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new z_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new U_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new z_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new U_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:q_(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function q_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cc()}}function W_(e,t){return e instanceof B_&&t instanceof B_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof j_&&t instanceof j_&&e._firestore===t._firestore&&Rb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class K_ extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new qb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kb(this.firestore,null,t)}}function G_(e){e=wb(e,kb);const t=wb(e.firestore,Ob),n=Lb(t),r=new K_(t);return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ac(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Nc(Rc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Gv(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await ib(e),t,n))),n.promise}(n,e._key).then((n=>new B_(t,r,e._key,n,new U_(null!==n&&n.hasLocalMutations,!0),e.converter)))}function H_(e){e=wb(e,Eb);const t=wb(e.firestore,Ob),n=Lb(t),r=new K_(t);return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Vy(e,t,!0),i=new cw(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Gv(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await ib(e),t,n))),n.promise}(n,e._query).then((n=>new j_(t,r,e,n)))}function Q_(e,t,n){e=wb(e,kb);const r=wb(e.firestore,Ob),i=F_(e.converter,t,n);return J_(r,[e_(Zb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bp.none())])}function Y_(e,t,n){e=wb(e,kb);const r=wb(e.firestore,Ob),i=Zb(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=P(t))||t instanceof Wb?l_(i,"updateDoc",e._key,t,n,a):a_(i,"updateDoc",e._key,t),J_(r,[s.toMutation(e._key,bp.exists(!0))])}function X_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=P(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Pb(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges};if(Pb(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof kb)h=wb(e.firestore,Ob),d=xf(e._key.path),c={next:t=>{n[l]&&n[l](Z_(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=wb(e,Eb);h=wb(t.firestore,Ob),d=t._query;const r=new K_(h);c={next:e=>{n[l]&&n[l](new j_(h,r,t,e))},error:n[l+1],complete:n[l+2]},S_(e._query)}return function(e,t,n,r){const i=new Hw(r),s=new rw(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Jv(await lb(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>Zv(await lb(e),s)))}}(Lb(h),d,u,c)}function $_(e,t){return function(e,t){const n=new Hw(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ac(e).q_.add(t),t.next()}(await lb(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ac(e).q_.delete(t)}(await lb(e),n)))}}(Lb(e=wb(e,Ob)),Pb(t)?t:{next:t})}function J_(e,t){return function(e,t){const n=new Pc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=zw(e);try{const e=await function(e,t){const n=Ac(e),r=Gc.now(),i=t.reduce(((e,t)=>e.add(t.key)),ep());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Kf(),l=ep();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Tp(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ap(e.key,t,Kd(t.value.mapValue),bp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Qf(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new sd(qc)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Aw(r,e.changes),await Pv(r.remoteStore)}catch(e){const t=Gv(e,"Failed to persist write");n.reject(t)}}(await ob(e),t,n))),n.promise}(Lb(e),t)}function Z_(e,t,n){const r=n.docs.get(t._key),i=new K_(e);return new B_(e,i,t._key,r,new U_(n.hasPendingWrites,n.fromCache),t.converter)}const eS={maxAttempts:5};class tS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Zb(e)}set(e,t,n){this._verifyNotCommitted();const r=nS(e,this._firestore),i=F_(r.converter,t,n),s=e_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,bp.none())),this}update(e,t,n){this._verifyNotCommitted();const r=nS(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=P(t))||t instanceof Wb?l_(this._dataReader,"WriteBatch.update",r._key,t,n,o):a_(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,bp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nS(e,this._firestore);return this._mutations=this._mutations.concat(new Dp(t._key,bp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Nc(Rc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nS(e,t){if((e=P(e)).firestore!==t)throw new Nc(Rc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class rS extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Zb(e)}get(e){const t=nS(e,this._firestore),n=new V_(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Cc();const r=e[0];if(r.isFoundDocument())return new w_(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new w_(this._firestore,n,t._key,null,t.converter);throw Cc()}))}set(e,t,n){const r=nS(e,this._firestore),i=F_(r.converter,t,n),s=e_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=nS(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=P(t))||t instanceof Wb?l_(this._dataReader,"Transaction.update",r._key,t,n,o):a_(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=nS(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nS(e,this._firestore),n=new K_(this._firestore);return super.get(e).then((e=>new B_(this._firestore,n,t._key,e._document,new U_(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bc=e}(Ie),ye(new D("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Ob(new Mc(e.getProvider("auth-internal")),new Bc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nc(Rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sd(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),xe(vc,"4.3.2",e),xe(vc,"4.3.2","esm2017")}();function iS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function sS(){if("undefined"===typeof Uint8Array)throw new Nc("unimplemented","Uint8Arrays are not available in this environment.")}function oS(){if("undefined"==typeof atob)throw new Nc("unimplemented","Blobs are unavailable in Firestore in this environment.")}class aS{constructor(e){this._delegate=e}static fromBase64String(e){return oS(),new aS(qb.fromBase64String(e))}static fromUint8Array(e){return sS(),new aS(qb.fromUint8Array(e))}toBase64(){return oS(),this._delegate.toBase64()}toUint8Array(){return sS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function lS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class uS{enableIndexedDbPersistence(e,t){return function(e,t){jb(e=wb(e,Ob));const n=Lb(e);if(n._uninitializedComponentsProvider)throw new Nc(Rc.FAILED_PRECONDITION,"SDK cache is already specified.");kc("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Kw;return Fb(n,i,new qw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){jb(e=wb(e,Ob));const t=Lb(e);if(t._uninitializedComponentsProvider)throw new Nc(Rc.FAILED_PRECONDITION,"SDK cache is already specified.");kc("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Kw;return Fb(t,r,new Ww(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Nc(Rc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pc;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!fh.D())return Promise.resolve();const t=e+"main";await fh.delete(t)}(Ty(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class cS{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Sd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ib(this._delegate,e,t,n)}enableNetwork(){return Ub(this._delegate)}disableNetwork(){return Bb(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,gb("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Vb(this._delegate)}onSnapshotsInSync(e){return $_(this._delegate,e)}get app(){if(!this._appCompat)throw new Nc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ES(this,Cb(this._delegate,e))}catch(t){throw mS(t,"collection()","Firestore.collection()")}}doc(e){try{return new gS(this,xb(this._delegate,e))}catch(t){throw mS(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _S(this,function(e,t){if(e=wb(e,Sb),pb("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nc(Rc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Eb(e,null,function(e){return new Tf(Yc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw mS(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=wb(e,Ob);const r=Object.assign(Object.assign({},eS),n);return function(e){if(e.maxAttempts<1)throw new Nc(Rc.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Pc;return e.asyncQueue.enqueueAndForget((async()=>{const i=await ab(e);new Xw(e.asyncQueue,i,n,t,r).run()})),r.promise}(Lb(e),(n=>t(new rS(e,n))),r)}(this._delegate,(t=>e(new dS(this,t))))}batch(){return Lb(this._delegate),new fS(new tS(this._delegate,(e=>J_(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Lb(e=wb(e,Ob)),r=new Db;return hb(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return zb(this._delegate,e).then((e=>e?new _S(this,e):null))}}class hS extends M_{constructor(e){super(),this.firestore=e}convertBytes(e){return new aS(new qb(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gS.forKey(t,this.firestore,null)}}class dS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new hS(e)}get(e){const t=kS(e);return this._delegate.get(t).then((e=>new wS(this._firestore,new B_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=kS(e);return n?(iS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=kS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=kS(e);return this._delegate.delete(t),this}}class fS{constructor(e){this._delegate=e}set(e,t,n){const r=kS(e);return n?(iS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=kS(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=kS(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pS{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new z_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bS(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=pS.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new pS(e,new hS(e),t),r.set(t,i)),i}}pS.INSTANCES=new WeakMap;class gS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hS(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Nc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new gS(t,new kb(t._delegate,n,new Jc(e)))}static forKey(e,t,n){return new gS(t,new kb(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ES(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ES(this.firestore,Cb(this._delegate,e))}catch(t){throw mS(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=P(e))instanceof kb&&Ab(this._delegate,e)}set(e,t){t=iS("DocumentReference.set",t);try{return t?Q_(this._delegate,e,t):Q_(this._delegate,e)}catch(n){throw mS(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Y_(this._delegate,e):Y_(this._delegate,e,t,...r)}catch(s){throw mS(s,"updateDoc()","DocumentReference.update()")}}delete(){return J_(wb((e=this._delegate).firestore,Ob),[new Dp(e._key,bp.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=yS(t),i=vS(t,(e=>new wS(this.firestore,new B_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return X_(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?G_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wb(e,kb);const t=wb(e.firestore,Ob);return ub(Lb(t),e._key,{source:"server"}).then((n=>Z_(t,e,n)))}(this._delegate):function(e){e=wb(e,kb);const t=wb(e.firestore,Ob);return ub(Lb(t),e._key).then((n=>Z_(t,e,n)))}(this._delegate),t.then((e=>new wS(this.firestore,new B_(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new gS(this.firestore,e?this._delegate.withConverter(pS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function mS(e,t,n){return e.message=e.message.replace(t,n),e}function yS(e){for(const t of e)if("object"===typeof t&&!lS(t))return t;return{}}function vS(e,t){var n,r;let i;return i=lS(e[0])?e[0]:lS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class wS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return W_(this._delegate,e._delegate)}}class bS extends wS{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Cc(),t}}class _S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new hS(e)}where(e,t,n){try{return new _S(this.firestore,k_(this._delegate,function(e,t,n){const r=t,i=__("where",e);return T_._create(i,r,n)}(e,t,n)))}catch(r){throw mS(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _S(this.firestore,k_(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=__("orderBy",e);return x_._create(n,t)}(e,t)))}catch(n){throw mS(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _S(this.firestore,k_(this._delegate,(bb("limit",t=e),A_._create("limit",t,"F"))))}catch(t){throw mS(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new _S(this.firestore,k_(this._delegate,(bb("limitToLast",t=e),A_._create("limitToLast",t,"L"))))}catch(t){throw mS(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new _S(this.firestore,k_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R_._create("startAt",t,!0)}(...arguments)))}catch(e){throw mS(e,"startAt()","Query.startAt()")}}startAfter(){try{return new _S(this.firestore,k_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R_._create("startAfter",t,!1)}(...arguments)))}catch(e){throw mS(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new _S(this.firestore,k_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N_._create("endBefore",t,!1)}(...arguments)))}catch(e){throw mS(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new _S(this.firestore,k_(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N_._create("endAt",t,!0)}(...arguments)))}catch(e){throw mS(e,"endAt()","Query.endAt()")}}isEqual(e){return Rb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?H_(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wb(e,Eb);const t=wb(e.firestore,Ob),n=Lb(t),r=new K_(t);return cb(n,e._query,{source:"server"}).then((n=>new j_(t,r,e,n)))}(this._delegate):function(e){e=wb(e,Eb);const t=wb(e.firestore,Ob),n=Lb(t),r=new K_(t);return S_(e._query),cb(n,e._query).then((n=>new j_(t,r,e,n)))}(this._delegate),t.then((e=>new IS(this.firestore,new j_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=yS(t),i=vS(t,(e=>new IS(this.firestore,new j_(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return X_(this._delegate,r,i)}withConverter(e){return new _S(this.firestore,e?this._delegate.withConverter(pS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class SS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _S(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new bS(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new SS(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new bS(this._firestore,n))}))}isEqual(e){return W_(this._delegate,e._delegate)}}class ES extends _S{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gS(this.firestore,e):null}doc(e){try{return new gS(this.firestore,void 0===e?xb(this._delegate):xb(this._delegate,e))}catch(t){throw mS(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=wb(e.firestore,Ob),r=xb(e),i=F_(e.converter,t);return J_(n,[e_(Zb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bp.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new gS(this.firestore,e)))}isEqual(e){return Ab(this._delegate,e._delegate)}withConverter(e){return new ES(this.firestore,e?this._delegate.withConverter(pS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function kS(e){return wb(e,kb)}class TS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Wb(...t)}static documentId(){return new TS($c.keyField().canonicalString())}isEqual(e){return(e=P(e))instanceof Wb&&this._delegate._internalPath.isEqual(e._internalPath)}}class CS{constructor(e){this._delegate=e}static serverTimestamp(){const e=new r_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new CS(e)}static delete(){const e=new t_("deleteField");return e._methodName="FieldValue.delete",new CS(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new i_("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new CS(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new s_("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new CS(e)}static increment(e){const t=new o_("increment",e);return t._methodName="FieldValue.increment",new CS(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xS={Firestore:cS,GeoPoint:Gb,Timestamp:Gc,Blob:aS,Transaction:dS,WriteBatch:fS,DocumentReference:gS,DocumentSnapshot:wS,Query:_S,QueryDocumentSnapshot:bS,QuerySnapshot:IS,CollectionReference:ES,FieldPath:TS,FieldValue:CS,setLogLevel:function(e){var t;t=e,_c.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new D("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xS)))}(e,((e,t)=>new cS(e,t,new uS))),e.registerVersion("@firebase/firestore-compat","0.3.22")}(He);He.initializeApp({apiKey:"AIzaSyDokxY8BazvUzVrEGPnwtKpYBb0j4lm9-k",authDomain:"expense-a5fc5.firebaseapp.com",projectId:"expense-a5fc5",storageBucket:"expense-a5fc5.appspot.com",messagingSenderId:"980585341806",appId:"1:980585341806:web:b8cf83be7d231a7a70177f",measurementId:"G-75SP32K6BR"});const AS=He.auth(),RS=He.firestore();function NS(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var PS={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const DS=e=>{var t=e.accessibilityRole,n=e.role||t;if(n){var r=PS[n];if(null!==r)return r||n}};var OS={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},LS={};const MS={isDisabled:e=>e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(e){if(void 0===e&&(e=LS),"label"===e.accessibilityRole)return"label";var t=DS(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return OS[t]}},propsToAriaRole:DS};function FS(e){return FS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(e)}function VS(e){var t=function(e,t){if("object"!==FS(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==FS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===FS(t)?t:String(t)}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?US(Object(n),!0).forEach((function(t){var r,i,s;r=e,i=t,s=n[t],(i=VS(i))in r?Object.defineProperty(r,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[i]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},jS=["ms","Moz","O","Webkit"];Object.keys(zS).forEach((e=>{jS.forEach((t=>{zS[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=zS[e]}))}));const qS=zS;const WS=e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(");var KS=n(214),GS=n.n(KS);const HS=e=>{if(void 0===e||null===e)return e;var t=GS()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0};const QS=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&WS(e))return e;var n=HS(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}};var YS={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function XS(e,t){var n=e;return null!=t&&qS[t]||"number"!==typeof e?null!=t&&YS[t]&&(n=QS(e)):n=e+"px",n}const $S=!("undefined"===typeof window||!window.document||!window.document.createElement);var JS={},ZS=!$S||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),eI='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',tI={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const nI=(e,t)=>{if(!e)return JS;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",eI);else if("fontFamily"===i)if(r.indexOf("System")>-1){var s=r.split(/,\s*/);s[s.indexOf("System")]=eI,n[i]=s.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)ZS?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var o=XS(e[i],i),a=tI[i];t&&"inset"===i?(null==e.insetInline&&(n.left=o,n.right=o),null==e.insetBlock&&(n.top=o,n.bottom=o)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=o,n.marginRight=o),null==e.marginBlock&&(n.marginTop=o,n.marginBottom=o)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=o,n.paddingRight=o),null==e.paddingBlock&&(n.paddingTop=o,n.paddingBottom=o)):a?a.forEach(((t,r)=>{null==e[t]&&(n[t]=o)})):n[i]=o}};for(var i in e)r();return n};const rI=e=>function(e,t){for(var n,r=e.length,i=t^r,s=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++s;switch(r){case 3:i^=(255&e.charCodeAt(s+2))<<16;case 2:i^=(255&e.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(s)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36);var iI=/[A-Z]/g,sI=/^ms-/,oI={};function aI(e){return"-"+e.toLowerCase()}const lI=function(e){if(e in oI)return oI[e];var t=e.replace(iI,aI);return oI[e]=sI.test(t)?"-"+t:t};var uI=n(134),cI=n(867),hI=n(42),dI=n(784),fI=n(297),pI=n(976),gI=n(939),mI=n(610),yI=n(576),vI=n(444),wI=["Webkit"],bI=["Webkit","ms"];const _I={plugins:[cI.Z,hI.Z,dI.Z,fI.Z,pI.Z,gI.Z,mI.Z,yI.Z,vI.Z],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:bI,textEmphasis:bI,textEmphasisStyle:bI,textEmphasisColor:bI,boxDecorationBreak:bI,clipPath:wI,maskImage:bI,maskMode:bI,maskRepeat:bI,maskPosition:bI,maskClip:bI,maskOrigin:bI,maskSize:bI,maskComposite:bI,mask:bI,maskBorderSource:bI,maskBorderMode:bI,maskBorderSlice:bI,maskBorderWidth:bI,maskBorderOutset:bI,maskBorderRepeat:bI,maskBorder:bI,maskType:bI,textDecorationStyle:wI,textDecorationSkip:wI,textDecorationLine:wI,textDecorationColor:wI,filter:wI,breakAfter:wI,breakBefore:wI,breakInside:wI,columnCount:wI,columnFill:wI,columnGap:wI,columnRule:wI,columnRuleColor:wI,columnRuleStyle:wI,columnRuleWidth:wI,columns:wI,columnSpan:wI,columnWidth:wI,backdropFilter:wI,hyphens:wI,flowInto:wI,flowFrom:wI,regionFragment:wI,textOrientation:wI,tabSize:["Moz"],fontKerning:wI,textSizeAdjust:wI}};const SI=(0,uI.Z)(_I);var II=["animationKeyframes"],EI=new Map,kI={},TI=1,CI=3,xI={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},AI="borderTopLeftRadius",RI="borderTopRightRadius",NI="borderBottomLeftRadius",PI="borderBottomRightRadius",DI="borderLeftColor",OI="borderLeftStyle",LI="borderLeftWidth",MI="borderRightColor",FI="borderRightStyle",VI="borderRightWidth",UI="right",BI="marginLeft",zI="marginRight",jI="paddingLeft",qI="paddingRight",WI="left",KI={[AI]:RI,[RI]:AI,[NI]:PI,[PI]:NI,[DI]:MI,[OI]:FI,[LI]:VI,[MI]:DI,[FI]:OI,[VI]:LI,[WI]:UI,[BI]:zI,[zI]:BI,[jI]:qI,[qI]:jI,[UI]:WI},GI={borderStartStartRadius:AI,borderStartEndRadius:RI,borderEndStartRadius:NI,borderEndEndRadius:PI,borderInlineStartColor:DI,borderInlineStartStyle:OI,borderInlineStartWidth:LI,borderInlineEndColor:MI,borderInlineEndStyle:FI,borderInlineEndWidth:VI,insetInlineEnd:UI,insetInlineStart:WI,marginInlineStart:BI,marginInlineEnd:zI,paddingInlineStart:jI,paddingInlineEnd:qI},HI=["clear","float","textAlign"];function QI(e){var t={$$css:!0},n=[];function r(e,t,r){var i,s=function(e,t){var n=XS(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),o=t+s,a=EI.get(o);if(null!=a)i=a[0],n.push(a[1]);else{i=XI("r",e,e!==t?o:s);var l=xI[e]||CI,u=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var s=$I(n),o=s[0],a=s[1],l=YI({animationName:o.join(",")});r.push(""+i+l,...a);break;case"placeholderTextColor":var u=YI({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+u,i+"::-moz-placeholder"+u,i+":-ms-input-placeholder"+u,i+"::placeholder"+u);break;case"pointerEvents":var c=n;if("auto"===n||"box-only"===n){if(c="auto!important","box-only"===n){var h=YI({pointerEvents:"none"});r.push(i+">*"+h)}}else if(("none"===n||"box-none"===n)&&(c="none!important","box-none"===n)){var d=YI({pointerEvents:"auto"});r.push(i+">*"+d)}var f=YI({pointerEvents:c});r.push(""+i+f);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var p=YI({scrollbarWidth:n});r.push(""+i+p);break;default:var g=YI({[t]:n});r.push(""+i+g)}return r}(i,t,r),c=[u,l];n.push(c),EI.set(o,[i,c])}return i}return Object.keys(e).sort().forEach((n=>{var i=e[n];if(null!=i){var s;if(HI.indexOf(n)>-1){var o=r(n,n,"left"),a=r(n,n,"right");"start"===i?s=[o,a]:"end"===i&&(s=[a,o])}var l=GI[n];if(null!=l){var u=r(n,l,i),c=r(n,KI[l],i);s=[u,c]}if("transitionProperty"===n){for(var h=Array.isArray(i)?i:[i],d=[],f=0;f<h.length;f++){var p=h[f];"string"===typeof p&&null!=GI[p]&&d.push(f)}if(d.length>0){var g=[...h],m=[...h];d.forEach((e=>{var t=g[e];if("string"===typeof t){var i=GI[t],o=KI[i];g[e]=i,m[e]=o;var a=r(n,n,g),l=r(n,n,m);s=[a,l]}}))}}null==s?s=r(n,n,i):t.$$css$localize=!0,t[n]=s}})),[t,n]}function YI(e){var t=SI(nI(e)),n=Object.keys(t).map((e=>{var n=t[e],r=lI(e);return Array.isArray(n)?n.map((e=>r+":"+e)).join(";"):r+":"+n})).sort().join(";");return"{"+n+";}"}function XI(e,t,n){return e+"-"+rI(t+n)}function $I(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((e=>{if("string"===typeof e)t.push(e);else{var r=function(e){var t=XI("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((t=>""+t+YI(e[t]))).join("")+"}",r=["-webkit-",""].map((e=>"@"+e+"keyframes "+t+n));return[t,r]}(e),i=r[0],s=r[1];t.push(i),n.push(...s)}})),[t,n]}function JI(e,t,n){if($S){var r=null!=t?t:document,i=r.getElementById(e);if(null==i)if((i=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&i.appendChild(document.createTextNode(n)),r instanceof ShadowRoot)r.insertBefore(i,r.firstChild);else{var s=r.head;s&&s.insertBefore(i,s.firstChild)}return i.sheet}return null}var ZI=Array.prototype.slice;function eE(e){var t,n={},r={};null!=e&&ZI.call(e.cssRules).forEach(((e,i)=>{var s=e.cssText;if(s.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(tE)[1])}(e),n[t]={start:i,rules:[s]};else{var o=iE(s);null!=o&&(r[o]=!0,n[t].rules.push(s))}}));function i(e,t,r){var i=nE(n),s=i.indexOf(t)+1,o=i[s],a=null!=o&&null!=n[o].start?n[o].start:e.cssRules.length,l=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,a);if(l){null==n[t].start&&(n[t].start=a);for(var u=s;u<i.length;u+=1){var c=i[u],h=n[c].start||0;n[c].start=h+1}}return l}var s={getTextContent:()=>nE(n).map((e=>{var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n"),insert(t,s){var o=Number(s);if(null==n[o]){var a=function(e){return'[stylesheet-group="'+e+'"]{}'}(o);n[o]={start:null,rules:[a]},null!=e&&i(e,o,a)}var l=iE(t);null!=l&&null==r[l]&&(r[l]=!0,n[o].rules.push(t),null!=e&&(i(e,o,t)||n[o].rules.pop()))}};return s}var tE=/["']/g;function nE(e){return Object.keys(e).map(Number).sort(((e,t)=>e>t?1:-1))}var rE=/\s*([,])\s*/g;function iE(e){var t=e.split("{")[0].trim();return""!==t?t.replace(rE,"$1"):null}var sE=new WeakMap,oE=[],aE=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];var lE=n(549);function uE(e,t){0}var cE={},hE={height:0,width:0},dE=e=>{var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+XS(n,t)+")"},fE=e=>e.map(dE).join(" "),pE={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},gE={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},mE=function(e,t){void 0===t&&(t={});var n=e||cE,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){uE();var i=(e=>{var t=e.shadowColor,n=e.shadowOffset,r=e.shadowOpacity,i=e.shadowRadius,s=n||hE,o=s.height,a=XS(s.width),l=XS(o),u=XS(i||0),c=QS(t||"black",r);if(null!=c&&null!=a&&null!=l&&null!=u)return a+" "+l+" "+u+" "+c})(n);if(null!=i&&null==r.boxShadow){var s=n.boxShadow,o=s?s+", "+i:i;r.boxShadow=o}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){uE();var a=(e=>{var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,i=n||hE,s=i.height,o=i.width,a=r||0,l=XS(o),u=XS(s),c=XS(a),h=XS(t,"textShadowColor");if(h&&(0!==s||0!==o||0!==a)&&null!=l&&null!=u&&null!=c)return l+" "+u+" "+c+" "+h})(n);if(null!=a&&null==r.textShadow){var l=n.textShadow,u=l?l+", "+a:a;r.textShadow=u}}for(var c in n)if(null==gE[c]&&"shadowColor"!==c&&"shadowOffset"!==c&&"shadowOpacity"!==c&&"shadowRadius"!==c&&"textShadowColor"!==c&&"textShadowOffset"!==c&&"textShadowRadius"!==c){var h=n[c],d=pE[c]||c,f=h;!Object.prototype.hasOwnProperty.call(n,c)||d!==c&&null!=n[d]||("aspectRatio"===d&&"number"===typeof f?r[d]=f.toString():"fontVariant"===d?(Array.isArray(f)&&f.length>0&&(uE(),f=f.join(" ")),r[d]=f):"textAlignVertical"===d?(uE(),null==n.verticalAlign&&(r.verticalAlign="center"===f?"middle":f)):"transform"===d?(Array.isArray(f)&&(uE(),f=fE(f)),r.transform=f):r[d]=f)}return r};var yE=n(111),vE=["writingDirection"],wE=new WeakMap,bE=function(e,t){var n;if(void 0===t&&(t="react-native-stylesheet"),$S){var r=null!=e?e.getRootNode():document;if(0===oE.length)n=eE(JI(t)),aE.forEach((e=>{n.insert(e,0)})),sE.set(r,oE.length),oE.push(n);else{var i=sE.get(r);if(null==i){var s=oE[0],o=null!=s?s.getTextContent():"";n=eE(JI(t,r,o)),sE.set(r,oE.length),oE.push(n)}else n=oE[i]}}else 0===oE.length?(n=eE(JI(t)),aE.forEach((e=>{n.insert(e,0)})),oE.push(n)):n=oE[0];return{getTextContent:()=>n.getTextContent(),id:t,insert(e,t){oE.forEach((n=>{n.insert(e,t)}))}}}(),_E={shadow:!0,textShadow:!0};function SE(e){e.forEach((e=>{var t=e[0],n=e[1];null!=bE&&t.forEach((e=>{bE.insert(e,n)}))}))}function IE(e,t){var n=function(e,t){var n,r={$$css:!0},i=[],s=e.animationKeyframes,o=NS(e,II),a=XI("css",t,JSON.stringify(e)),l="."+a;if(null!=s){var u=$I(s),c=u[0],h=u[1];n=c.join(","),i.push(...h)}var d=YI(BS(BS({},o),{},{animationName:n}));return i.push(""+l+d),r[a]=a,[r,[[i,TI]]]}(e,t),r=n[0];return SE(n[1]),r}var EE={position:"absolute",left:0,right:0,top:0,bottom:0},kE=TE({x:BS({},EE)}).x;function TE(e){return Object.keys(e).forEach((t=>{var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?IE(r,t.split("$raw")[0]):function(e){var t=QI(mE(e,_E)),n=t[0];return SE(t[1]),n}(r),wE.set(r,n))})),e}function CE(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,r=function(e,t){void 0===t&&(t={});var n=t,r=n.writingDirection,i=NS(n,vE),s="rtl"===r;return yE.D.factory({transform(e){var t=wE.get(e);return null!=t?(0,lE.j)(t,s):mE(e,BS(BS({},_E),i))}})(e)}(e,t);return Array.isArray(r)&&null!=r[1]&&(r[1]=function(e,t){var n=e||kI,r={},i={},s=function(){var e=n[o],s=o,a=e;if(!Object.prototype.hasOwnProperty.call(n,o)||null==e)return"continue";HI.indexOf(o)>-1&&("start"===e?a=t?"right":"left":"end"===e&&(a=t?"left":"right"));var l=GI[o];if(null!=l&&(s=t?KI[l]:l),"transitionProperty"===o){var u=Array.isArray(e)?e:[e];u.forEach(((e,n)=>{if("string"===typeof e){var r=GI[e];null!=r&&(u[n]=t?KI[r]:r,a=u.join(" "))}}))}r[s]||(i[s]=a),s===o&&(r[s]=!0)};for(var o in n)s();return nI(i,!0)}(r[1],n)),r}CE.absoluteFill=kE,CE.absoluteFillObject=EE,CE.create=TE,CE.compose=function(e,t){return[e,t]},CE.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},s=0;s<r.length;s++){var o=r[s];null!=o&&"object"===typeof o&&Object.assign(i,o)}return i},CE.getSheet=function(){return{id:bE.id,textContent:bE.getTextContent()}},CE.hairlineWidth=1,$S&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=CE.flatten);const xE=CE;var AE=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],RE={},NE=Object.prototype.hasOwnProperty,PE=Array.isArray,DE=/[A-Z]/g;function OE(e){return"-"+e.toLowerCase()}function LE(e){return PE(e)?e.join(" "):e}var ME=xE.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const FE=(e,t,n)=>{t||(t=RE);var r=t,i=r["aria-activedescendant"],s=r.accessibilityActiveDescendant,o=r["aria-atomic"],a=r.accessibilityAtomic,l=r["aria-autocomplete"],u=r.accessibilityAutoComplete,c=r["aria-busy"],h=r.accessibilityBusy,d=r["aria-checked"],f=r.accessibilityChecked,p=r["aria-colcount"],g=r.accessibilityColumnCount,m=r["aria-colindex"],y=r.accessibilityColumnIndex,v=r["aria-colspan"],w=r.accessibilityColumnSpan,b=r["aria-controls"],_=r.accessibilityControls,S=r["aria-current"],I=r.accessibilityCurrent,E=r["aria-describedby"],k=r.accessibilityDescribedBy,T=r["aria-details"],C=r.accessibilityDetails,x=r["aria-disabled"],A=r.accessibilityDisabled,R=r["aria-errormessage"],N=r.accessibilityErrorMessage,P=r["aria-expanded"],D=r.accessibilityExpanded,O=r["aria-flowto"],L=r.accessibilityFlowTo,M=r["aria-haspopup"],F=r.accessibilityHasPopup,V=r["aria-hidden"],U=r.accessibilityHidden,B=r["aria-invalid"],z=r.accessibilityInvalid,j=r["aria-keyshortcuts"],q=r.accessibilityKeyShortcuts,W=r["aria-label"],K=r.accessibilityLabel,G=r["aria-labelledby"],H=r.accessibilityLabelledBy,Q=r["aria-level"],Y=r.accessibilityLevel,X=r["aria-live"],$=r.accessibilityLiveRegion,J=r["aria-modal"],Z=r.accessibilityModal,ee=r["aria-multiline"],te=r.accessibilityMultiline,ne=r["aria-multiselectable"],re=r.accessibilityMultiSelectable,ie=r["aria-orientation"],se=r.accessibilityOrientation,oe=r["aria-owns"],ae=r.accessibilityOwns,le=r["aria-placeholder"],ue=r.accessibilityPlaceholder,ce=r["aria-posinset"],he=r.accessibilityPosInSet,de=r["aria-pressed"],fe=r.accessibilityPressed,pe=r["aria-readonly"],ge=r.accessibilityReadOnly,me=r["aria-required"],ye=r.accessibilityRequired,ve=(r.role,r.accessibilityRole),we=r["aria-roledescription"],be=r.accessibilityRoleDescription,_e=r["aria-rowcount"],Se=r.accessibilityRowCount,Ie=r["aria-rowindex"],Ee=r.accessibilityRowIndex,ke=r["aria-rowspan"],Te=r.accessibilityRowSpan,Ce=r["aria-selected"],xe=r.accessibilitySelected,Ae=r["aria-setsize"],Re=r.accessibilitySetSize,Ne=r["aria-sort"],Pe=r.accessibilitySort,De=r["aria-valuemax"],Oe=r.accessibilityValueMax,Le=r["aria-valuemin"],Me=r.accessibilityValueMin,Fe=r["aria-valuenow"],Ve=r.accessibilityValueNow,Ue=r["aria-valuetext"],Be=r.accessibilityValueText,ze=r.dataSet,je=r.focusable,qe=r.id,We=r.nativeID,Ke=r.pointerEvents,Ge=r.style,He=r.tabIndex,Qe=r.testID,Ye=NS(r,AE);null!=A&&uE();var Xe=x||A,$e=MS.propsToAriaRole(t);null!=s&&uE();var Je=null!=i?i:s;null!=Je&&(Ye["aria-activedescendant"]=Je),null!=a&&uE();var Ze=null!=o?i:a;null!=Ze&&(Ye["aria-atomic"]=Ze),null!=u&&uE();var et=null!=l?l:u;null!=et&&(Ye["aria-autocomplete"]=et),null!=h&&uE();var tt=null!=c?c:h;null!=tt&&(Ye["aria-busy"]=tt),null!=f&&uE();var nt=null!=d?d:f;null!=nt&&(Ye["aria-checked"]=nt),null!=g&&uE();var rt=null!=p?p:g;null!=rt&&(Ye["aria-colcount"]=rt),null!=y&&uE();var it=null!=m?m:y;null!=it&&(Ye["aria-colindex"]=it),null!=w&&uE();var st=null!=v?v:w;null!=st&&(Ye["aria-colspan"]=st),null!=_&&uE();var ot=null!=b?b:_;null!=ot&&(Ye["aria-controls"]=LE(ot)),null!=I&&uE();var at=null!=S?S:I;null!=at&&(Ye["aria-current"]=at),null!=k&&uE();var lt=null!=E?E:k;null!=lt&&(Ye["aria-describedby"]=LE(lt)),null!=C&&uE();var ut=null!=T?T:C;null!=ut&&(Ye["aria-details"]=ut),!0===Xe&&(Ye["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(Ye.disabled=!0)),null!=N&&uE();var ct=null!=R?R:N;null!=ct&&(Ye["aria-errormessage"]=ct),null!=D&&uE();var ht=null!=P?P:D;null!=ht&&(Ye["aria-expanded"]=ht),null!=L&&uE();var dt=null!=O?O:L;null!=dt&&(Ye["aria-flowto"]=LE(dt)),null!=F&&uE();var ft=null!=M?M:F;null!=ft&&(Ye["aria-haspopup"]=ft),null!=U&&uE();var pt=null!=V?V:U;!0===pt&&(Ye["aria-hidden"]=pt),null!=z&&uE();var gt=null!=B?B:z;null!=gt&&(Ye["aria-invalid"]=gt),null!=q&&uE();var mt=null!=j?j:q;null!=mt&&(Ye["aria-keyshortcuts"]=LE(mt)),null!=K&&uE();var yt=null!=W?W:K;null!=yt&&(Ye["aria-label"]=yt),null!=H&&uE();var vt=null!=G?G:H;null!=vt&&(Ye["aria-labelledby"]=LE(vt)),null!=Y&&uE();var wt=null!=Q?Q:Y;null!=wt&&(Ye["aria-level"]=wt),null!=$&&uE();var bt=null!=X?X:$;null!=bt&&(Ye["aria-live"]="none"===bt?"off":bt),null!=Z&&uE();var _t=null!=J?J:Z;null!=_t&&(Ye["aria-modal"]=_t),null!=te&&uE();var St=null!=ee?ee:te;null!=St&&(Ye["aria-multiline"]=St),null!=re&&uE();var It=null!=ne?ne:re;null!=It&&(Ye["aria-multiselectable"]=It),null!=se&&uE();var Et=null!=ie?ie:se;null!=Et&&(Ye["aria-orientation"]=Et),null!=ae&&uE();var kt=null!=oe?oe:ae;null!=kt&&(Ye["aria-owns"]=LE(kt)),null!=ue&&uE();var Tt=null!=le?le:ue;null!=Tt&&(Ye["aria-placeholder"]=Tt),null!=he&&uE();var Ct=null!=ce?ce:he;null!=Ct&&(Ye["aria-posinset"]=Ct),null!=fe&&uE();var xt=null!=de?de:fe;null!=xt&&(Ye["aria-pressed"]=xt),null!=ge&&uE();var At=null!=pe?pe:ge;null!=At&&(Ye["aria-readonly"]=At,"input"!==e&&"select"!==e&&"textarea"!==e||(Ye.readOnly=!0)),null!=ye&&uE();var Rt=null!=me?me:ye;null!=Rt&&(Ye["aria-required"]=Rt,"input"!==e&&"select"!==e&&"textarea"!==e||(Ye.required=ye)),null!=ve&&uE(),null!=$e&&(Ye.role="none"===$e?"presentation":$e),null!=be&&uE();var Nt=null!=we?we:be;null!=Nt&&(Ye["aria-roledescription"]=Nt),null!=Se&&uE();var Pt=null!=_e?_e:Se;null!=Pt&&(Ye["aria-rowcount"]=Pt),null!=Ee&&uE();var Dt=null!=Ie?Ie:Ee;null!=Dt&&(Ye["aria-rowindex"]=Dt),null!=Te&&uE();var Ot=null!=ke?ke:Te;null!=Ot&&(Ye["aria-rowspan"]=Ot),null!=xe&&uE();var Lt=null!=Ce?Ce:xe;null!=Lt&&(Ye["aria-selected"]=Lt),null!=Re&&uE();var Mt=null!=Ae?Ae:Re;null!=Mt&&(Ye["aria-setsize"]=Mt),null!=Pe&&uE();var Ft=null!=Ne?Ne:Pe;null!=Ft&&(Ye["aria-sort"]=Ft),null!=Oe&&uE();var Vt=null!=De?De:Oe;null!=Vt&&(Ye["aria-valuemax"]=Vt),null!=Me&&uE();var Ut=null!=Le?Le:Me;null!=Ut&&(Ye["aria-valuemin"]=Ut),null!=Ve&&uE();var Bt=null!=Fe?Fe:Ve;null!=Bt&&(Ye["aria-valuenow"]=Bt),null!=Be&&uE();var zt=null!=Ue?Ue:Be;if(null!=zt&&(Ye["aria-valuetext"]=zt),null!=ze)for(var jt in ze)if(NE.call(ze,jt)){var qt=jt.replace(DE,OE),Wt=ze[jt];null!=Wt&&(Ye["data-"+qt]=Wt)}0===He||"0"===He||-1===He||"-1"===He?Ye.tabIndex=He:(null!=je&&uE(),!1===je&&(Ye.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==je&&!0!==A||(Ye.tabIndex="-1"):"button"===$e||"checkbox"===$e||"link"===$e||"radio"===$e||"textbox"===$e||"switch"===$e?!1!==je&&(Ye.tabIndex="0"):!0===je&&(Ye.tabIndex="0")),null!=Ke&&uE();var Kt=xE([Ge,Ke&&ME[Ke]],BS({writingDirection:"ltr"},n)),Gt=Kt[0],Ht=Kt[1];Gt&&(Ye.className=Gt),Ht&&(Ye.style=Ht),null!=We&&uE();var Qt=null!=qe?qe:We;return null!=Qt&&(Ye.id=Qt),null!=Qe&&(Ye["data-testid"]=Qe),null==Ye.type&&"button"===e&&(Ye.type="button"),Ye};var VE=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),UE=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),BE=new Map;var zE={direction:"ltr",locale:"en-US"},jE=(0,t.createContext)(zE);function qE(e){return function(e){var t=BE.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=VE.has(r)}else{var i=e.split("-")[0];n=UE.has(i)}return BE.set(e,n),n}(e)?"rtl":"ltr"}function WE(e){var n=e.direction,r=e.locale,i=e.children;return n||r?t.createElement(jE.Provider,{children:i,value:{direction:r?qE(r):n,locale:r}}):i}const KE=(e,n,r)=>{var i;e&&e.constructor===String&&(i=MS.propsToAccessibilityComponent(n));var s=i||e,o=FE(s,n,r),a=t.createElement(s,o);return o.dir?t.createElement(WE,{children:a,direction:o.dir,locale:o.lang}):a};const GE=$S?t.useLayoutEffect:t.useEffect;var HE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},QE=["ms","Moz","O","Webkit"];Object.keys(HE).forEach((e=>{QE.forEach((t=>{HE[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=HE[e]}))}));const YE=HE;const XE=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||YE.hasOwnProperty(e)&&YE[e]?(""+t).trim():t+"px"};const $E=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),s=XE(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,s):n[r]=s}};var JE=e=>{var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},ZE=(e,t,n)=>{var r=t||e&&e.parentNode;e&&r&&setTimeout((()=>{if(e.isConnected&&r.isConnected){var t=JE(r),i=JE(e),s=i.height,o=i.left,a=i.top,l=i.width,u=o-t.left,c=a-t.top;n(u,c,l,s,o,a)}}),0)},ek={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},tk={blur(e){try{e.blur()}catch(t){}},focus(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==ek[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure(e,t){ZE(e,null,t)},measureInWindow(e,t){e&&setTimeout((()=>{var n=JE(e),r=n.height,i=n.left,s=n.top,o=n.width;t(i,s,o,r)}),0)},measureLayout(e,t,n,r){ZE(e,t,r)},updateView(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":$E(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}};const nk=tk;var rk="__reactLayoutHandler",ik=null;function sk(e,t){var n=($S&&"undefined"!==typeof window.ResizeObserver&&null==ik&&(ik=new window.ResizeObserver((function(e){e.forEach((e=>{var t=e.target,n=t[rk];"function"===typeof n&&nk.measure(t,((t,r,i,s,o,a)=>{var l={nativeEvent:{layout:{x:t,y:r,width:i,height:s,left:o,top:a}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),n(l)}))}))}))),ik);GE((()=>{var n=e.current;null!=n&&(n[rk]=t)}),[e,t]),GE((()=>{var t=e.current;return null!=t&&null!=n&&("function"===typeof t[rk]?n.observe(t):n.unobserve(t)),()=>{null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}function ok(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((t=>{null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}(...n)),[...n])}var ak="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function lk(e){e.pointerEvents,e.style;var n=function(e){var n=t.useRef(ak);return n.current===ak&&(n.current=e()),n.current}((()=>e=>{null!=e&&(e.measure=t=>nk.measure(e,t),e.measureLayout=(t,n,r)=>nk.measureLayout(e,t,r,n),e.measureInWindow=t=>nk.measureInWindow(e,t))}));return n}const uk=e=>{if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()};var ck=()=>{},hk={},dk=[];function fk(e){return e>20?e%20:e}function pk(e,t){var n,r,i,s=!1,o=e.changedTouches,a=e.type,l=!0===e.metaKey,u=!0===e.shiftKey,c=o&&o[0].force||0,h=fk(o&&o[0].identifier||0),d=o&&o[0].clientX||e.clientX,f=o&&o[0].clientY||e.clientY,p=o&&o[0].pageX||e.pageX,g=o&&o[0].pageY||e.pageY,m="function"===typeof e.preventDefault?e.preventDefault.bind(e):ck,y=e.timeStamp;function v(e){return Array.prototype.slice.call(e).map((e=>({force:e.force,identifier:fk(e.identifier),get locationX(){return _(e.clientX)},get locationY(){return S(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:y})))}if(null!=o)r=v(o),i=v(e.touches);else{var w=[{force:c,identifier:h,get locationX(){return _(d)},get locationY(){return S(f)},pageX:p,pageY:g,target:e.target,timestamp:y}];r=w,i="mouseup"===a||"dragstart"===a?dk:w}var b={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:hk,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>s,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:l,shiftKey:u,changedTouches:r,force:c,identifier:h,get locationX(){return _(d)},get locationY(){return S(f)},pageX:p,pageY:g,target:e.target,timestamp:y,touches:i,type:a},persist:ck,preventDefault:m,stopPropagation(){s=!0},target:e.target,timeStamp:y,touchHistory:t.touchHistory};function _(e){if(n=n||uk(b.currentTarget))return e-n.left}function S(e){if(n=n||uk(b.currentTarget))return e-n.top}return b}var gk="mousedown",mk="mousemove",yk="mouseup",vk="dragstart",wk="touchstart",bk="touchmove",_k="touchend",Sk="touchcancel",Ik="scroll",Ek="select",kk="selectionchange";function Tk(e){return e===wk||e===gk}function Ck(e){return e===bk||e===mk}function xk(e){return e===_k||e===yk||Ak(e)}function Ak(e){return e===Sk||e===vk}var Rk="__reactResponderId";function Nk(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function Pk(e){return null!=e?e[Rk]:null}function Dk(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?Nk(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():Nk(e.target)}(e),i=0;i<r.length;i++){var s=r[i],o=Pk(s);null!=o&&(t.push(o),n.push(s))}return{idPath:t,nodePath:n}}function Ok(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}var Lk=!1,Mk=20;function Fk(e){return e.timeStamp||e.timestamp}function Vk(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),Lk&&t>Mk&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,Mk),t}function Uk(e,t){var n=Vk(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=Fk(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=Fk(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=Fk(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:Fk(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:Fk(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:Fk(e)}}(e),t.mostRecentTimeStamp=Fk(e)}function Bk(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:Fk(e)})}function zk(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,Mk));return t.length>Mk&&(n+=" (original size: "+t.length+")"),n}var jk={},qk=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],Wk=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],Kk={touchstart:qk,mousedown:qk,touchmove:Wk,mousemove:Wk,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},Gk={id:null,idPath:null,node:null},Hk=new Map,Qk=!1,Yk=0,Xk={id:null,node:null,idPath:null},$k=new class{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var n=this._touchHistory;if(Ck(e))t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[Vk(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Fk(e),t.mostRecentTimeStamp=Fk(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+Bk(e)+"\n","Touch Bank: "+zk(t))}(e,n)));else if(Tk(e))t.changedTouches.forEach((e=>Uk(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(xk(e)&&(t.changedTouches.forEach((e=>function(e,t){var n=t.touchBank[Vk(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=Fk(e),t.mostRecentTimeStamp=Fk(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+Bk(e)+"\n","Touch Bank: "+zk(t))}(e,n))),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches)){for(var r=n.touchBank,i=0;i<r.length;i++){var s=r[i];if(null!=s&&s.touchActive){n.indexOfSingleActiveTouch=i;break}}if(Lk){var o=r[n.indexOfSingleActiveTouch];null!=o&&o.touchActive||console.error("Cannot find single active touch.")}}}get touchHistory(){return this._touchHistory}};function Jk(e){Xk=e}function Zk(e){var t=Hk.get(e);return null!=t?t:jk}function eT(e){var t=e.type,n=e.target;if("touchstart"===t&&(Qk=!0),("touchmove"===t||Yk>1)&&(Qk=!1),!("mousedown"===t&&Qk||"mousemove"===t&&Qk||"mousemove"===t&&Yk<1))if(Qk&&"mouseup"===t)0===Yk&&(Qk=!1);else{var r=Tk(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,s=e.type,o=!1===t&&!1===i;return!!("touchstart"===s||"touchmove"===s||"mousedown"===s&&(0===n||1===r)&&o||"mousemove"===s&&1===r&&o)}(e),i=Ck(t),s=xk(t),o=function(e){return e===Ik}(t),a=function(e){return e===Ek||e===kk}(t),l=pk(e,$k);(r||i||s)&&(e.touches?Yk=e.touches.length:r?Yk=1:s&&(Yk=0),$k.recordTouchTrack(t,l.nativeEvent));var u,c=Dk(e),h=!1;if(r||i||o&&Yk>0){var d=Xk.idPath,f=c.idPath;if(null!=d&&null!=f){var p=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],s=0,o=t[0],a=0;n-r>0&&(i=e[s=n-r],n=r),r-n>0&&(o=t[a=r-n],r=n);for(var l=n;l--;){if(i===o)return i;i=e[s++],o=t[a++]}return null}(d,f);if(null!=p){var g=f.indexOf(p)+(p===Xk.id?1:0);c={idPath:f.slice(g),nodePath:c.nodePath.slice(g)}}else c=null}null!=c&&(u=function(e,t,n){var r=Kk[t.type];if(null!=r){for(var i=e.idPath,s=e.nodePath,o=r[0],a=r[1],l=r[2].bubbles,u=function(e,t,r){var s=Zk(e)[r];if(null!=s&&(n.currentTarget=t,!0===s(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},c=i.length-1;c>=0;c--){var h=u(i[c],s[c],o);if(null!=h)return h;if(!0===n.isPropagationStopped())return}if(l)for(var d=0;d<i.length;d++){var f=u(i[d],s[d],a);if(null!=f)return f;if(!0===n.isPropagationStopped())return}else{var p=i[0],g=s[0];if(t.target===g)return u(p,g,a)}}}(c,e,l),null!=u&&(!function(e,t){var n=Xk,r=n.id,i=n.node,s=t.id,o=t.node,a=Zk(s),l=a.onResponderGrant,u=a.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=o,null==r)null!=l&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Jk(t);else{var c=Zk(r),h=c.onResponderTerminate,d=c.onResponderTerminationRequest,f=!0;null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===d(e)&&(f=!1)),f?(null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",h(e)),null!=l&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",l(e)),Jk(t)):null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderReject",u(e))}}(l,u),h=!0))}if(null!=Xk.id&&null!=Xk.node){var m=Xk,y=m.id,v=m.node,w=Zk(y),b=w.onResponderStart,_=w.onResponderMove,S=w.onResponderEnd,I=w.onResponderRelease,E=w.onResponderTerminate,k=w.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=v,r)null!=b&&(l.dispatchConfig.registrationName="onResponderStart",b(l));else if(i)null!=_&&(l.dispatchConfig.registrationName="onResponderMove",_(l));else{var T=Ak(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(v)&&e.relatedTarget!==v||o&&0===Yk||o&&n.contains(v)&&n!==v||a&&Ok(e),C=s&&!T&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(v,e.touches);if(s&&null!=S&&(l.dispatchConfig.registrationName="onResponderEnd",S(l)),C&&(null!=I&&(l.dispatchConfig.registrationName="onResponderRelease",I(l)),Jk(Gk)),T){var x=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(h?x=!1:null!=k&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",!1===k(l)&&(x=!1))),x&&(null!=E&&(l.dispatchConfig.registrationName="onResponderTerminate",E(l)),Jk(Gk),Qk=!1,Yk=0)}}}}}var tT=["blur","scroll"],nT=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function rT(e,t,n){!function(e,t){null!=e&&(e[Rk]=t)}(t,e),Hk.set(e,n)}function iT(e){Xk.id===e&&function(){var e=Xk,t=e.id,n=e.node;if(null!=t&&null!=n){var r=Zk(t).onResponderTerminate;if(null!=r){var i=pk({},$k);i.currentTarget=n,r(i)}Jk(Gk)}Qk=!1,Yk=0}(),Hk.has(e)&&Hk.delete(e)}var sT={},oT=0;function aT(e,n){void 0===n&&(n=sT);var r=function(e){var n=t.useRef(null);return null==n.current&&(n.current=e()),n.current}((()=>oT++)),i=t.useRef(!1);t.useEffect((()=>($S&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",eT),nT.forEach((e=>{document.addEventListener(e,eT)})),tT.forEach((e=>{document.addEventListener(e,eT,!0)})),window.__reactResponderSystemActive=!0),()=>{iT(r)})),[r]),t.useEffect((()=>{var t=n,s=t.onMoveShouldSetResponder,o=t.onMoveShouldSetResponderCapture,a=t.onScrollShouldSetResponder,l=t.onScrollShouldSetResponderCapture,u=t.onSelectionChangeShouldSetResponder,c=t.onSelectionChangeShouldSetResponderCapture,h=t.onStartShouldSetResponder,d=t.onStartShouldSetResponderCapture,f=null!=s||null!=o||null!=a||null!=l||null!=u||null!=c||null!=h||null!=d,p=e.current;f?(rT(r,p,n),i.current=!0):i.current&&(iT(r),i.current=!1)}),[n,e,r]),t.useDebugValue({isResponder:e.current===Xk.node}),t.useDebugValue(n)}const lT=(0,t.createContext)(!1);var uT=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],cT=Object.assign({},{children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},{"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},{onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},{onBlur:!0,onFocus:!0},{onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},{onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},{onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},{style:!0},{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),hT=t.forwardRef(((e,n)=>{var r=e.hrefAttrs,i=e.onLayout,s=e.onMoveShouldSetResponder,o=e.onMoveShouldSetResponderCapture,a=e.onResponderEnd,l=e.onResponderGrant,u=e.onResponderMove,c=e.onResponderReject,h=e.onResponderRelease,d=e.onResponderStart,f=e.onResponderTerminate,p=e.onResponderTerminationRequest,g=e.onScrollShouldSetResponder,m=e.onScrollShouldSetResponderCapture,y=e.onSelectionChangeShouldSetResponder,v=e.onSelectionChangeShouldSetResponderCapture,w=e.onStartShouldSetResponder,b=e.onStartShouldSetResponderCapture,_=NS(e,uT);var S=t.useContext(lT),I=t.useRef(null),E=(0,t.useContext)(jE).direction;sk(I,i),aT(I,{onMoveShouldSetResponder:s,onMoveShouldSetResponderCapture:o,onResponderEnd:a,onResponderGrant:l,onResponderMove:u,onResponderReject:c,onResponderRelease:h,onResponderStart:d,onResponderTerminate:f,onResponderTerminationRequest:p,onScrollShouldSetResponder:g,onScrollShouldSetResponderCapture:m,onSelectionChangeShouldSetResponder:y,onSelectionChangeShouldSetResponderCapture:v,onStartShouldSetResponder:w,onStartShouldSetResponderCapture:b});var k="div",T=null!=e.lang?qE(e.lang):null,C=e.dir||T,x=C||E,A=(e=>function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}(e,cT))(_);if(A.dir=C,A.style=[dT.view$raw,S&&dT.inline,e.style],null!=e.href&&(k="a",null!=r)){var R=r.download,N=r.rel,P=r.target;null!=R&&(A.download=R),null!=N&&(A.rel=N),"string"===typeof P&&(A.target="_"!==P.charAt(0)?"_"+P:P)}var D=ok(I,lk(A),n);return A.ref=D,KE(k,A,{writingDirection:x})}));hT.displayName="View";var dT=xE.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const fT=hT;var pT=n(184);const gT=xE.create({container:{alignItems:"center",justifyContent:"center",backgroundColor:"beige",flex:1},header:{flex:1,fontSize:"40px",marginLeft:"80px"},inputBox:{marginRight:"5px"},button:{marginRight:"5px"}}),mT=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)("");return(0,pT.jsx)(fT,{style:gT.container,children:(0,pT.jsxs)("div",{children:[(0,pT.jsx)("h2",{style:gT.header,children:"Expense Tracker"}),(0,pT.jsx)("input",{style:gT.inputBox,type:"email",placeholder:"Email",value:e,onChange:e=>n(e.target.value)}),(0,pT.jsx)("input",{style:gT.inputBox,type:"password",placeholder:"Password",value:r,onChange:e=>i(e.target.value)}),(0,pT.jsx)("button",{onClick:async()=>{try{await AS.signInWithEmailAndPassword(e,r)}catch(t){console.error("Error signing in:",t.message)}},style:gT.button,children:"Sign In"}),(0,pT.jsx)("button",{onClick:async()=>{try{await AS.createUserWithEmailAndPassword(e,r)}catch(t){console.error("Error signing up:",t.message)}},style:gT.button,children:"Sign Up"})]})})},yT=e=>{let{user:n}=e;const[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)("");(0,t.useEffect)((()=>{const e=RS.collection("expenses").doc(n.uid).onSnapshot((e=>{e.exists?i(e.data().expenses||[]):RS.collection("expenses").doc(n.uid).set({expenses:[]})}));return()=>{e()}}),[n]);return(0,pT.jsxs)("div",{children:[(0,pT.jsxs)("h2",{children:["Welcome, ",n.email]}),(0,pT.jsx)("button",{onClick:()=>{AS.signOut()},children:"Sign Out"}),(0,pT.jsx)("ul",{children:r.map(((e,t)=>(0,pT.jsx)("li",{children:e},t)))}),(0,pT.jsx)("input",{type:"text",placeholder:"Add expense",value:s,onChange:e=>o(e.target.value)}),(0,pT.jsx)("button",{onClick:()=>{if(""!==s.trim()){const e=[...r,s];RS.collection("expenses").doc(n.uid).update({expenses:e}),o("")}},children:"Add Expense"})]})};const vT=xE.create({container:{alignItems:"center",justifyContent:"space-around",backgroundColor:"beige",height:"800px",padding:"40px"}}),wT=function(){const[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const e=AS.onAuthStateChanged((e=>{n(e)}));return()=>{e()}}),[]),(0,pT.jsx)("div",{className:"App",style:vT.container,children:e?(0,pT.jsx)(yT,{user:e}):(0,pT.jsx)(mT,{})})},bT=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,pT.jsx)(t.StrictMode,{children:(0,pT.jsx)(wT,{})})),bT()})()})();
//# sourceMappingURL=main.9ca68dda.js.map